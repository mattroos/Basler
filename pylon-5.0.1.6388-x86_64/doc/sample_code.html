<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Pylon: Programmer&#39;s Guide and API Reference for pylon for Linux</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="modified_doxygen-linux.css" rel="stylesheet" type="text/css"/>
<div><img src="Banner_PG.png" /></div>
</head>
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Programmer's Guide and API Reference for pylon for Linux</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Sample Code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a class="el" href="sample_code.html#include_files_samples">Include Files Used by Samples</a> </li>
<li><a class="el" href="sample_code.html#sample_DeviceRemovalHandling">DeviceRemovalHandling</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab">Grab</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_CameraEvents">Grab_CameraEvents</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_CameraEvents_Usb">Grab_CameraEvents_Usb</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_ChunkImage">Grab_ChunkImage</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_MultiCast">Grab_MultiCast</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_MultipleCameras">Grab_MultipleCameras</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_Strategies">Grab_Strategies</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingActionCommand">Grab_UsingActionCommand</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingBufferFactory">Grab_UsingBufferFactory</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingExposureEndEvent">Grab_UsingExposureEndEvent</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingExposureEndEvent_Usb">Grab_UsingExposureEndEvent_Usb</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingGrabLoopThread">Grab_UsingGrabLoopThread</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingSequencer">Grab_UsingSequencer</a> </li>
<li><a class="el" href="sample_code.html#sample_Grab_UsingSequencer_Usb">Grab_UsingSequencer_Usb</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_AutoFunctions">ParametrizeCamera_AutoFunctions</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_AutoFunctions_Usb">ParametrizeCamera_AutoFunctions_Usb</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_Configurations">ParametrizeCamera_Configurations</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_GenericParameterAccess">ParametrizeCamera_GenericParameterAccess</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_LoadAndSave">ParametrizeCamera_LoadAndSave</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_LookupTable">ParametrizeCamera_LookupTable</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_NativeParameterAccess">ParametrizeCamera_NativeParameterAccess</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_Shading">ParametrizeCamera_Shading</a> </li>
<li><a class="el" href="sample_code.html#sample_ParametrizeCamera_UserSets">ParametrizeCamera_UserSets</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_Image">Utility_Image</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_ImageFormatConverter">Utility_ImageFormatConverter</a> </li>
<li><a class="el" href="sample_code.html#sample_Utility_ImageLoadAndSave">Utility_ImageLoadAndSave</a></li>
</ul>
<p>The following sections list the code samples that are part of the pylon SDK.</p>
<p>The pylon samples can be found under &lt;SDK ROOT&gt;\Samples. There is a GNU make file available for each sample.</p>
<h1><a class="anchor" id="include_files_samples"></a>
Include Files Used by Samples</h1>
<p>The following include files are used by the samples shown below.</p>
<h2><a class="anchor" id="sample_include_CameraEventPrinter"></a>
CameraEventPrinter.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains a Camera Event Handler that prints a message for each event method call.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef INCLUDED_CAMERAEVENTPRINTER_H_4683453</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_CAMERAEVENTPRINTER_H_4683453</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_camera_event_handler_8h.html">pylon/CameraEventHandler.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>Pylon</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>CInstantCamera;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">class </span>CCameraEventPrinter : <span class="keyword">public</span> CCameraEventHandler</div>
<div class="line">    {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( CInstantCamera&amp; camera, intptr_t userProvidedId, GenApi::INode* pNode)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnCameraEvent event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;User provided ID: &quot;</span> &lt;&lt; userProvidedId &lt;&lt; std::endl;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Event data node name: &quot;</span> &lt;&lt; pNode-&gt;GetName() &lt;&lt; std::endl;</div>
<div class="line">            <a class="code" href="class_gen_api_1_1_c_pointer.html">GenApi::CValuePtr</a> ptrValue( pNode );</div>
<div class="line">            <span class="keywordflow">if</span> ( ptrValue.IsValid() )</div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Event node data: &quot;</span> &lt;&lt; ptrValue-&gt;ToString() &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">            std::cout &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_CAMERAEVENTPRINTER_H_4683453 */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><h2><a class="anchor" id="sample_include_ConfigurationEventPrinter"></a>
ConfigurationEventPrinter.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains a Configuration Event Handler that prints a message for each event method call.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef INCLUDED_CONFIGURATIONEVENTPRINTER_H_663006</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_CONFIGURATIONEVENTPRINTER_H_663006</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_configuration_event_handler_8h.html">pylon/ConfigurationEventHandler.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>Pylon</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>CInstantCamera;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">class </span>CConfigurationEventPrinter : <span class="keyword">public</span> CConfigurationEventHandler</div>
<div class="line">    {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keywordtype">void</span> OnAttach( CInstantCamera&amp; <span class="comment">/*camera*/</span>)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnAttach event&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnAttached( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnAttached event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnOpen( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnOpen event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnOpened( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnOpened event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnGrabStart( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStart event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnGrabStarted( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStarted event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnGrabStop( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStop event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnGrabStopped( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabStopped event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnClose( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnClose event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnClosed( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnClosed event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnDestroy( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDestroy event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnDestroyed( CInstantCamera&amp; <span class="comment">/*camera*/</span>)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDestroyed event&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnDetach( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDetach event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnDetached( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnDetached event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnGrabError( CInstantCamera&amp; camera, <span class="keyword">const</span> <a class="code" href="namespace_pylon.html#a243b4b164b22d387ffd02a9ed20f15b9">String_t</a> errorMessage)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnGrabError event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Error Message: &quot;</span> &lt;&lt; errorMessage  &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">void</span> OnCameraDeviceRemoved( CInstantCamera&amp; camera)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnCameraDeviceRemoved event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_CONFIGURATIONEVENTPRINTER_H_663006 */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><h2><a class="anchor" id="sample_include_ImageEventPrinter"></a>
ImageEventPrinter.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains an Image Event Handler that prints a message for each event method call.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef INCLUDED_IMAGEEVENTPRINTER_H_7884943</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_IMAGEEVENTPRINTER_H_7884943</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_image_event_handler_8h.html">pylon/ImageEventHandler.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_grab_result_ptr_8h.html">pylon/GrabResultPtr.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>Pylon</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>CInstantCamera;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">class </span>CImageEventPrinter : <span class="keyword">public</span> CImageEventHandler</div>
<div class="line">    {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line"></div>
<div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImagesSkipped( CInstantCamera&amp; camera, <span class="keywordtype">size_t</span> countOfSkippedImages)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnImagesSkipped event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line">            std::cout &lt;&lt; countOfSkippedImages  &lt;&lt; <span class="stringliteral">&quot; images have been skipped.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            std::cout &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( CInstantCamera&amp; camera, <span class="keyword">const</span> CGrabResultPtr&amp; ptrGrabResult)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;OnImageGrabbed event for device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Image grabbed successfully?</span></div>
<div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;GrabSucceeded())</div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetWidth() &lt;&lt; std::endl;</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetHeight() &lt;&lt; std::endl;</div>
<div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;GetBuffer();</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; std::endl;</div>
<div class="line">                std::cout &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                std::cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetErrorCode() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetErrorDescription() &lt;&lt; std::endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_IMAGEEVENTPRINTER_H_7884943 */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><h2><a class="anchor" id="sample_include_PixelFormatAndAoiConfiguration"></a>
PixelFormatAndAoiConfiguration.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains a configuration that sets pixel data format and Image AOI.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef INCLUDED_PIXELFORMATANDAOICONFIGURATION_H_00104928</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_PIXELFORMATANDAOICONFIGURATION_H_00104928</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_configuration_event_handler_8h.html">pylon/ConfigurationEventHandler.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>Pylon</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>CInstantCamera;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">class </span>CPixelFormatAndAoiConfiguration : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_configuration_event_handler.html">Pylon::CConfigurationEventHandler</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code" href="class_pylon_1_1_c_configuration_event_handler.html#ae1824c64953412d5fecb1456a6396113">OnOpened</a>( <a class="code" href="class_pylon_1_1_c_instant_camera.html">Pylon::CInstantCamera</a>&amp; camera)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Allow all the names in the namespace GenApi to be used without qualification.</span></div>
<div class="line">            <span class="keyword">using namespace </span>GenApi;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Get the camera control object.</span></div>
<div class="line">            INodeMap &amp;control = camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Get the parameters for setting the image area of interest (Image AOI).</span></div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> width = control.GetNode(<span class="stringliteral">&quot;Width&quot;</span>);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> height = control.GetNode(<span class="stringliteral">&quot;Height&quot;</span>);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> offsetX = control.GetNode(<span class="stringliteral">&quot;OffsetX&quot;</span>);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> offsetY = control.GetNode(<span class="stringliteral">&quot;OffsetY&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Maximize the Image AOI.</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(offsetX))</div>
<div class="line">            {</div>
<div class="line">                offsetX-&gt;SetValue(offsetX-&gt;GetMin());</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(offsetY))</div>
<div class="line">            {</div>
<div class="line">                offsetY-&gt;SetValue(offsetY-&gt;GetMin());</div>
<div class="line">            }</div>
<div class="line">            width-&gt;SetValue(width-&gt;GetMax());</div>
<div class="line">            height-&gt;SetValue(height-&gt;GetMax());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the pixel data format.</span></div>
<div class="line">            <a class="code" href="group___gen_api___public_utilities.html#gaac6d21b97dd92a1b2a364f1623f54ccb">CEnumerationPtr</a>(control.GetNode(<span class="stringliteral">&quot;PixelFormat&quot;</span>))-&gt;<a class="code" href="namespace_gen_api.html#a00eb90990f9b96d6ae5e7ad0bebb693f">FromString</a>(<span class="stringliteral">&quot;Mono8&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException&amp; e)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Could not apply configuration. const GenericException caught in OnOpened method msg=%hs&quot;</span>, e.what());</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_PIXELFORMATANDAOICONFIGURATION_H_00104928 */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><h2><a class="anchor" id="sample_include_SampleImageCreator"></a>
SampleImageCreator.h</h2>
<div class="fragment"><div class="line"><span class="comment">// Contains functions for creating sample images.</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef INCLUDED_SAMPLEIMAGECREATOR_H_2792867</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_SAMPLEIMAGECREATOR_H_2792867</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_image_8h.html">pylon/PylonImage.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pixel_8h.html">pylon/Pixel.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_image_format_converter_8h.html">pylon/ImageFormatConverter.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">namespace </span>SampleImageCreator</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_pylon_1_1_c_pylon_image.html">Pylon::CPylonImage</a> CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">Pylon::EPixelType</a> pixelType, uint32_t width, uint32_t height)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Allow all the names in the namespace Pylon to be used without qualification.</span></div>
<div class="line">        <span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Define Constants.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a> palette[]=</div>
<div class="line">        {</div>
<div class="line">            {0, 28, 50}, {0, 42, 75}, {0, 56, 100}, {0, 70, 125}, {0, 84, 150},</div>
<div class="line">            {0, 50, 0}, {0, 100, 0}, {0, 150, 0}, {0, 200, 0}, {0, 250, 0},</div>
<div class="line">            {50, 0, 0}, {100, 0, 0}, {150, 0, 0}, {200, 0, 0}, {250, 0, 0}</div>
<div class="line">        };</div>
<div class="line">        uint32_t numColors = <span class="keyword">sizeof</span>( palette) / <span class="keyword">sizeof</span>( palette[0]);</div>
<div class="line"></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cX = -0.735;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cY = 0.11;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMaxX = 1.6;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMinX = -1.6;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMaxY = 1;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span> cMinY = -1;</div>
<div class="line">        <span class="keyword">const</span> uint32_t cMaxIterations = 50;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create image.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> juliaFractal( CPylonImage::Create( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, width, height));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get the pointer to the first pixel.</span></div>
<div class="line">        <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>* pCurrentPixel = (<a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>*) juliaFractal.GetBuffer();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Compute the fractal.</span></div>
<div class="line">        <span class="keywordflow">for</span> ( uint32_t pixelY = 0; pixelY &lt; height; ++pixelY )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> ( uint32_t pixelX = 0; pixelX &lt; width; ++pixelX, ++pCurrentPixel )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> x = ((cMaxX-cMinX) / width) * pixelX + cMinX;</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> y = cMaxY - pixelY * ((cMaxY-cMinY) / height);</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> xd = 0;</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> yd = 0;</div>
<div class="line">                <span class="keywordtype">int</span> i = 0;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">for</span>(; i &lt; cMaxIterations; ++i)</div>
<div class="line">                {</div>
<div class="line">                    xd = x * x - y * y + cX;</div>
<div class="line">                    yd = 2 *x * y + cY;</div>
<div class="line">                    x = xd;</div>
<div class="line">                    y = yd;</div>
<div class="line">                    <span class="keywordflow">if</span> ( (x * x + y * y) &gt; 4 )</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> ( i &gt;= cMaxIterations)</div>
<div class="line">                {</div>
<div class="line">                     pCurrentPixel = palette[0];</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                     pCurrentPixel = palette[ i % numColors ];</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Convert the image to the target format if needed.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( juliaFractal.GetPixelType() != pixelType)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = pixelType;</div>
<div class="line">            converter.<a class="code" href="class_basler___image_format_converter_params_1_1_c_image_format_converter_params___params.html#a8726267b699b4b40c2faf32c482ad5aa">OutputBitAlignment</a> = <a class="code" href="namespace_basler___image_format_converter_params.html#a0d468bef66c1b6903dece1bcb2ab4016a0aace6b0b321e3a6903c0d859e248579">OutputBitAlignment_MsbAligned</a>;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( juliaFractal, <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a>( juliaFractal));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Return the image.</span></div>
<div class="line">        <span class="keywordflow">return</span> juliaFractal;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_pylon_1_1_c_pylon_image.html">Pylon::CPylonImage</a> CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">Pylon::EPixelType</a> pixelType, uint32_t width, uint32_t height)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Allow all the names in the namespace Pylon to be used without qualification.</span></div>
<div class="line">        <span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Define constants.</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a> palette[]=</div>
<div class="line">        {</div>
<div class="line">            {0, 28, 50}, {0, 42, 75}, {0, 56, 100}, {0, 70, 125}, {0, 84, 150},</div>
<div class="line">            {0, 50, 0}, {0, 100, 0}, {0, 150, 0}, {0, 200, 0}, {0, 250, 0},</div>
<div class="line">            {50, 0, 0}, {100, 0, 0}, {150, 0, 0}, {200, 0, 0}, {250, 0, 0}</div>
<div class="line">        };</div>
<div class="line">        uint32_t numColors = <span class="keyword">sizeof</span>( palette) / <span class="keyword">sizeof</span>( palette[0]);</div>
<div class="line"></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMaxX = 1.0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMinX = -2.0;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMaxY = 1.2;</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">double</span>  cMinY = -1.2;</div>
<div class="line">        <span class="keyword">const</span> uint32_t cMaxIterations = 50;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create image.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> mandelbrotFractal( CPylonImage::Create( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, width, height));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get the pointer to the first pixel.</span></div>
<div class="line">        <a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>* pCurrentPixel = (<a class="code" href="struct_pylon_1_1_s_r_g_b8_pixel.html">SRGB8Pixel</a>*) mandelbrotFractal.GetBuffer();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Compute the fractal.</span></div>
<div class="line">        <span class="keywordflow">for</span> ( uint32_t pixelY = 0; pixelY &lt; height; ++pixelY )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> ( uint32_t pixelX = 0; pixelX &lt; width; ++pixelX, ++pCurrentPixel )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> xStart = ((cMaxX-cMinX) / width) * pixelX + cMinX;</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> yStart = cMaxY - pixelY * ((cMaxY-cMinY) / height);</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> x = xStart;</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> y = yStart;</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> xd =0;</div>
<div class="line">                <span class="keywordtype">long</span> <span class="keywordtype">double</span> yd =0;</div>
<div class="line">                <span class="keywordtype">int</span> i = 0;</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">for</span>(; i &lt; cMaxIterations; ++i)</div>
<div class="line">                {</div>
<div class="line">                    xd = x * x - y * y + xStart;</div>
<div class="line">                    yd = 2 *x * y + yStart;</div>
<div class="line">                    x = xd;</div>
<div class="line">                    y = yd;</div>
<div class="line">                    <span class="keywordflow">if</span> ( (x * x + y * y) &gt; 4 )</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">break</span>;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> ( i &gt;= cMaxIterations)</div>
<div class="line">                {</div>
<div class="line">                     pCurrentPixel = palette[0];</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                     pCurrentPixel = palette[ i % numColors ];</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Convert the image to the target format if needed.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( mandelbrotFractal.GetPixelType() != pixelType)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = pixelType;</div>
<div class="line">            converter.<a class="code" href="class_basler___image_format_converter_params_1_1_c_image_format_converter_params___params.html#a8726267b699b4b40c2faf32c482ad5aa">OutputBitAlignment</a> = <a class="code" href="namespace_basler___image_format_converter_params.html#a0d468bef66c1b6903dece1bcb2ab4016a0aace6b0b321e3a6903c0d859e248579">OutputBitAlignment_MsbAligned</a>;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( mandelbrotFractal, <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a>( mandelbrotFractal));</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Return the image.</span></div>
<div class="line">        <span class="keywordflow">return</span> mandelbrotFractal;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* INCLUDED_SAMPLEIMAGECREATOR_H_2792867 */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><h1><a class="anchor" id="sample_DeviceRemovalHandling"></a>
DeviceRemovalHandling</h1>
<div class="fragment"><div class="line"><span class="comment">// DeviceRemovalHandling.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample program demonstrates how to be informed about the removal of a camera device.</span></div>
<div class="line"><span class="comment">    It also shows how to reconnect to a removed device.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Attention:</span></div>
<div class="line"><span class="comment">    If you build this sample and run it under a debugger using a GigE camera device, pylon will set the heartbeat</span></div>
<div class="line"><span class="comment">    timeout to 5 minutes. This is done to allow debugging and single stepping of the code without</span></div>
<div class="line"><span class="comment">    the camera thinking we&#39;re hung because we don&#39;t send any heartbeats.</span></div>
<div class="line"><span class="comment">    Accordingly, it would take 5 minutes for the application to notice the disconnection of a GigE device.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    To work around this, the CHeartbeatHelper class is used to control the HeartbeatTimeout.</span></div>
<div class="line"><span class="comment">    Just before waiting for the removal, it will set the timeout to 1000 ms.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Simple helper class to set the HeartbeatTimeout safely.</span></div>
<div class="line"><span class="keyword">class </span>CHeartbeatHelper</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">explicit</span> CHeartbeatHelper(<a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; camera)</div>
<div class="line">                : m_pHeartbeatTimeout(NULL)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// m_pHeartbeatTimeout may be NULL</span></div>
<div class="line">            m_pHeartbeatTimeout = camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#aab2dbf4899cf227e4688d10bd65d0720">GetTLNodeMap</a>().GetNode(<span class="stringliteral">&quot;HeartbeatTimeout&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">bool</span> SetValue(int64_t NewValue)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Do nothing if no heartbeat feature is available.</span></div>
<div class="line">            <span class="keywordflow">if</span> (!m_pHeartbeatTimeout.IsValid())</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Apply the increment and cut off invalid values if neccessary.</span></div>
<div class="line">            int64_t correctedValue = NewValue - (NewValue % m_pHeartbeatTimeout-&gt;GetInc());</div>
<div class="line"></div>
<div class="line">            m_pHeartbeatTimeout-&gt;SetValue(correctedValue);</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">bool</span> SetMax()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Do nothing if no heartbeat feature is available.</span></div>
<div class="line">            <span class="keywordflow">if</span> (!m_pHeartbeatTimeout.IsValid())</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">            int64_t maxVal = m_pHeartbeatTimeout-&gt;GetMax();</div>
<div class="line">            <span class="keywordflow">return</span> SetValue(maxVal);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span>:</div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">GenApi::CIntegerPtr</a> m_pHeartbeatTimeout; <span class="comment">// Pointer to the node, will be NULL if no node exists.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// When using Device Specific Instant Camera classes there are specific Configuration event handler classes available which can be used, for example</span></div>
<div class="line"><span class="comment">// Pylon::CBaslerGigEConfigurationEventHandler or Pylon::CBasler1394ConfigurationEventHandler</span></div>
<div class="line"><span class="comment">//Example of a configuration event handler that handles device removal events.</span></div>
<div class="line"><span class="keyword">class </span>CSampleConfigurationEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_configuration_event_handler.html">Pylon::CConfigurationEventHandler</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// This method is called from a different thread when the camera device removal has been detected.</span></div>
<div class="line">    <span class="keywordtype">void</span> OnCameraDeviceRemoved( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; <span class="comment">/*camera*/</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Print two new lines, just for improving printed output.</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleConfigurationEventHandler::OnCameraDeviceRemoved called.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Time to wait in quarters of seconds.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_loopCounterInitialValue = 20 * 4;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Declare a local counter used for waiting.</span></div>
<div class="line">        <span class="keywordtype">int</span> loopCount = 0;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get the transport layer factory.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; tlFactory = <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a1e26b7ff35c0b3847497234793277f86">CreateFirstDevice</a>());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the camera information.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Friendly Name: &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#aed237e7d1df4019891da511c1bec675a">GetFriendlyName</a>() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Full Name    : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#a547c2e1036b2ef3fd64f61230dcc9900">GetFullName</a>() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;SerialNumber : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#a9714e71ed1536ce7a85bcb1f87c07b12">GetSerialNumber</a>() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, register another configuration event handler that handles device removal.</span></div>
<div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#aefc4e8480ceec5fe3991f059e1c4d8d4">RegisterConfiguration</a>( <span class="keyword">new</span> CSampleConfigurationEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add a sample configuration event handler to print out information</span></div>
<div class="line">        <span class="comment">// about camera use.</span></div>
<div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#aefc4e8480ceec5fe3991f059e1c4d8d4">RegisterConfiguration</a>( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera. Camera device removal is only detected while the camera is open.</span></div>
<div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5d55354035ee749bc587b4d923a22c5f">Open</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Now, try to detect that the camera has been removed:</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Ask the user to disconnect a device</span></div>
<div class="line">        loopCount = c_loopCounterInitialValue;</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Please disconnect the device (timeout &quot;</span> &lt;&lt; loopCount / 4 &lt;&lt; <span class="stringliteral">&quot;s) &quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Before testing the callbacks, we manually set the heartbeat timeout to a short value when using GigE cameras.</span></div>
<div class="line">        <span class="comment">// Since for debug versions the heartbeat timeout has been set to 5 minutes, it would take up to 5 minutes</span></div>
<div class="line">        <span class="comment">// until detection of the device removal.</span></div>
<div class="line">        CHeartbeatHelper heartbeatHelper(camera);</div>
<div class="line">        heartbeatHelper.SetValue(1000);  <span class="comment">// 1000 ms timeout</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Get a camera parameter using generic parameter access.</span></div>
<div class="line">            <a class="code" href="class_gen_api_1_1_c_pointer.html">GenApi::CIntegerPtr</a> width(camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3227195969200a52200364bf31e9c586">GetNodeMap</a>().GetNode(<span class="stringliteral">&quot;Width&quot;</span>));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The following loop accesses the camera. It could also be a loop that is</span></div>
<div class="line">            <span class="comment">// grabbing images. The device removal is handled in the exception handler.</span></div>
<div class="line">            <span class="keywordflow">while</span> ( loopCount &gt; 0)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Print a &quot;.&quot; every few seconds to tell the user we&#39;re waiting for the callback.</span></div>
<div class="line">                <span class="keywordflow">if</span> (--loopCount % 4 == 0)</div>
<div class="line">                {</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line">                    cout.flush();</div>
<div class="line">                }</div>
<div class="line">                <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(250);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Change the width value in the camera depending on the loop counter.</span></div>
<div class="line">                <span class="comment">// Any access to the camera like setting parameters or grabbing images</span></div>
<div class="line">                <span class="comment">// will fail throwing an exception if the camera has been disconnected.</span></div>
<div class="line">                width-&gt;SetValue( width-&gt;GetMax() - (width-&gt;GetInc() * (loopCount % 2)));</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3bc410c61618d7565455751991ce2791">IsCameraDeviceRemoved</a>())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// The camera device has been removed. This caused the exception.</span></div>
<div class="line">                cout &lt;&lt; endl;</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;The camera has been removed from the PC.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;The camera device removal triggered an exception:&quot;</span> &lt;&lt; endl</div>
<div class="line">                    &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// An unexpected error has occurred.</span></div>
<div class="line">                <span class="comment">// In this example it is handled by exiting the program.</span></div>
<div class="line">                <span class="keywordflow">throw</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( !camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3bc410c61618d7565455751991ce2791">IsCameraDeviceRemoved</a>())</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Timeout expired&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Now try to find the detached camera after it has been attached again:</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create a device info object for remembering the camera properties.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Remember the camera properties that allow detecting the same camera again.</span></div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#aeecab58107d70d6a6512abd95a40f940">GetDeviceClass</a>());</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a5ce60095900ba9a2084bf475d290dc19">SetSerialNumber</a>( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#a9714e71ed1536ce7a85bcb1f87c07b12">GetSerialNumber</a>());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Destroy the Pylon Device representing the detached camera device.</span></div>
<div class="line">        <span class="comment">// It cannot be used anymore.</span></div>
<div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5d30e0748815f30d3ef4836facb8795a">DestroyDevice</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Ask the user to connect the same device.</span></div>
<div class="line">        loopCount = c_loopCounterInitialValue;</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Please connect the same device to the PC again (timeout &quot;</span> &lt;&lt; loopCount / 4 &lt;&lt; <span class="stringliteral">&quot;s) &quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create a filter containing the CDeviceInfo object info which describes the properties of the device we are looking for.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> filter;</div>
<div class="line">        filter.push_back( info);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> ( ; loopCount &gt; 0; --loopCount)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Print a . every few seconds to tell the user we&#39;re waiting for the camera to be attached</span></div>
<div class="line">            <span class="keywordflow">if</span> ( loopCount % 4 == 0)</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line">                cout.flush();</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Try to find the camera we are looking for.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> devices;</div>
<div class="line">            <span class="keywordflow">if</span> ( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a9a66b37caea9bbd0a50cf377ba4ed94a">EnumerateDevices</a>(devices, filter) &gt; 0 )</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Print two new lines, just for improving printed output.</span></div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// The camera has been found. Create and attach it to the Instant Camera object.</span></div>
<div class="line">                camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a9e04a31ff55e3c570e05a249edefb7c0">Attach</a>( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a5bfdb71c0f2ffd0d86839b8f463c3c4d">CreateDevice</a>( devices[0]));</div>
<div class="line">                <span class="comment">//Exit waiting</span></div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(250);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// If the camera has been found.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a0088d6161a718272d54ba7d214919a27">IsPylonDeviceAttached</a>())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Print the camera information.</span></div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Friendly Name: &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#aed237e7d1df4019891da511c1bec675a">GetFriendlyName</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Full Name    : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_info_base.html#a547c2e1036b2ef3fd64f61230dcc9900">GetFullName</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SerialNumber : &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#a9714e71ed1536ce7a85bcb1f87c07b12">GetSerialNumber</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// All configuration objects and other event handler objects are still registered.</span></div>
<div class="line">            <span class="comment">// The configuration objects will parameterize the camera device and the instant</span></div>
<div class="line">            <span class="comment">// camera will be ready for operation again.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Open the camera.</span></div>
<div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a5d55354035ee749bc587b4d923a22c5f">Open</a>();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Now the Instant Camera object can be used as before.</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="comment">// Timeout</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Timeout expired.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab"></a>
Grab</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to grab and process images using the CInstantCamera class.</span></div>
<div class="line"><span class="comment">    The images are grabbed and processed asynchronously, i.e.,</span></div>
<div class="line"><span class="comment">    while the application is processing a buffer, the acquisition of the next buffer is done</span></div>
<div class="line"><span class="comment">    in parallel.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The CInstantCamera class uses a pool of buffers to retrieve image data</span></div>
<div class="line"><span class="comment">    from the camera device. Once a buffer is filled and ready,</span></div>
<div class="line"><span class="comment">    the buffer can be retrieved from the camera object for processing. The buffer</span></div>
<div class="line"><span class="comment">    and additional image data are collected in a grab result. The grab result is</span></div>
<div class="line"><span class="comment">    held by a smart pointer after retrieval. The buffer is automatically reused</span></div>
<div class="line"><span class="comment">    when explicitly released or when the smart pointer object is destroyed.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 100;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a60f05e5a21b43e6f520c0c913276c4d2">GetDeviceInfo</a>().<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The parameter MaxNumBuffer can be used to control the count of buffers</span></div>
<div class="line">        <span class="comment">// allocated for grabbing. The default value of this parameter is 10.</span></div>
<div class="line">        camera.<a class="code" href="class_basler___instant_camera_params_1_1_c_instant_camera_params___params.html#a91fb9dcf46847583658bc1468361c9ec">MaxNumBuffer</a> = 5;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div>
<div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div>
<div class="line">        camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a386b84c29f9ee7ec3646fbfbf70236ed">StartGrabbing</a>( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span> ( camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a1d2155d0c74753808af267c34291858c">IsGrabbing</a>())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div>
<div class="line">            camera.<a class="code" href="class_pylon_1_1_c_instant_camera.html#a3af3b05b85ea0aeb68eb5fb1b6dba0c8">RetrieveResult</a>( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Image grabbed successfully?</span></div>
<div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Access the image data.</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div>
<div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="comment">// Display the grabbed image.</span></div>
<div class="line">                Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_CameraEvents"></a>
Grab_CameraEvents</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_CameraEvents.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Basler GigE Vision and IEEE 1394 cameras can send event messages. For example, when a sensor</span></div>
<div class="line"><span class="comment">    exposure has finished, the camera can send an Exposure End event to the PC. The event</span></div>
<div class="line"><span class="comment">    can be received by the PC before the image data for the finished exposure has been completely</span></div>
<div class="line"><span class="comment">    transferred. This sample illustrates how to be notified when camera event message data</span></div>
<div class="line"><span class="comment">    is received.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The event messages are automatically retrieved and processed by the InstantCamera classes.</span></div>
<div class="line"><span class="comment">    The information carried by event messages is exposed as parameter nodes in the camera node map</span></div>
<div class="line"><span class="comment">    and can be accessed like &quot;normal&quot; camera parameters. These nodes are updated</span></div>
<div class="line"><span class="comment">    when a camera event is received. You can register camera event handler objects that are</span></div>
<div class="line"><span class="comment">    triggered when event data has been received.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    These mechanisms are demonstrated for the Exposure End and the Event Overrun events.</span></div>
<div class="line"><span class="comment">    The  Exposure End event carries the following information:</span></div>
<div class="line"><span class="comment">    * ExposureEndEventFrameID: Indicates the number of the image frame that has been exposed.</span></div>
<div class="line"><span class="comment">    * ExposureEndEventTimestamp: Indicates the moment when the event has been generated.</span></div>
<div class="line"><span class="comment">    * ExposureEndEventStreamChannelIndex: Indicates the number of the image data stream used to</span></div>
<div class="line"><span class="comment">    transfer the exposed frame.</span></div>
<div class="line"><span class="comment">    The Event Overrun event is sent by the camera as a warning that events are being dropped. The</span></div>
<div class="line"><span class="comment">    notification contains no specific information about how many or which events have been dropped.</span></div>
<div class="line"><span class="comment">    Events may be dropped if events are generated at a very high frequency and if there isn&#39;t enough</span></div>
<div class="line"><span class="comment">    bandwidth available to send the events.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    It is shown in this sample how to register event handlers indicating the arrival of events</span></div>
<div class="line"><span class="comment">    sent by the camera. For demonstration purposes, several different handlers are registered</span></div>
<div class="line"><span class="comment">    for the same event.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/CameraEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use  Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> CBasler1394CameraEventHandler CameraEventHandler_t; <span class="comment">// Or use Camera_t::CameraEventHandler_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_camera_event_handler.html">CBaslerGigECameraEventHandler</a> CameraEventHandler_t; <span class="comment">// Or use Camera_t::CameraEventHandler_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error camera type is not specified. For example, define USE_GIGE for using GigE cameras</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">//Enumeration used for distinguishing different events.</span></div>
<div class="line"><span class="keyword">enum</span> MyEvents</div>
<div class="line">{</div>
<div class="line">    eMyExposureEndEvent  = 100,</div>
<div class="line">    eMyEventOverrunEvent = 200</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Example handler for camera events.</span></div>
<div class="line"><span class="keyword">class </span>CSampleCameraEventHandler : <span class="keyword">public</span> CameraEventHandler_t</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Only very short processing tasks should be performed by this method. Otherwise, the event notification will block the</span></div>
<div class="line">    <span class="comment">// processing of images.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( Camera_t&amp; camera, intptr_t userProvidedId, GenApi::INode* <span class="comment">/* pNode */</span>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">switch</span> ( userProvidedId )</div>
<div class="line">        {</div>
<div class="line">        <span class="keywordflow">case</span> eMyExposureEndEvent: <span class="comment">// Exposure End event</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Exposure End event. FrameID: &quot;</span> &lt;&lt; camera.ExposureEndEventFrameID.GetValue() &lt;&lt; <span class="stringliteral">&quot; Timestamp: &quot;</span> &lt;&lt; camera.ExposureEndEventTimestamp.GetValue() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> eMyEventOverrunEvent:  <span class="comment">// Event Overrun event</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Event Overrun event. FrameID: &quot;</span> &lt;&lt; camera.EventOverrunEventFrameID.GetValue() &lt;&lt; <span class="stringliteral">&quot; Timestamp: &quot;</span> &lt;&lt; camera.EventOverrunEventTimestamp.GetValue() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">//Example of an image event handler.</span></div>
<div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_image_event_handler.html">CImageEventHandler</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a>&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleImageEventHandler::OnImageGrabbed called.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        cout &lt;&lt; std::endl;</div>
<div class="line">        cout &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Create an example event handler. In the present case, we use one single camera handler for handling multiple camera events.</span></div>
<div class="line">    <span class="comment">// The handler prints a message for each received event.</span></div>
<div class="line">    CSampleCameraEventHandler* pHandler1 = <span class="keyword">new</span> CSampleCameraEventHandler;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Create another more generic event handler printing out information about the node for which an event callback</span></div>
<div class="line">    <span class="comment">// is fired.</span></div>
<div class="line">    CCameraEventPrinter*  pHandler2 = <span class="keyword">new</span> CCameraEventPrinter;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div>
<div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div>
<div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div>
<div class="line">        <span class="comment">// about camera use and image grabbing.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, register another image event handler.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera event processing must be activated first, the default is off.</span></div>
<div class="line">        camera.GrabCameraEvents = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register an event handler for the Exposure End event. For each event type, there is a &quot;data&quot; node</span></div>
<div class="line">        <span class="comment">// representing the event. The actual data that is carried by the event is held by child nodes of the</span></div>
<div class="line">        <span class="comment">// data node. In the case of the Exposure End event, the child nodes are ExposureEndEventFrameID, ExposureEndEventTimestamp,</span></div>
<div class="line">        <span class="comment">// and ExposureEndEventStreamChannelIndex. The CSampleCameraEventHandler demonstrates how to access the child nodes within</span></div>
<div class="line">        <span class="comment">// a callback that is fired for the parent data node.</span></div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler1, <span class="stringliteral">&quot;ExposureEndEventData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the same handler for a second event. The user-provided ID can be used</span></div>
<div class="line">        <span class="comment">// to distinguish between the events.</span></div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler1, <span class="stringliteral">&quot;EventOverrunEventData&quot;</span>, eMyEventOverrunEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The handler is registered for both, the ExposureEndEventFrameID and the ExposureEndEventTimestamp</span></div>
<div class="line">        <span class="comment">// node. These nodes represent the data carried by the Exposure End event.</span></div>
<div class="line">        <span class="comment">// For each Exposure End event received, the handler will be called twice, once for the frame ID, and</span></div>
<div class="line">        <span class="comment">// once for the time stamp.</span></div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler2, <span class="stringliteral">&quot;ExposureEndEventFrameID&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler2, <span class="stringliteral">&quot;ExposureEndEventTimestamp&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera for setting parameters.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check if the device supports events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">GenApi::IsAvailable</a>( camera.EventSelector))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The device doesn&#39;t support events.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable sending of Exposure End events.</span></div>
<div class="line">        <span class="comment">// Select the event to receive.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>);</div>
<div class="line">        <span class="comment">// Enable it.</span></div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea6d5293db5f74c6ec5129d292eb4a8c2f">EventNotification_GenICamEvent</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable sending of Event Overrun events.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95ad155b6506f1279d8b7830332c73dde6a">EventSelector_EventOverrun</a>);</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea6d5293db5f74c6ec5129d292eb4a8c2f">EventNotification_GenICamEvent</a>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span> ( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Execute the software trigger. Wait up to 1000 ms for the camera to be ready for trigger.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">            {</div>
<div class="line">                camera.ExecuteSoftwareTrigger();</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve grab results and notify the camera event and image event handlers.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">            <span class="comment">// Nothing to do here with the grab result, the grab results are handled by the registered event handler.</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable sending Exposure End events.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>);</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable sending Event Overrun events.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95ad155b6506f1279d8b7830332c73dde6a">EventSelector_EventOverrun</a>);</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Delete the event handlers.</span></div>
<div class="line">    <span class="keyword">delete</span> pHandler1;</div>
<div class="line">    <span class="keyword">delete</span> pHandler2;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_CameraEvents_Usb"></a>
Grab_CameraEvents_Usb</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_CameraEvents_Usb.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Basler USB3 Vision cameras can send event messages. For example, when a sensor</span></div>
<div class="line"><span class="comment">    exposure has finished, the camera can send an Exposure End event to the PC. The event</span></div>
<div class="line"><span class="comment">    can be received by the PC before the image data for the finished exposure has been completely</span></div>
<div class="line"><span class="comment">    transferred. This sample illustrates how to be notified when camera event message data</span></div>
<div class="line"><span class="comment">    is received.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The event messages are automatically retrieved and processed by the InstantCamera classes.</span></div>
<div class="line"><span class="comment">    The information carried by event messages is exposed as parameter nodes in the camera node map</span></div>
<div class="line"><span class="comment">    and can be accessed like &quot;normal&quot; camera parameters. These nodes are updated</span></div>
<div class="line"><span class="comment">    when a camera event is received. You can register camera event handler objects that are</span></div>
<div class="line"><span class="comment">    triggered when event data has been received.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    These mechanisms are demonstrated for the Exposure End event.</span></div>
<div class="line"><span class="comment">    The  Exposure End event carries the following information:</span></div>
<div class="line"><span class="comment">    * EventExposureEndFrameID: Indicates the number of the image frame that has been exposed.</span></div>
<div class="line"><span class="comment">    * EventExposureEndTimestamp: Indicates the moment when the event has been generated.</span></div>
<div class="line"><span class="comment">    transfer the exposed frame.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    It is shown in this sample how to register event handlers indicating the arrival of events</span></div>
<div class="line"><span class="comment">    sent by the camera. For demonstration purposes, several different handlers are registered</span></div>
<div class="line"><span class="comment">    for the same event.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/CameraEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_USB )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_camera_event_handler.html">CBaslerUsbCameraEventHandler</a> CameraEventHandler_t; <span class="comment">// Or use Camera_t::CameraEventHandler_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. For example, define USE_USB for using USB cameras.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">//Enumeration used for distinguishing different events.</span></div>
<div class="line"><span class="keyword">enum</span> MyEvents</div>
<div class="line">{</div>
<div class="line">    eMyExposureEndEvent  = 100</div>
<div class="line">    <span class="comment">// More events can be added here.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Example handler for camera events.</span></div>
<div class="line"><span class="keyword">class </span>CSampleCameraEventHandler : <span class="keyword">public</span> CameraEventHandler_t</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Only very short processing tasks should be performed by this method. Otherwise, the event notification will block the</span></div>
<div class="line">    <span class="comment">// processing of images.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( Camera_t&amp; camera, intptr_t userProvidedId, GenApi::INode* <span class="comment">/* pNode */</span>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">switch</span> ( userProvidedId )</div>
<div class="line">        {</div>
<div class="line">        <span class="keywordflow">case</span> eMyExposureEndEvent: <span class="comment">// Exposure End event</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Exposure End event. FrameID: &quot;</span> &lt;&lt; camera.EventExposureEndFrameID.GetValue() &lt;&lt; <span class="stringliteral">&quot; Timestamp: &quot;</span> &lt;&lt; camera.EventExposureEndTimestamp.GetValue() &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="comment">// More events can be added here.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">//Example of an image event handler.</span></div>
<div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_image_event_handler.html">CImageEventHandler</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a>&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleImageEventHandler::OnImageGrabbed called.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        cout &lt;&lt; std::endl;</div>
<div class="line">        cout &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Create an example event handler. In the present case, we use one single camera handler for handling multiple camera events.</span></div>
<div class="line">    <span class="comment">// The handler prints a message for each received event.</span></div>
<div class="line">    CSampleCameraEventHandler* pHandler1 = <span class="keyword">new</span> CSampleCameraEventHandler;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Create another more generic event handler printing out information about the node for which an event callback</span></div>
<div class="line">    <span class="comment">// is fired.</span></div>
<div class="line">    CCameraEventPrinter*  pHandler2 = <span class="keyword">new</span> CCameraEventPrinter;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div>
<div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div>
<div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div>
<div class="line">        <span class="comment">// about camera use and image grabbing.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, register another image event handler.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera event processing must be activated first, the default is off.</span></div>
<div class="line">        camera.GrabCameraEvents = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register an event handler for the Exposure End event. For each event type, there is a &quot;data&quot; node</span></div>
<div class="line">        <span class="comment">// representing the event. The actual data that is carried by the event is held by child nodes of the</span></div>
<div class="line">        <span class="comment">// data node. In the case of the Exposure End event, the child nodes are EventExposureEndFrameID and EventExposureEndTimestamp.</span></div>
<div class="line">        <span class="comment">// The CSampleCameraEventHandler demonstrates how to access the child nodes within</span></div>
<div class="line">        <span class="comment">// a callback that is fired for the parent data node.</span></div>
<div class="line">        <span class="comment">// The user-provided ID eMyExposureEndEvent can be used to distinguish between multiple events (not shown).</span></div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler1, <span class="stringliteral">&quot;EventExposureEndData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The handler is registered for both, the EventExposureEndFrameID and the EventExposureEndTimestamp</span></div>
<div class="line">        <span class="comment">// node. These nodes represent the data carried by the Exposure End event.</span></div>
<div class="line">        <span class="comment">// For each Exposure End event received, the handler will be called twice, once for the frame ID, and</span></div>
<div class="line">        <span class="comment">// once for the time stamp.</span></div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler2, <span class="stringliteral">&quot;EventExposureEndFrameID&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( pHandler2, <span class="stringliteral">&quot;EventExposureEndTimestamp&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera for setting parameters.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check if the device supports events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">GenApi::IsAvailable</a>( camera.EventSelector))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The device doesn&#39;t support events.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable sending of Exposure End events.</span></div>
<div class="line">        <span class="comment">// Select the event to receive.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>);</div>
<div class="line">        <span class="comment">// Enable it.</span></div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea56e39634019f2f17dc2edc8ac53dfd1a">EventNotification_On</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span> ( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Execute the software trigger. Wait up to 1000 ms for the camera to be ready for trigger.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">            {</div>
<div class="line">                camera.ExecuteSoftwareTrigger();</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Retrieve grab results and notify the camera event and image event handlers.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">            <span class="comment">// Nothing to do here with the grab result, the grab results are handled by the registered event handler.</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable sending Exposure End events.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>);</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Delete the event handlers.</span></div>
<div class="line">    <span class="keyword">delete</span> pHandler1;</div>
<div class="line">    <span class="keyword">delete</span> pHandler2;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_ChunkImage"></a>
Grab_ChunkImage</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_ChunkImage.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Basler cameras provide chunk features: The cameras can generate certain information about each image,</span></div>
<div class="line"><span class="comment">    e.g. frame counters, time stamps, and CRC checksums, that is appended to the image data as data &quot;chunks&quot;.</span></div>
<div class="line"><span class="comment">    This sample illustrates how to enable chunk features, how to grab images, and how to process the appended</span></div>
<div class="line"><span class="comment">    data. When the camera is in chunk mode, it transfers data blocks that are partitioned into chunks. The first</span></div>
<div class="line"><span class="comment">    chunk is always the image data. When chunk features are enabled, the image data chunk is followed by chunks</span></div>
<div class="line"><span class="comment">    containing the information generated by the chunk features.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394ImageEventHandler ImageEventHandler_t; <span class="comment">// Or use Camera_t::ImageEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394GrabResultPtr GrabResultPtr_t; <span class="comment">// Or use Camera_t::GrabResultPtr_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_image_event_handler.html">Pylon::CBaslerGigEImageEventHandler</a> ImageEventHandler_t; <span class="comment">// Or use Camera_t::ImageEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_grab_result_ptr.html">Pylon::CBaslerGigEGrabResultPtr</a> GrabResultPtr_t; <span class="comment">// Or use Camera_t::GrabResultPtr_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined( USE_USB )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_image_event_handler.html">Pylon::CBaslerUsbImageEventHandler</a> ImageEventHandler_t; <span class="comment">// Or use Camera_t::ImageEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_grab_result_ptr.html">Pylon::CBaslerUsbGrabResultPtr</a> GrabResultPtr_t; <span class="comment">// Or use Camera_t::GrabResultPtr_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. For example, define USE_GIGE for using GigE cameras.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Example of a device specific handler for image events.</span></div>
<div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> ImageEventHandler_t</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( Camera_t&amp; camera, <span class="keyword">const</span> GrabResultPtr_t&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The chunk data is attached to the grab result and can be accessed anywhere.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Generic parameter access:</span></div>
<div class="line">        <span class="comment">// This shows the access via the chunk data node map. This method is available for all grab result types.</span></div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">GenApi::CIntegerPtr</a> chunkTimestamp( ptrGrabResult-&gt;GetChunkDataNodeMap().GetNode( <span class="stringliteral">&quot;ChunkTimestamp&quot;</span>));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Access the chunk data attached to the result.</span></div>
<div class="line">        <span class="comment">// Before accessing the chunk data, you should check to see</span></div>
<div class="line">        <span class="comment">// if the chunk is readable. When it is readable, the buffer</span></div>
<div class="line">        <span class="comment">// contains the requested chunk data.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#ga9429c4373073d861a7daa9309b578dd7">IsReadable</a>( chunkTimestamp))</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;OnImageGrabbed: TimeStamp (Result) accessed via node map: &quot;</span> &lt;&lt; chunkTimestamp-&gt;GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Native parameter access:</span></div>
<div class="line">        <span class="comment">// When using the device specific grab results the chunk data can be accessed</span></div>
<div class="line">        <span class="comment">// via the members of the grab result data.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#ga9429c4373073d861a7daa9309b578dd7">IsReadable</a>(ptrGrabResult-&gt;ChunkTimestamp))</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;OnImageGrabbed: TimeStamp (Result) accessed via result member: &quot;</span> &lt;&lt; ptrGrabResult-&gt;ChunkTimestamp.GetValue() &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device that matches the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register an image event handler that accesses the chunk data.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// A GenICam node map is required for accessing chunk data. That&#39;s why a small node map is required for each grab result.</span></div>
<div class="line">        <span class="comment">// Creating a lot of node maps can be time consuming.</span></div>
<div class="line">        <span class="comment">// The node maps are usually created dynamically when StartGrabbing() is called.</span></div>
<div class="line">        <span class="comment">// To avoid a delay caused by node map creation in StartGrabbing() you have the option to create</span></div>
<div class="line">        <span class="comment">// a static pool of node maps once before grabbing.</span></div>
<div class="line">        <span class="comment">//camera.StaticChunkNodeMapPoolSize = camera.MaxNumBuffer.GetValue();</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable chunks in general.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">GenApi::IsWritable</a>(camera.ChunkModeActive))</div>
<div class="line">        {</div>
<div class="line">            camera.ChunkModeActive.SetValue(<span class="keyword">true</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The camera doesn&#39;t support chunk features&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable time stamp chunks.</span></div>
<div class="line">        camera.ChunkSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#adb4045e6559563f047d3dcae52b2c485a01d63670adb21d18b84ebf78351d3312">ChunkSelector_Timestamp</a>);</div>
<div class="line">        camera.ChunkEnable.SetValue(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef USE_USB // USB camera devices provide generic counters. An explicit FrameCounter value is not provided by USB camera devices.</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="comment">// Enable frame counter chunks.</span></div>
<div class="line">        camera.ChunkSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#adb4045e6559563f047d3dcae52b2c485a06ce57cbf08d3034ed21c9c331f707b4">ChunkSelector_Framecounter</a>);</div>
<div class="line">        camera.ChunkEnable.SetValue(<span class="keyword">true</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">// Enable CRC checksum chunks.</span></div>
<div class="line">        camera.ChunkSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#adb4045e6559563f047d3dcae52b2c485a484fff12106ff9dcb0e921e87509e595">ChunkSelector_PayloadCRC16</a>);</div>
<div class="line">        camera.ChunkEnable.SetValue(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div>
<div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span>( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div>
<div class="line">            <span class="comment">// RetrieveResult calls the image event handler&#39;s OnImageGrabbed method.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// Display the image</span></div>
<div class="line">            Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;GrabSucceeded: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GrabSucceeded() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The result data is automatically filled with received chunk data.</span></div>
<div class="line">            <span class="comment">// (Note:  This is not the case when using the low-level API)</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetWidth() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetHeight() &lt;&lt; endl;</div>
<div class="line">            <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;GetBuffer();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Check to see if a buffer containing chunk data has been received.</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___pylon___instant_camera_api_generic.html#ggaf50b993da3a56a8a843e4d54e15b2329a5424a047d0e7ac6d548ced0dcad05b3e">PayloadType_ChunkData</a> != ptrGrabResult-&gt;GetPayloadType())</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Unexpected payload type received.&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Since we have activated the CRC Checksum feature, we can check</span></div>
<div class="line">            <span class="comment">// the integrity of the buffer first.</span></div>
<div class="line">            <span class="comment">// Note: Enabling the CRC Checksum feature is not a prerequisite for using</span></div>
<div class="line">            <span class="comment">// chunks. Chunks can also be handled when the CRC Checksum feature is deactivated.</span></div>
<div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;HasCRC() &amp;&amp; ptrGrabResult-&gt;CheckCRC() == <span class="keyword">false</span>)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Image was damaged!&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Access the chunk data attached to the result.</span></div>
<div class="line">            <span class="comment">// Before accessing the chunk data, you should check to see</span></div>
<div class="line">            <span class="comment">// if the chunk is readable. When it is readable, the buffer</span></div>
<div class="line">            <span class="comment">// contains the requested chunk data.</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga9429c4373073d861a7daa9309b578dd7">IsReadable</a>(ptrGrabResult-&gt;ChunkTimestamp))</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;TimeStamp (Result): &quot;</span> &lt;&lt; ptrGrabResult-&gt;ChunkTimestamp.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef USE_USB // USB camera devices provide generic counters. An explicit FrameCounter value is not provided by USB camera devices.</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga9429c4373073d861a7daa9309b578dd7">IsReadable</a>(ptrGrabResult-&gt;ChunkFramecounter))</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;FrameCounter (Result): &quot;</span> &lt;&lt; ptrGrabResult-&gt;ChunkFramecounter.GetValue() &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable chunk mode.</span></div>
<div class="line">        camera.ChunkModeActive.SetValue(<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_MultiCast"></a>
Grab_MultiCast</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_MultiCast.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample demonstrates how to open a camera in multicast mode</span></div>
<div class="line"><span class="comment">    and how to receive a multicast stream.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Two instances of this application must be started simultaneously on different computers.</span></div>
<div class="line"><span class="comment">    The first application started on PC A acts as the controlling application and has full access to the GigE camera.</span></div>
<div class="line"><span class="comment">    The second instance started on PC B opens the camera in monitor mode.</span></div>
<div class="line"><span class="comment">    This instance is not able to control the camera but can receive multicast streams.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    To get the sample running, start this application first on PC A in control mode.</span></div>
<div class="line"><span class="comment">    After PC A has begun to receive frames, start the second instance of this</span></div>
<div class="line"><span class="comment">    application on PC B in monitor mode.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include file for _kbhit</span></div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;conio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#    include &lt;termios.h&gt;</span></div>
<div class="line"><span class="preprocessor">#    include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#    include &lt;fcntl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Settings to use Basler GigE cameras.</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigEStreamParams;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef USE_GIGE</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error This example is usable for GigE cameras only.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 100;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> KeyPressed(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keywordflow">return</span> _kbhit() != 0;</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>  <span class="keyword">struct </span>termios savedTermios;</div>
<div class="line">  <span class="keywordtype">int</span> savedFL;</div>
<div class="line">  <span class="keyword">struct </span>termios termios;</div>
<div class="line">  <span class="keywordtype">int</span> ch;</div>
<div class="line"></div>
<div class="line">  tcgetattr(STDIN_FILENO, &amp;savedTermios);</div>
<div class="line">  savedFL = fcntl(STDIN_FILENO, F_GETFL, 0);</div>
<div class="line"></div>
<div class="line">  termios = savedTermios;</div>
<div class="line">  termios.c_lflag &amp;= ~(ICANON | ECHO);</div>
<div class="line">  tcsetattr(STDIN_FILENO, TCSANOW, &amp;termios);</div>
<div class="line">  fcntl(STDIN_FILENO, F_SETFL, savedFL | O_NONBLOCK);</div>
<div class="line"></div>
<div class="line">  ch = getchar();</div>
<div class="line"></div>
<div class="line">  fcntl(STDIN_FILENO, F_SETFL, savedFL);</div>
<div class="line">  tcsetattr(STDIN_FILENO, TCSANOW, &amp;savedTermios);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (ch != EOF)</div>
<div class="line">  {</div>
<div class="line">    ungetc(ch, stdin);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> ch != EOF;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Query the user for the mode to use.</span></div>
<div class="line">    <span class="keywordtype">bool</span> monitorMode = <span class="keyword">false</span>;</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">char</span> key;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Ask the user to launch the multicast controlling application or the multicast monitoring application.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Start multicast sample in (c)ontrol or in (m)onitor mode? (c/m) &quot;</span>;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">do</span></div>
<div class="line">            cin.get(key);</div>
<div class="line">        <span class="keywordflow">while</span> ( (key != <span class="charliteral">&#39;c&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;m&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;C&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;M&#39;</span>));</div>
<div class="line"></div>
<div class="line">        monitorMode = (key == <span class="charliteral">&#39;m&#39;</span>) || (key == <span class="charliteral">&#39;M&#39;</span>);</div>
<div class="line">     }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for GigE cameras.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( <a class="code" href="group___pylon___transport_layer.html#gade01a67e2f6bac8ba92b2d430efbc026">BaslerGigEDeviceClass</a> );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object for the GigE camera found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">CBaslerGigEInstantCamera</a> camera( CTlFactory::GetInstance().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The default configuration must be removed when monitor mode is selected</span></div>
<div class="line">        <span class="comment">// because the monitoring application is not allowed to modify any parameter settings.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( monitorMode)</div>
<div class="line">        {</div>
<div class="line">            camera.RegisterConfiguration( (<a class="code" href="class_pylon_1_1_c_configuration_event_handler.html">CConfigurationEventHandler</a>*) NULL, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div>
<div class="line">        <span class="comment">// about camera use and image grabbing.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);     <span class="comment">// Image grabbing.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Monitor mode selected.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( monitorMode)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Set MonitorModeActive to true to act as monitor</span></div>
<div class="line">            camera.MonitorModeActive = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Open the camera.</span></div>
<div class="line">            camera.Open();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Select transmission type. If the camera is already controlled by another application</span></div>
<div class="line">            <span class="comment">// and configured for multicast, the active camera configuration can be used</span></div>
<div class="line">            <span class="comment">// (IP Address and Port will be set automatically).</span></div>
<div class="line">            camera.GetStreamGrabberParams().TransmissionType = <a class="code" href="namespace_basler___gig_e_stream_params.html#a72ed4d48478327b7d99507dcc5eb09e7a044d3764df6ddaef13f48a2143eb54c8">TransmissionType_UseCameraConfig</a>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Alternatively, the stream grabber could be explicitly set to &quot;multicast&quot;...</span></div>
<div class="line">            <span class="comment">// In this case, the IP Address and the IP port must also be set.</span></div>
<div class="line">            <span class="comment">//</span></div>
<div class="line">            <span class="comment">//camera.GetStreamGrabberParams().TransmissionType = TransmissionType_Multicast;</span></div>
<div class="line">            <span class="comment">//camera.GetStreamGrabberParams().DestinationAddr = &quot;239.0.0.1&quot;;</span></div>
<div class="line">            <span class="comment">//camera.GetStreamGrabberParams().DestinationPort = 49152;</span></div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (camera.GetStreamGrabberParams().DestinationAddr.GetValue() != <span class="stringliteral">&quot;0.0.0.0&quot;</span> &amp;&amp;</div>
<div class="line">                camera.GetStreamGrabberParams().DestinationPort.GetValue() != 0)</div>
<div class="line">            {</div>
<div class="line">                camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">            } <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Failed to open stream grabber (monitor mode): The acquisition is not yet started by the controlling application.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Start the controlling application before starting the monitor application&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// Controlling mode selected.</span></div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Open the camera.</span></div>
<div class="line">            camera.Open();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set transmission type to &quot;multicast&quot;...</span></div>
<div class="line">            <span class="comment">// In this case, the IP Address and the IP port must also be set.</span></div>
<div class="line">            camera.GetStreamGrabberParams().TransmissionType = <a class="code" href="namespace_basler___gig_e_stream_params.html#a72ed4d48478327b7d99507dcc5eb09e7a5a6e738ed5a2f9d3c04b8261d9d2209a">TransmissionType_Multicast</a>;</div>
<div class="line">            <span class="comment">// camera.GetStreamGrabberParams().DestinationAddr = &quot;239.0.0.1&quot;;    // These are default values.</span></div>
<div class="line">            <span class="comment">// camera.GetStreamGrabberParams().DestinationPort = 49152;</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Maximize the image area of interest (Image AOI).</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">            {</div>
<div class="line">                camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">            {</div>
<div class="line">                camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">            }</div>
<div class="line">            camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">            camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the pixel data format.</span></div>
<div class="line">            camera.PixelFormat.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464a268a5e6a33a60e7b88a5767a147ef285">PixelFormat_Mono8</a>);</div>
<div class="line"></div>
<div class="line">            camera.StartGrabbing();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved in monitor mode</span></div>
<div class="line">        <span class="comment">// or when a key is pressed and the camera object is destroyed.</span></div>
<div class="line">        <span class="keywordflow">while</span>( !KeyPressed() &amp;&amp; camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// Display the image</span></div>
<div class="line">            Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            <span class="comment">// The grab result could now be processed here.</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following three lines to disable wait on exit.</span></div>
<div class="line">    cin.ignore(cin.rdbuf()-&gt;in_avail()); <span class="comment">//Remove left over characters from input buffer.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_MultipleCameras"></a>
Grab_MultipleCameras</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_MultipleCameras.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to grab and process images from multiple cameras</span></div>
<div class="line"><span class="comment">    using the CInstantCameraArray class. The CInstantCameraArray class represents</span></div>
<div class="line"><span class="comment">    an array of instant camera objects. It provides almost the same interface</span></div>
<div class="line"><span class="comment">    as the instant camera for grabbing.</span></div>
<div class="line"><span class="comment">    The main purpose of the CInstantCameraArray is to simplify waiting for images and</span></div>
<div class="line"><span class="comment">    camera events of multiple cameras in one thread. This is done by providing a single</span></div>
<div class="line"><span class="comment">    RetrieveResult method for all cameras in the array.</span></div>
<div class="line"><span class="comment">    Alternatively, the grabbing can be started using the internal grab loop threads</span></div>
<div class="line"><span class="comment">    of all cameras in the CInstantCameraArray. The grabbed images can then be processed by one or more</span></div>
<div class="line"><span class="comment">    image event handlers. Please note that this is not shown in this example.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 10;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Limits the amount of cameras used for grabbing.</span></div>
<div class="line"><span class="comment">// It is important to manage the available bandwidth when grabbing with multiple cameras.</span></div>
<div class="line"><span class="comment">// This applies, for instance, if two GigE cameras are connected to the same network adapter via a switch.</span></div>
<div class="line"><span class="comment">// To manage the bandwidth, the GevSCPD interpacket delay parameter and the GevSCFTD transmission delay</span></div>
<div class="line"><span class="comment">// parameter can be set for each GigE camera device.</span></div>
<div class="line"><span class="comment">// The &quot;Controlling Packet Transmission Timing with the Interpacket and Frame Transmission Delays on Basler GigE Vision Cameras&quot;</span></div>
<div class="line"><span class="comment">// Application Notes (AW000649xx000)</span></div>
<div class="line"><span class="comment">// provide more information about this topic.</span></div>
<div class="line"><span class="comment">// The bandwidth used by a FireWire camera device can be limited by adjusting the packet size.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> c_maxCamerasToUse = 2;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Get the transport layer factory.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; tlFactory = <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get all attached devices and exit application if no device is found.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> devices;</div>
<div class="line">        <span class="keywordflow">if</span> ( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a9a66b37caea9bbd0a50cf377ba4ed94a">EnumerateDevices</a>(devices) == 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;No camera present.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an array of instant cameras for the found devices and avoid exceeding a maximum number of devices.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera_array.html">CInstantCameraArray</a> cameras( min( devices.size(), c_maxCamerasToUse));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create and attach all Pylon Devices.</span></div>
<div class="line">        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = 0; i &lt; cameras.GetSize(); ++i)</div>
<div class="line">        {</div>
<div class="line">            cameras[ i ].Attach( tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a5bfdb71c0f2ffd0d86839b8f463c3c4d">CreateDevice</a>( devices[ i ]));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; cameras[ i ].GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Starts grabbing for all cameras starting with index 0. The grabbing</span></div>
<div class="line">        <span class="comment">// is started for one camera after the other. That&#39;s why the images of all</span></div>
<div class="line">        <span class="comment">// cameras are not taken at the same time.</span></div>
<div class="line">        <span class="comment">// However, a hardware trigger setup can be used to cause all cameras to grab images synchronously.</span></div>
<div class="line">        <span class="comment">// According to their default configuration, the cameras are</span></div>
<div class="line">        <span class="comment">// set up for free-running continuous acquisition.</span></div>
<div class="line">        cameras.StartGrabbing();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab c_countOfImagesToGrab from the cameras.</span></div>
<div class="line">        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i = 0; i &lt; c_countOfImagesToGrab &amp;&amp; cameras.IsGrabbing(); ++i)</div>
<div class="line">        {</div>
<div class="line">            cameras.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// When the cameras in the array are created the camera context value</span></div>
<div class="line">            <span class="comment">// is set to the index of the camera in the array.</span></div>
<div class="line">            <span class="comment">// The camera context is a user settable value.</span></div>
<div class="line">            <span class="comment">// This value is attached to each grab result and can be used</span></div>
<div class="line">            <span class="comment">// to determine the camera that produced the grab result.</span></div>
<div class="line">            intptr_t cameraContextValue = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#ac98deba500c1abfc140242bde17b1ed6">GetCameraContext</a>();</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// Show the image acquired by each camera in the window related to each camera.</span></div>
<div class="line">            Pylon::DisplayImage(cameraContextValue, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            <span class="comment">// Print the index and the model name of the camera.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt;  cameraContextValue &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cameras[ cameraContextValue ].GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Now, the image data can be processed.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;GrabSucceeded: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div>
<div class="line">            <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_Strategies"></a>
Grab_Strategies</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_Strategies.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows the use of the Instant Camera grab strategies.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object for the camera device found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div>
<div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div>
<div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div>
<div class="line">        <span class="comment">// about camera use and image grabbing.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The MaxNumBuffer parameter can be used to control the count of buffers</span></div>
<div class="line">        <span class="comment">// allocated for grabbing. The default value of this parameter is 10.</span></div>
<div class="line">        camera.MaxNumBuffer = 15;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Can the camera device be queried whether it is ready to accept the next frame trigger?</span></div>
<div class="line">        <span class="keywordflow">if</span> (camera.CanWaitForFrameTriggerReady())</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Grab using the GrabStrategy_OneByOne default strategy:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The GrabStrategy_OneByOne strategy is used. The images are processed</span></div>
<div class="line">            <span class="comment">// in the order of their arrival.</span></div>
<div class="line">            camera.StartGrabbing( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecba62ef2e619a5079431c23af8061665751">GrabStrategy_OneByOne</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// In the background, the grab engine thread retrieves the</span></div>
<div class="line">            <span class="comment">// image data and queues the buffers into the internal output queue.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Issue software triggers. For each call, wait up to 1000 ms until the camera is ready for triggering the next image.</span></div>
<div class="line">            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">                {</div>
<div class="line">                    camera.ExecuteSoftwareTrigger();</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// For demonstration purposes, wait for the last image to appear in the output queue.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 3*1000);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Check that grab results are waiting.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( camera.GetGrabResultWaitObject().Wait( 0))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab results wait in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// All triggered images are still waiting in the output queue</span></div>
<div class="line">            <span class="comment">// and are now retrieved.</span></div>
<div class="line">            <span class="comment">// The grabbing continues in the background, e.g. when using hardware trigger mode,</span></div>
<div class="line">            <span class="comment">// as long as the grab engine does not run out of buffers.</span></div>
<div class="line">            <span class="keywordtype">int</span> nBuffersInQueue = 0;</div>
<div class="line">            <span class="keywordflow">while</span>( camera.RetrieveResult( 0, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344a957ab0224b24e6361ceea112c5148067">TimeoutHandling_Return</a>))</div>
<div class="line">            {</div>
<div class="line">                nBuffersInQueue++;</div>
<div class="line">            }</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Retrieved &quot;</span> &lt;&lt; nBuffersInQueue &lt;&lt; <span class="stringliteral">&quot; grab results from output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">//Stop the grabbing.</span></div>
<div class="line">            camera.StopGrabbing();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab using strategy GrabStrategy_LatestImageOnly:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The GrabStrategy_LatestImageOnly strategy is used. The images are processed</span></div>
<div class="line">            <span class="comment">// in the order of their arrival but only the last received image</span></div>
<div class="line">            <span class="comment">// is kept in the output queue.</span></div>
<div class="line">            <span class="comment">// This strategy can be useful when the acquired images are only displayed on the screen.</span></div>
<div class="line">            <span class="comment">// If the processor has been busy for a while and images could not be displayed automatically</span></div>
<div class="line">            <span class="comment">// the latest image is displayed when processing time is available again.</span></div>
<div class="line">            camera.StartGrabbing( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbacb541053c64948f5d55e7955588deb33">GrabStrategy_LatestImageOnly</a>);</div>
<div class="line">    </div>
<div class="line">            <span class="comment">// Execute the software trigger, wait actively until the camera accepts the next frame trigger or until the timeout occurs.</span></div>
<div class="line">            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">                {</div>
<div class="line">                    camera.ExecuteSoftwareTrigger();</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">    </div>
<div class="line">            <span class="comment">// Wait for all images.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 3*1000);</div>
<div class="line">    </div>
<div class="line">            <span class="comment">// Check whether the grab result is waiting.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( camera.GetGrabResultWaitObject().Wait( 0))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;A grab result waits in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">    </div>
<div class="line">            <span class="comment">// Only the last received image is waiting in the internal output queue</span></div>
<div class="line">            <span class="comment">// and is now retrieved.</span></div>
<div class="line">            <span class="comment">// The grabbing continues in the background, e.g. when using the hardware trigger mode.</span></div>
<div class="line">            nBuffersInQueue = 0;</div>
<div class="line">            <span class="keywordflow">while</span>( camera.RetrieveResult( 0, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344a957ab0224b24e6361ceea112c5148067">TimeoutHandling_Return</a>))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Skipped &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>() &lt;&lt; <span class="stringliteral">&quot; images.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                nBuffersInQueue++;</div>
<div class="line">            }</div>
<div class="line">    </div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Retrieved &quot;</span> &lt;&lt; nBuffersInQueue &lt;&lt; <span class="stringliteral">&quot; grab result from output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    </div>
<div class="line">            <span class="comment">//Stop the grabbing.</span></div>
<div class="line">            camera.StopGrabbing();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab using strategy GrabStrategy_LatestImages:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The GrabStrategy_LatestImages strategy is used. The images are processed</span></div>
<div class="line">            <span class="comment">// in the order of their arrival, but only a number of the images received last</span></div>
<div class="line">            <span class="comment">// are kept in the output queue.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// The size of the output queue can be adjusted.</span></div>
<div class="line">            <span class="comment">// When using this strategy the OutputQueueSize parameter can be changed during grabbing.</span></div>
<div class="line">            camera.OutputQueueSize = 2;</div>
<div class="line"></div>
<div class="line">            camera.StartGrabbing( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbaa3813ff38f030a6a115b2b847958e07e">GrabStrategy_LatestImages</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Execute the software trigger, wait actively until the camera accepts the next frame trigger or until the timeout occurs.</span></div>
<div class="line">            <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 1000, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">                {</div>
<div class="line">                    camera.ExecuteSoftwareTrigger();</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Wait for all images.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 3*1000);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Check whether the grab results are waiting.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( camera.GetGrabResultWaitObject().Wait( 0))</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab results wait in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Only the images received last are waiting in the internal output queue</span></div>
<div class="line">            <span class="comment">// and are now retrieved.</span></div>
<div class="line">            <span class="comment">// The grabbing continues in the background, e.g. when using the hardware trigger mode.</span></div>
<div class="line">            nBuffersInQueue = 0;</div>
<div class="line">            <span class="keywordflow">while</span>( camera.RetrieveResult( 0, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344a957ab0224b24e6361ceea112c5148067">TimeoutHandling_Return</a>))</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> ( ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>())</div>
<div class="line">                {</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;Skipped &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#af1f3245395d808e6f17664ceba0973bb">GetNumberOfSkippedImages</a>() &lt;&lt; <span class="stringliteral">&quot; image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                }</div>
<div class="line">                nBuffersInQueue++;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Retrieved &quot;</span> &lt;&lt; nBuffersInQueue &lt;&lt; <span class="stringliteral">&quot; grab results from output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// When setting the output queue size to 1 this strategy is equivalent to the GrabStrategy_LatestImageOnly grab strategy.</span></div>
<div class="line">            camera.OutputQueueSize = 1;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// When setting the output queue size to CInstantCamera::MaxNumBuffer this strategy is equivalent to GrabStrategy_OneByOne.</span></div>
<div class="line">            camera.OutputQueueSize = camera.MaxNumBuffer;</div>
<div class="line"></div>
<div class="line">            <span class="comment">//Stop the grabbing.</span></div>
<div class="line">            camera.StopGrabbing();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// The Upcoming Image grab strategy cannot be used together with USB camera devices.</span></div>
<div class="line">            <span class="comment">// For more information, see the advanced topics section of the pylon Programmer&#39;s Guide.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( !camera.IsUsb())</div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab using the GrabStrategy_UpcomingImage strategy:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Reconfigure the camera to use continuous acquisition.</span></div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_acquire_continuous_configuration.html">CAcquireContinuousConfiguration</a>().<a class="code" href="class_pylon_1_1_c_acquire_continuous_configuration.html#a69cc379fa89264ed04b009ca64f1cd31">OnOpened</a>( camera);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// The GrabStrategy_UpcomingImage strategy is used. A buffer for grabbing</span></div>
<div class="line">                <span class="comment">// is queued each time when RetrieveResult()</span></div>
<div class="line">                <span class="comment">// is called. The image data is grabbed into the buffer and returned.</span></div>
<div class="line">                <span class="comment">// This ensures that the image grabbed is the next image</span></div>
<div class="line">                <span class="comment">// received from the camera.</span></div>
<div class="line">                <span class="comment">// All images are still transported to the PC.</span></div>
<div class="line">                camera.StartGrabbing( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecbaf64146846b729117f16af62536085ea0">GrabStrategy_UpcomingImage</a>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Queues a buffer for grabbing and waits for the grab to finish.</span></div>
<div class="line">                camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Sleep.</span></div>
<div class="line">                <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>( 1000);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Check no grab result is waiting, because no buffers are queued for grabbing.</span></div>
<div class="line">                <span class="keywordflow">if</span> ( !camera.GetGrabResultWaitObject().Wait( 0))</div>
<div class="line">                {</div>
<div class="line">                    cout &lt;&lt; <span class="stringliteral">&quot;No grab result waits in the output queue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">//Stop the grabbing.</span></div>
<div class="line">                camera.StopGrabbing();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// See the documentation of CInstantCamera::CanWaitForFrameTriggerReady() for more information.</span></div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;This sample can only be used with cameras that can be queried whether they are ready to accept the next frame trigger.&quot;</span>;</div>
<div class="line">            cout &lt;&lt; endl; </div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingActionCommand"></a>
Grab_UsingActionCommand</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingActionCommand.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows how to issue a GigE Vision ACTION_CMD to multiple cameras.</span></div>
<div class="line"><span class="comment">    By using an action command multiple cameras can be triggered at the same time</span></div>
<div class="line"><span class="comment">    compared to software triggering, which must be triggered individually.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    To make the configuration of multiple cameras easier this sample uses the CInstantCameraArray class.</span></div>
<div class="line"><span class="comment">    It also uses a CActionTriggerConfiguration to set up the basic action command features.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;time.h&gt;</span>   <span class="comment">// for time</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span> <span class="comment">// for rand &amp; srand</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#   include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="_pylon_gig_e_includes_8h.html">pylon/gige/PylonGigEIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_action_trigger_configuration_8h.html">pylon/gige/ActionTriggerConfiguration.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Settings to use Basler GigE cameras.</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifndef USE_GIGE</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error This example is usable for GigE cameras only.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Limits the amount of cameras used for grabbing.</span></div>
<div class="line"><span class="comment">// It is important to manage the available bandwidth when grabbing with multiple</span></div>
<div class="line"><span class="comment">// cameras. This applies, for instance, if two GigE cameras are connected to the</span></div>
<div class="line"><span class="comment">// same network adapter via a switch. To manage the bandwidth, the GevSCPD</span></div>
<div class="line"><span class="comment">// interpacket delay parameter and the GevSCFTD transmission delay parameter can</span></div>
<div class="line"><span class="comment">// be set for each GigE camera device. The &quot;Controlling Packet Transmission Timing</span></div>
<div class="line"><span class="comment">// with the Interpacket and Frame Transmission Delays on Basler GigE Vision Cameras&quot;</span></div>
<div class="line"><span class="comment">// Application Note (AW000649xx000) provides more information about this topic.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_maxCamerasToUse = 2;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Get the GigE transport layer.</span></div>
<div class="line">        <span class="comment">// We&#39;ll need it later to issue the action commands.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_tl_factory.html">CTlFactory</a>&amp; tlFactory = CTlFactory::GetInstance();</div>
<div class="line">        <a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html">IGigETransportLayer</a> *pTL = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html">IGigETransportLayer</a>*<span class="keyword">&gt;</span>(tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a6ede1fda37619e7e20e42da42ed74968">CreateTl</a>(<a class="code" href="group___pylon___transport_layer.html#gade01a67e2f6bac8ba92b2d430efbc026">BaslerGigEDeviceClass</a>));</div>
<div class="line">        <span class="keywordflow">if</span> (pTL == NULL)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;No GigE transport layer available.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// In this sample we use the transport layer directly to enumerate cameras.</span></div>
<div class="line">        <span class="comment">// By calling EnumerateDevices on the TL we get get only GigE cameras.</span></div>
<div class="line">        <span class="comment">// You could also accomplish this by using a filter and</span></div>
<div class="line">        <span class="comment">// let the Transport Layer Factory enumerate.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> allDeviceInfos;</div>
<div class="line">        <span class="keywordflow">if</span> (pTL-&gt;<a class="code" href="struct_pylon_1_1_i_device_factory.html#a7c9485beb3f38fc1c17929a46f6bb7a2">EnumerateDevices</a>(allDeviceInfos) == 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;No GigE cameras present.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Only use cameras in the same subnet as the first one.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_device_info_list.html">DeviceInfoList_t</a> usableDeviceInfos;</div>
<div class="line">        usableDeviceInfos.push_back(allDeviceInfos[0]);</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> subnet(static_cast&lt;const CBaslerGigEDeviceInfo&amp;&gt;(allDeviceInfos[0]).GetSubnetAddress());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start with index 1 as we have already added the first one above.</span></div>
<div class="line">        <span class="comment">// We will also limit the number of cameras to c_maxCamerasToUse.</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; allDeviceInfos.size() &amp;&amp; usableDeviceInfos.size() &lt; c_maxCamerasToUse; ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_device_info.html">CBaslerGigEDeviceInfo</a>&amp; gigeinfo = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_pylon_1_1_c_basler_gig_e_device_info.html">CBaslerGigEDeviceInfo</a>&amp;<span class="keyword">&gt;</span>(allDeviceInfos[i]);</div>
<div class="line">            <span class="keywordflow">if</span> (subnet == gigeinfo.<a class="code" href="class_pylon_1_1_c_basler_gig_e_device_info.html#af093a34529931698c76efdacbed3b744">GetSubnetAddress</a>())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Add this deviceInfo to the ones we will be using.</span></div>
<div class="line">                usableDeviceInfos.push_back(gigeinfo);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Camera will not be used because it is in a different subnet &quot;</span></div>
<div class="line">                     &lt;&lt; subnet &lt;&lt; <span class="stringliteral">&quot;!&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// In this sample we&#39;ll use an CBaslerGigEInstantCameraArray to access multiple cameras.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera_array.html">CBaslerGigEInstantCameraArray</a> cameras(usableDeviceInfos.size());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Seed the random number generator and generate a random device key value.</span></div>
<div class="line">        srand((<span class="keywordtype">unsigned</span>)time(NULL));</div>
<div class="line">        <span class="keyword">const</span> uint32_t DeviceKey = rand();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For this sample we configure all cameras to be in the same group.</span></div>
<div class="line">        <span class="keyword">const</span> uint32_t GroupKey = 0x112233;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For the following sample we use the CActionTriggerConfiguration to configure the camera.</span></div>
<div class="line">        <span class="comment">// It will set the DeviceKey, GroupKey and GroupMask features. It will also</span></div>
<div class="line">        <span class="comment">// configure the camera FrameTrigger and set the TriggerSource to the action command.</span></div>
<div class="line">        <span class="comment">// You can look at the implementation of CActionTriggerConfiguration in &lt;pylon/gige/ActionTriggerConfiguration.h&gt;</span></div>
<div class="line">        <span class="comment">// to see which features are set.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create all GigE cameras and attach them to the InstantCameras in the array.</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; cameras.GetSize(); ++i)</div>
<div class="line">        {</div>
<div class="line">            cameras[i].Attach(tlFactory.<a class="code" href="class_pylon_1_1_c_tl_factory.html#a5bfdb71c0f2ffd0d86839b8f463c3c4d">CreateDevice</a>(usableDeviceInfos[i]));</div>
<div class="line">            <span class="comment">// We&#39;ll use the CActionTriggerConfiguration, which will set up the cameras to wait for an action command.</span></div>
<div class="line">            cameras[i].RegisterConfiguration(<span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_action_trigger_configuration.html">CActionTriggerConfiguration</a>(DeviceKey, GroupKey, AllGroupMask), <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line">            <span class="comment">// Set the context. This will help us later to correlate the grab result to a camera in the array.</span></div>
<div class="line">            cameras[i].SetCameraContext(i);</div>
<div class="line"></div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_device_info.html">CBaslerGigEDeviceInfo</a>&amp; di = cameras[i].GetDeviceInfo();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Using camera &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; di.<a class="code" href="class_pylon_1_1_c_device_info.html#aa8626998bfed9a0b7507e4120c25b32b">GetModelName</a>() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; di.<a class="code" href="class_pylon_1_1_c_basler_gig_e_device_info.html#a8d63e3de162aa8c2f2424a7bde3d65bd">GetIpAddress</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open all cameras.</span></div>
<div class="line">        <span class="comment">// This will apply the CActionTriggerConfiguration specified above.</span></div>
<div class="line">        cameras.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Use an Action Command to Trigger Multiple Cameras at the Same Time.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Issuing an action command.&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Starts grabbing for all cameras.</span></div>
<div class="line">        <span class="comment">// The cameras won&#39;t transmit any image data, because they are configured to wait for an action command.</span></div>
<div class="line">        cameras.StartGrabbing();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Now we issue the action command to all devices in the subnet.</span></div>
<div class="line">        <span class="comment">// The devices with a matching DeviceKey, GroupKey and valid GroupMask will grab an image.</span></div>
<div class="line">        pTL-&gt;<a class="code" href="struct_pylon_1_1_i_gig_e_transport_layer.html#afe8642580afe61f26401b69df54c1d61">IssueActionCommand</a>(DeviceKey, GroupKey, AllGroupMask, subnet);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_basler_gig_e_grab_result_ptr.html">CBaslerGigEGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Retrieve images from all cameras.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> DefaultTimeout_ms = 5000;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; usableDeviceInfos.size() &amp;&amp; cameras.IsGrabbing(); ++i)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// CInstantCameraArray::RetrieveResult will return grab results in the order they arrive.</span></div>
<div class="line">            cameras.RetrieveResult(DefaultTimeout_ms, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// When the cameras in the array are created the camera context value</span></div>
<div class="line">            <span class="comment">// is set to the index of the camera in the array.</span></div>
<div class="line">            <span class="comment">// The camera context is a user-settable value.</span></div>
<div class="line">            <span class="comment">// This value is attached to each grab result and can be used</span></div>
<div class="line">            <span class="comment">// to determine the camera that produced the grab result.</span></div>
<div class="line">            intptr_t cameraIndex = ptrGrabResult-&gt;GetCameraContext();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Image grabbed successfully?</span></div>
<div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;GrabSucceeded())</div>
<div class="line">            {</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="comment">// Show the image acquired by each camera in the window related to the camera.</span></div>
<div class="line">                <span class="comment">// DisplayImage supports up to 32 image windows.</span></div>
<div class="line">                <span class="keywordflow">if</span> (cameraIndex &lt;= 31)</div>
<div class="line">                    Pylon::DisplayImage(cameraIndex, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="comment">// Print the index and the model name of the camera.</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Camera &quot;</span> &lt;&lt;  cameraIndex &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; cameras[cameraIndex].GetDeviceInfo().GetModelName() &lt;&lt;</div>
<div class="line">                    <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; cameras[cameraIndex].GetDeviceInfo().GetIpAddress() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// You could process the image here by accessing the image buffer.</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;GrabSucceeded: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GrabSucceeded() &lt;&lt; endl;</div>
<div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;GetBuffer();</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// If a buffer has been incompletely grabbed, the network bandwidth is possibly insufficient for transferring</span></div>
<div class="line">                <span class="comment">// multiple images simultaneously. See note above c_maxCamerasToUse.</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetErrorCode() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;GetErrorDescription() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// In case you want to trigger again you should wait for the camera</span></div>
<div class="line">        <span class="comment">// to become trigger-ready before issuing the next action command.</span></div>
<div class="line">        <span class="comment">// To avoid overtriggering you should call cameras[0].WaitForFrameTriggerReady</span></div>
<div class="line">        <span class="comment">// (see Grab_UsingGrabLoopThread sample for details).</span></div>
<div class="line"></div>
<div class="line">        cameras.StopGrabbing();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close all cameras.</span></div>
<div class="line">        cameras.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingBufferFactory"></a>
Grab_UsingBufferFactory</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingBufferFactory.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample demonstrates the use of a user-provided buffer factory.</span></div>
<div class="line"><span class="comment">    The use of a buffer factory is optional and intended for advanced use cases only.</span></div>
<div class="line"><span class="comment">    A buffer factory is only needed if you plan to grab into externally supplied buffers.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 5;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// A user-provided buffer factory.</span></div>
<div class="line"><span class="keyword">class </span>MyBufferFactory : <span class="keyword">public</span> <a class="code" href="struct_pylon_1_1_i_buffer_factory.html">IBufferFactory</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MyBufferFactory()</div>
<div class="line">        : m_lastBufferContext(1000)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">virtual</span> ~MyBufferFactory()</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Will be called when the Instant Camera object needs to allocate a buffer.</span></div>
<div class="line">    <span class="comment">// Return the buffer and context data in the output parameters.</span></div>
<div class="line">    <span class="comment">// In case of an error new() will throw an exception</span></div>
<div class="line">    <span class="comment">// which will be forwarded to the caller to indicate an error.</span></div>
<div class="line">    <span class="comment">// Warning: This method can be called by different threads.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> AllocateBuffer( <span class="keywordtype">size_t</span> bufferSize, <span class="keywordtype">void</span>** pCreatedBuffer, intptr_t&amp; bufferContext)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">try</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Allocate buffer for pixel data.</span></div>
<div class="line">            <span class="comment">// If you already have a buffer allocated by your image processing library you can use this instead.</span></div>
<div class="line">            <span class="comment">// In this case you must modify the delete code (see below) accordingly.</span></div>
<div class="line">             pCreatedBuffer = <span class="keyword">new</span> uint8_t[bufferSize];</div>
<div class="line">            <span class="comment">// The context information is never changed by the Instant Camera and can be used</span></div>
<div class="line">            <span class="comment">// by the buffer factory to manage the buffers.</span></div>
<div class="line">            <span class="comment">// The context information can be retrieved from a grab result by calling</span></div>
<div class="line">            <span class="comment">// ptrGrabResult-&gt;GetBufferContext();</span></div>
<div class="line">            bufferContext = ++m_lastBufferContext;</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Created buffer &quot;</span> &lt;&lt; bufferContext &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; *pCreatedBuffer &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp;)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// In case of an error we must free the memory we may have already allocated.</span></div>
<div class="line">            <span class="keywordflow">if</span> (*pCreatedBuffer != NULL)</div>
<div class="line">            {</div>
<div class="line">                uint8_t* p = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(pCreatedBuffer);</div>
<div class="line">                <span class="keyword">delete</span>[] p;</div>
<div class="line">                 pCreatedBuffer = NULL;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Rethrow exception.</span></div>
<div class="line">            <span class="comment">// AllocateBuffer can also just return with *pCreatedBuffer = NULL to indicate</span></div>
<div class="line">            <span class="comment">// that no buffer is available at the moment.</span></div>
<div class="line">            <span class="keywordflow">throw</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Frees a previously allocated buffer.</span></div>
<div class="line">    <span class="comment">// Warning: This method can be called by different threads.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> FreeBuffer( <span class="keywordtype">void</span>* pCreatedBuffer, intptr_t bufferContext)</div>
<div class="line">    {</div>
<div class="line">        uint8_t* p = <span class="keyword">reinterpret_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>(pCreatedBuffer);</div>
<div class="line">        <span class="keyword">delete</span> [] p;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Freed buffer &quot;</span> &lt;&lt; bufferContext &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; pCreatedBuffer &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Destroys the buffer factory.</span></div>
<div class="line">    <span class="comment">// This will be used when you pass the ownership of the buffer factory instance to pylon</span></div>
<div class="line">    <span class="comment">// by defining Cleanup_Delete. pylon will call this function to destroy the instance</span></div>
<div class="line">    <span class="comment">// of the buffer factory. If you don&#39;t pass the ownership to pylon (Cleanup_None)</span></div>
<div class="line">    <span class="comment">// this method will be ignored.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> DestroyBufferFactory()</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">delete</span> <span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">protected</span>:</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> m_lastBufferContext;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The buffer factory must be created first because objects on the</span></div>
<div class="line">        <span class="comment">// stack are destroyed in reverse order of creation.</span></div>
<div class="line">        <span class="comment">// The buffer factory must exist longer than the Instant Camera object</span></div>
<div class="line">        <span class="comment">// in this sample.</span></div>
<div class="line">        MyBufferFactory myFactory;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Use our own implementation of a buffer factory.</span></div>
<div class="line">        <span class="comment">// Since we control the lifetime of the factory object we pass Cleanup_None.</span></div>
<div class="line">        camera.SetBufferFactory(&amp;myFactory, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The parameter MaxNumBuffer can be used to control the count of buffers</span></div>
<div class="line">        <span class="comment">// allocated for grabbing. The default value of this parameter is 10.</span></div>
<div class="line">        camera.MaxNumBuffer = 5;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div>
<div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span> ( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Image grabbed successfully?</span></div>
<div class="line">            <span class="keywordflow">if</span> (ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Access the image data.</span></div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Context: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a8106ae962e68d1584f571a3945a90757">GetBufferContext</a>() &lt;&lt; endl;</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div>
<div class="line">                <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>                <span class="comment">// Display the grabbed image.</span></div>
<div class="line">                Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingExposureEndEvent"></a>
Grab_UsingExposureEndEvent</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingExposureEndEvent.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows how to use the Exposure End event to speed up the image acquisition.</span></div>
<div class="line"><span class="comment">    For example, when a sensor exposure is finished, the camera can send an Exposure End event to the PC.</span></div>
<div class="line"><span class="comment">    The PC can receive the event before the image data of the finished exposure has been completely transferred.</span></div>
<div class="line"><span class="comment">    This can be used in order to avoid an unnecessary delay, for example when an imaged</span></div>
<div class="line"><span class="comment">    object is moved further before the related image data transfer is complete.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_LINUX_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;sys/time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to be used for Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> CBasler1394CameraEventHandler CameraEventHandler_t; <span class="comment">// Or use Camera_t::CameraEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> CBasler1394ImageEventHandler ImageEventHandler_t; <span class="comment">// Or use Camera_t::ImageEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394GrabResultPtr GrabResultPtr_t; <span class="comment">// Or use Camera_t::GrabResultPtr_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to be used for Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error camera type is not specified. For example, define USE_GIGE for using GigE cameras</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Enumeration used for distinguishing different events.</span></div>
<div class="line"><span class="keyword">enum</span> MyEvents</div>
<div class="line">{</div>
<div class="line">    eMyExposureEndEvent,      <span class="comment">// Triggered by a camera event.</span></div>
<div class="line">    eMyFrameStartOvertrigger, <span class="comment">// Triggered by a camera event.</span></div>
<div class="line">    eMyEventOverrunEvent,     <span class="comment">// Triggered by a camera event.</span></div>
<div class="line">    eMyImageReceivedEvent,    <span class="comment">// Triggered by the receipt of an image.</span></div>
<div class="line">    eMyMoveEvent,             <span class="comment">// Triggered when the imaged item or the sensor head can be moved.</span></div>
<div class="line">    eMyNoEvent                <span class="comment">// Used as default setting.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Names of possible events for a printed output.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* MyEventNames[] =</div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;ExposureEndEvent     &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;FrameStartOvertrigger&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;EventOverrunEvent    &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ImageReceived        &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Move                 &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;NoEvent              &quot;</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Used for logging received events without outputting the information on the screen</span></div>
<div class="line"><span class="comment">// because outputting will change the timing.</span></div>
<div class="line"><span class="comment">// This class is used for demonstration purposes only.</span></div>
<div class="line"><span class="keyword">struct </span>LogItem</div>
<div class="line">{</div>
<div class="line">    LogItem()</div>
<div class="line">        : eventType( eMyNoEvent)</div>
<div class="line">        , frameNumber(0)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    LogItem( MyEvents event, uint32_t frameNr)</div>
<div class="line">        : eventType(event)</div>
<div class="line">        , frameNumber(frameNr)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//Warning, measured values can be wrong on older PC hardware.</span></div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>        QueryPerformanceCounter(&amp;time);</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"></div>
<div class="line">        gettimeofday(&amp;tv, NULL);</div>
<div class="line">        time = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(tv.tv_sec) * 1000L + static_cast&lt;unsigned long long&gt;(tv.tv_usec) / 1000LL;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>    LARGE_INTEGER time; <span class="comment">// Recorded time stamps.</span></div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> time; <span class="comment">// Recorded time stamps.</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    MyEvents eventType; <span class="comment">// Type of the received event.</span></div>
<div class="line">    uint16_t frameNumber; <span class="comment">// Frame number of the received event. A frame number may not be available for some transport layers.</span></div>
<div class="line">                          <span class="comment">// Frame numbers are not supported by all transport layers.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Helper function for printing a log.</span></div>
<div class="line"><span class="comment">// This function is used for demonstration purposes only.</span></div>
<div class="line"><span class="keywordtype">void</span> PrintLog( <span class="keyword">const</span> std::vector&lt;LogItem&gt;&amp; aLog)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="comment">// Get the PC timer frequency.</span></div>
<div class="line">    LARGE_INTEGER timerFrequency;</div>
<div class="line">    QueryPerformanceFrequency(&amp;timerFrequency);</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;Warning, the printed time values can be wrong on older PC hardware.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Print the event information header.</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Time [ms]    &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Event                 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;FrameNumber&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;------------ &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--------------------- &quot;</span> &lt;&lt; <span class="stringliteral">&quot;-----------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print the logged information.</span></div>
<div class="line">    <span class="keywordtype">size_t</span> logSize = aLog.size();</div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = 0; i &lt; logSize; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Calculate the elapsed time between the events.</span></div>
<div class="line">        <span class="keywordtype">double</span> time_ms = 0;</div>
<div class="line">        <span class="keywordflow">if</span> ( i)</div>
<div class="line">        {</div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>            __int64 oldTicks = ((__int64)aLog[i-1].time.HighPart &lt;&lt; 32) + (__int64)aLog[i-1].time.LowPart;</div>
<div class="line">            __int64 newTicks = ((__int64)aLog[i].time.HighPart &lt;&lt; 32) + (__int64)aLog[i].time.LowPart;</div>
<div class="line">            <span class="keywordtype">long</span> <span class="keywordtype">double</span> timeDifference = (<span class="keywordtype">long</span> double) (newTicks - oldTicks);</div>
<div class="line">            <span class="keywordtype">long</span> <span class="keywordtype">double</span> ticksPerSecond = (<span class="keywordtype">long</span> double) (((__int64)timerFrequency.HighPart &lt;&lt; 32) + (__int64)timerFrequency.LowPart);</div>
<div class="line">            time_ms = (timeDifference / ticksPerSecond) * 1000;</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>            time_ms = aLog[i].time - aLog[i-1].time;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the event information.</span></div>
<div class="line">        cout &lt;&lt; setw(12) &lt;&lt; fixed &lt;&lt; setprecision(4) &lt;&lt; time_ms &lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt; MyEventNames[ aLog[i].eventType ] &lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt; aLog[i].frameNumber &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 50;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Example handler for GigE camera events.</span></div>
<div class="line"><span class="comment">// Additional handling is required for GigE camera events because the event network packets can be lost, doubled or delayed on the network.</span></div>
<div class="line"><span class="keyword">class </span>CEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_camera_event_handler.html">CBaslerGigECameraEventHandler</a>, <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_image_event_handler.html">CBaslerGigEImageEventHandler</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    CEventHandler()</div>
<div class="line">        : m_nextExpectedFrameNumberImage(1)</div>
<div class="line">        , m_nextExpectedFrameNumberExposureEnd(1)</div>
<div class="line">        , m_nextFrameNumberForMove(1)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Reserve space to log camera events and image events.</span></div>
<div class="line">        m_log.reserve( c_countOfImagesToGrab * 2);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// This method is called when a camera event has been received.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">CBaslerGigEInstantCamera</a>&amp; camera, intptr_t userProvidedId, GenApi::INode* <span class="comment">/* pNode */</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( userProvidedId == eMyExposureEndEvent)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// An Exposure End event has been received.</span></div>
<div class="line">            uint16_t frameNumber = (uint16_t)camera.ExposureEndEventFrameID.GetValue();</div>
<div class="line">            m_log.push_back( LogItem( eMyExposureEndEvent, frameNumber));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// If Exposure End event is not doubled.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( GetIncrementedFrameNumber( frameNumber) != m_nextExpectedFrameNumberExposureEnd)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Check whether the imaged item or the sensor head can be moved.</span></div>
<div class="line">                <span class="keywordflow">if</span> ( frameNumber == m_nextFrameNumberForMove)</div>
<div class="line">                {</div>
<div class="line">                    MoveImagedItemOrSensorHead();</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Check for missing Exposure End events.</span></div>
<div class="line">                <span class="keywordflow">if</span> ( frameNumber != m_nextExpectedFrameNumberExposureEnd)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;An Exposure End event has been lost. Expected frame number is %d but got frame number %d.&quot;</span>, m_nextExpectedFrameNumberExposureEnd, frameNumber);</div>
<div class="line">                }</div>
<div class="line">                IncrementFrameNumber( m_nextExpectedFrameNumberExposureEnd);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( userProvidedId == eMyFrameStartOvertrigger)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The camera has been overtriggered.</span></div>
<div class="line">            m_log.push_back( LogItem( eMyFrameStartOvertrigger, 0));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Handle this error...</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( userProvidedId == eMyEventOverrunEvent)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The camera was unable to send all its events to the PC.</span></div>
<div class="line">            <span class="comment">// Events have been dropped by the camera.</span></div>
<div class="line">            m_log.push_back( LogItem( eMyEventOverrunEvent, 0));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Handle this error...</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            PYLON_ASSERT2(<span class="keyword">false</span>, <span class="stringliteral">&quot;The sample has been modified and a new event has been registered. Add handler code above.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// This method is called when an image has been grabbed.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">CBaslerGigEInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_grab_result_ptr.html">CBaslerGigEGrabResultPtr</a>&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// An image has been received. Block ID is equal to frame number for GigE camera devices.</span></div>
<div class="line">        uint16_t frameNumber = (uint16_t)ptrGrabResult-&gt;GetBlockID();</div>
<div class="line">        m_log.push_back( LogItem( eMyImageReceivedEvent, frameNumber));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check whether the imaged item or the sensor head can be moved.</span></div>
<div class="line">        <span class="comment">// This will be the case if the Exposure End has been lost or if the Exposure End is received later than the image.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( frameNumber == m_nextFrameNumberForMove)</div>
<div class="line">        {</div>
<div class="line">            MoveImagedItemOrSensorHead();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check for missing images.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( frameNumber != m_nextExpectedFrameNumberImage)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;An image has been lost. Expected frame number is %d but got frame number %d.&quot;</span>, m_nextExpectedFrameNumberExposureEnd, frameNumber);</div>
<div class="line">        }</div>
<div class="line">        IncrementFrameNumber( m_nextExpectedFrameNumberImage);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> MoveImagedItemOrSensorHead()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The imaged item or the sensor head can be moved now...</span></div>
<div class="line">        <span class="comment">// The camera may not be ready for a trigger at this point yet because the sensor is still being read out.</span></div>
<div class="line">        <span class="comment">// See the documentation of the CInstantCamera::WaitForFrameTriggerReady() method for more information.</span></div>
<div class="line">        m_log.push_back( LogItem( eMyMoveEvent, m_nextFrameNumberForMove));</div>
<div class="line">        IncrementFrameNumber( m_nextFrameNumberForMove);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> PrintLog()</div>
<div class="line">    {</div>
<div class="line">        ::PrintLog( m_log);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">void</span> IncrementFrameNumber( uint16_t&amp; frameNumber)</div>
<div class="line">    {</div>
<div class="line">        frameNumber = GetIncrementedFrameNumber( frameNumber);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    uint16_t GetIncrementedFrameNumber( uint16_t frameNumber)</div>
<div class="line">    {</div>
<div class="line">        ++frameNumber;</div>
<div class="line">        <span class="keywordflow">if</span> ( frameNumber == 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Zero is not a valid frame number.</span></div>
<div class="line">            ++frameNumber;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> frameNumber;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    uint16_t m_nextExpectedFrameNumberImage;</div>
<div class="line">    uint16_t m_nextExpectedFrameNumberExposureEnd;</div>
<div class="line">    uint16_t m_nextFrameNumberForMove;</div>
<div class="line"></div>
<div class="line">    std::vector&lt;LogItem&gt; m_log;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#else //No GigE camera</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Example handler for camera events.</span></div>
<div class="line"><span class="keyword">class </span>CEventHandler : <span class="keyword">public</span> CameraEventHandler_t , <span class="keyword">public</span> ImageEventHandler_t</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    CEventHandler()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Reserve space to log camera events and image events.</span></div>
<div class="line">        m_log.reserve( c_countOfImagesToGrab * 2);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// This method is called when a camera event has been received.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( Camera_t&amp; camera, intptr_t userProvidedId, GenApi::INode* <span class="comment">/* pNode */</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( userProvidedId == eMyExposureEndEvent)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// An Exposure End event has been received.</span></div>
<div class="line">            m_log.push_back( LogItem( eMyExposureEndEvent, (uint16_t)camera.ExposureEndEventFrameID.GetValue()));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Move the imaged item or the sensor head.</span></div>
<div class="line">            MoveImagedItemOrSensorHead();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( userProvidedId == eMyFrameStartOvertrigger)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The camera has been overtriggered.</span></div>
<div class="line">            m_log.push_back( LogItem( eMyFrameStartOvertrigger, 0));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Handle this error...</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( userProvidedId == eMyEventOverrunEvent)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The camera was unable to send all its events to the PC.</span></div>
<div class="line">            <span class="comment">// Events have been dropped by the camera.</span></div>
<div class="line">            m_log.push_back( LogItem( eMyEventOverrunEvent, 0));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Handle this error...</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            PYLON_ASSERT2(<span class="keyword">false</span>, <span class="stringliteral">&quot;The sample has been modified and a new event has been registered. Add handler code above.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// This method is called when an image has been grabbed.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( Camera_t&amp; camera, <span class="keyword">const</span> GrabResultPtr_t&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// An image has been received.</span></div>
<div class="line">        m_log.push_back( LogItem( eMyImageReceivedEvent, (uint16_t)ptrGrabResult-&gt;GetBlockID()));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> MoveImagedItemOrSensorHead()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The imaged item or the sensor head can be moved now...</span></div>
<div class="line">        <span class="comment">// The camera may not be ready for trigger at this point yet because the sensor is still being read out.</span></div>
<div class="line">        <span class="comment">// See the documentation of the CInstantCamera::WaitForFrameTriggerReady() method for more information.</span></div>
<div class="line">        m_log.push_back( LogItem( eMyMoveEvent, 0));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> PrintLog()</div>
<div class="line">    {</div>
<div class="line">        ::PrintLog( m_log);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    std::vector&lt;LogItem&gt; m_log;</div>
<div class="line">};</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create the event handler.</span></div>
<div class="line">        CEventHandler eventHandler;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div>
<div class="line">        <span class="comment">// about camera use and image grabbing.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the event handler.</span></div>
<div class="line">        camera.RegisterImageEventHandler( &amp;eventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( &amp;eventHandler, <span class="stringliteral">&quot;ExposureEndEventData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( &amp;eventHandler, <span class="stringliteral">&quot;FrameStartOvertriggerEventData&quot;</span>, eMyFrameStartOvertrigger, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( &amp;eventHandler, <span class="stringliteral">&quot;EventOverrunEventData&quot;</span>, eMyEventOverrunEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera event processing must be activated first, the default is off.</span></div>
<div class="line">        camera.GrabCameraEvents = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera for setting parameters.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The network packet signaling an event of a GigE camera device can get lost on the network.</span></div>
<div class="line">        <span class="comment">// The following commented parameters can be used to control the handling of lost events.</span></div>
<div class="line">        <span class="comment">//camera.GetEventGrabberParams().Timeout;</span></div>
<div class="line">        <span class="comment">//camera.GetEventGrabberParams().RetryCount;</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check if the device supports events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( camera.EventSelector))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The device doesn&#39;t support events.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable the sending of Exposure End events.</span></div>
<div class="line">        <span class="comment">// Select the event to be received.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>);</div>
<div class="line">        <span class="comment">// Enable it.</span></div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea6d5293db5f74c6ec5129d292eb4a8c2f">EventNotification_GenICamEvent</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable the sending of Event Overrun events.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95ad155b6506f1279d8b7830332c73dde6a">EventSelector_EventOverrun</a>);</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea6d5293db5f74c6ec5129d292eb4a8c2f">EventNotification_GenICamEvent</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable the sending of Frame Start Overtrigger events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( camera.EventSelector.GetEntry(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>)))</div>
<div class="line">        {</div>
<div class="line">            camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>);</div>
<div class="line">            camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea6d5293db5f74c6ec5129d292eb4a8c2f">EventNotification_GenICamEvent</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div>
<div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span> ( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Retrieve grab results and notify the camera event and image event handlers.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">            <span class="comment">// Nothing to do here with the grab result, the grab results are handled by the registered event handlers.</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable the sending of Exposure End events.</span></div>
<div class="line">        camera.EventSelector = <a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>;</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable the sending of Event Overrun events.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95ad155b6506f1279d8b7830332c73dde6a">EventSelector_EventOverrun</a>);</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable the sending of Frame Start Overtrigger events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( camera.EventSelector.GetEntry(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>)))</div>
<div class="line">        {</div>
<div class="line">            camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>);</div>
<div class="line">            camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the recorded log showing the timing of events and images.</span></div>
<div class="line">        eventHandler.PrintLog();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingExposureEndEvent_Usb"></a>
Grab_UsingExposureEndEvent_Usb</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingExposureEndEvent_Usb.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows how to use the Exposure End event to speed up the image acquisition.</span></div>
<div class="line"><span class="comment">    For example, when a sensor exposure is finished, the camera can send an Exposure End event to the PC.</span></div>
<div class="line"><span class="comment">    The PC can receive the event before the image data of the finished exposure has been completely transferred.</span></div>
<div class="line"><span class="comment">    This can be used in order to avoid an unnecessary delay, for example when an imaged</span></div>
<div class="line"><span class="comment">    object is moved further before the related image data transfer is complete.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_LINUX_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;sys/time.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Settings for using Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_camera_event_handler.html">Pylon::CBaslerUsbCameraEventHandler</a> CameraEventHandler_t; <span class="comment">// Or use Camera_t::CameraEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_image_event_handler.html">Pylon::CBaslerUsbImageEventHandler</a> ImageEventHandler_t; <span class="comment">// Or use Camera_t::ImageEventHandler_t</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_grab_result_ptr.html">Pylon::CBaslerUsbGrabResultPtr</a> GrabResultPtr_t; <span class="comment">// Or use Camera_t::GrabResultPtr_t</span></div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Enumeration used for distinguishing different events.</span></div>
<div class="line"><span class="keyword">enum</span> MyEvents</div>
<div class="line">{</div>
<div class="line">    eMyExposureEndEvent,      <span class="comment">// Triggered by a camera event.</span></div>
<div class="line">    eMyFrameStartOvertrigger, <span class="comment">// Triggered by a camera event.</span></div>
<div class="line">    eMyImageReceivedEvent,    <span class="comment">// Triggered by the receipt of an image.</span></div>
<div class="line">    eMyMoveEvent,             <span class="comment">// Triggered when the imaged item or the sensor head can be moved.</span></div>
<div class="line">    eMyNoEvent                <span class="comment">// Used as default setting.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Names of possible events for a printed output.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* MyEventNames[] =</div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;ExposureEndEvent     &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;FrameStartOvertrigger&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;ImageReceived        &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;Move                 &quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;NoEvent              &quot;</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// Used for logging received events without outputting the information on the screen</span></div>
<div class="line"><span class="comment">// because outputting will change the timing.</span></div>
<div class="line"><span class="comment">// This class is used for demonstration purposes only.</span></div>
<div class="line"><span class="keyword">struct </span>LogItem</div>
<div class="line">{</div>
<div class="line">    LogItem()</div>
<div class="line">        : eventType( eMyNoEvent)</div>
<div class="line">        , frameNumber(0)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    LogItem( MyEvents event, uint16_t frameNr)</div>
<div class="line">        : eventType(event)</div>
<div class="line">        , frameNumber(frameNr)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//Warning, measured values can be wrong on older PC hardware.</span></div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>        QueryPerformanceCounter(&amp;time);</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keyword">struct </span>timeval tv;</div>
<div class="line"></div>
<div class="line">        gettimeofday(&amp;tv, NULL);</div>
<div class="line">        time = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span><span class="keyword">&gt;</span>(tv.tv_sec) * 1000L + static_cast&lt;unsigned long long&gt;(tv.tv_usec) / 1000LL;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>    LARGE_INTEGER time; <span class="comment">// Recorded time stamps.</span></div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> time; <span class="comment">// Recorded time stamps.</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    MyEvents eventType; <span class="comment">// Type of the received event.</span></div>
<div class="line">    uint16_t frameNumber; <span class="comment">// Frame number of the received event.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Helper function for printing a log.</span></div>
<div class="line"><span class="comment">// This function is used for demonstration purposes only.</span></div>
<div class="line"><span class="keywordtype">void</span> PrintLog( <span class="keyword">const</span> std::vector&lt;LogItem&gt;&amp; aLog)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="comment">// Get the PC timer frequency.</span></div>
<div class="line">    LARGE_INTEGER timerFrequency;</div>
<div class="line">    QueryPerformanceFrequency(&amp;timerFrequency);</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;Warning, the printed time values can be wrong on older PC hardware.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line">    <span class="comment">// Print the event information header.</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Time [ms]    &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Event                 &quot;</span> &lt;&lt; <span class="stringliteral">&quot;FrameNumber&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;------------ &quot;</span> &lt;&lt; <span class="stringliteral">&quot;--------------------- &quot;</span> &lt;&lt; <span class="stringliteral">&quot;-----------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Print the logged information.</span></div>
<div class="line">    <span class="keywordtype">size_t</span> logSize = aLog.size();</div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = 0; i &lt; logSize; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Calculate the elapsed time between the events.</span></div>
<div class="line">        <span class="keywordtype">double</span> time_ms = 0;</div>
<div class="line">        <span class="keywordflow">if</span> ( i)</div>
<div class="line">        {</div>
<div class="line"><span class="preprocessor">#if defined(PYLON_WIN_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>            __int64 oldTicks = ((__int64)aLog[i-1].time.HighPart &lt;&lt; 32) + (__int64)aLog[i-1].time.LowPart;</div>
<div class="line">            __int64 newTicks = ((__int64)aLog[i].time.HighPart &lt;&lt; 32) + (__int64)aLog[i].time.LowPart;</div>
<div class="line">            <span class="keywordtype">long</span> <span class="keywordtype">double</span> timeDifference = (<span class="keywordtype">long</span> double) (newTicks - oldTicks);</div>
<div class="line">            <span class="keywordtype">long</span> <span class="keywordtype">double</span> ticksPerSecond = (<span class="keywordtype">long</span> double) (((__int64)timerFrequency.HighPart &lt;&lt; 32) + (__int64)timerFrequency.LowPart);</div>
<div class="line">            time_ms = (timeDifference / ticksPerSecond) * 1000;</div>
<div class="line"><span class="preprocessor">#elif defined(PYLON_LINUX_BUILD)</span></div>
<div class="line"><span class="preprocessor"></span>            time_ms = aLog[i].time - aLog[i-1].time;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the event information.</span></div>
<div class="line">        cout &lt;&lt; setw(12) &lt;&lt; fixed &lt;&lt; setprecision(4) &lt;&lt; time_ms &lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt; MyEventNames[ aLog[i].eventType ] &lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt; aLog[i].frameNumber &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 50;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Example handler for GigE camera events.</span></div>
<div class="line"><span class="comment">// Additional handling is required for GigE camera events because the event network packets can be lost, doubled or delayed on the network.</span></div>
<div class="line"><span class="keyword">class </span>CEventHandler : <span class="keyword">public</span> CameraEventHandler_t, <span class="keyword">public</span> ImageEventHandler_t</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    CEventHandler()</div>
<div class="line">        : m_nextExpectedFrameNumberImage(0)</div>
<div class="line">        , m_nextExpectedFrameNumberExposureEnd(0)</div>
<div class="line">        , m_nextFrameNumberForMove(0)</div>
<div class="line">        , m_frameIDsInitialized(false)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Reserve space to log camera, image and move events.</span></div>
<div class="line">        m_log.reserve( c_countOfImagesToGrab * 3);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// This method is called when a camera event has been received.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnCameraEvent( Camera_t&amp; camera, intptr_t userProvidedId, GenApi::INode* <span class="comment">/* pNode */</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ( userProvidedId == eMyExposureEndEvent)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// An Exposure End event has been received.</span></div>
<div class="line">            uint16_t frameNumber = (uint16_t)camera.EventExposureEndFrameID.GetValue();</div>
<div class="line">            m_log.push_back( LogItem( eMyExposureEndEvent, frameNumber));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// If Exposure End event is not doubled.</span></div>
<div class="line">            <span class="keywordflow">if</span> ( GetIncrementedFrameNumber( frameNumber) != m_nextExpectedFrameNumberExposureEnd)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Check whether the imaged item or the sensor head can be moved.</span></div>
<div class="line">                <span class="keywordflow">if</span> ( frameNumber == m_nextFrameNumberForMove)</div>
<div class="line">                {</div>
<div class="line">                    MoveImagedItemOrSensorHead();</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Check for missing Exposure End events.</span></div>
<div class="line">                <span class="keywordflow">if</span> ( frameNumber != m_nextExpectedFrameNumberExposureEnd)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;An Exposure End event has been lost. Expected frame number is %d but got frame number %d.&quot;</span>, m_nextExpectedFrameNumberExposureEnd, frameNumber);</div>
<div class="line">                }</div>
<div class="line">                IncrementFrameNumber( m_nextExpectedFrameNumberExposureEnd);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( userProvidedId == eMyFrameStartOvertrigger)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// The camera has been overtriggered.</span></div>
<div class="line">            m_log.push_back( LogItem( eMyFrameStartOvertrigger, 0));</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Handle this error...</span></div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            PYLON_ASSERT2(<span class="keyword">false</span>, <span class="stringliteral">&quot;The sample has been modified and a new event has been registered. Add handler code above.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// This method is called when an image has been grabbed.</span></div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( Camera_t&amp; camera, <span class="keyword">const</span> GrabResultPtr_t&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// An image has been received.</span></div>
<div class="line">        uint16_t frameNumber = (uint16_t)ptrGrabResult-&gt;GetBlockID();</div>
<div class="line">        m_log.push_back( LogItem( eMyImageReceivedEvent, frameNumber));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check whether the imaged item or the sensor head can be moved.</span></div>
<div class="line">        <span class="comment">// This will be the case if the Exposure End has been lost or if the Exposure End is received later than the image.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( frameNumber == m_nextFrameNumberForMove)</div>
<div class="line">        {</div>
<div class="line">            MoveImagedItemOrSensorHead();</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check for missing images.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( frameNumber != m_nextExpectedFrameNumberImage)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;An image has been lost. Expected frame number is %d but got frame number %d.&quot;</span>, m_nextExpectedFrameNumberImage, frameNumber);</div>
<div class="line">        }</div>
<div class="line">        IncrementFrameNumber( m_nextExpectedFrameNumberImage);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> MoveImagedItemOrSensorHead()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The imaged item or the sensor head can be moved now...</span></div>
<div class="line">        <span class="comment">// The camera may not be ready for a trigger at this point yet because the sensor is still being read out.</span></div>
<div class="line">        <span class="comment">// See the documentation of the CInstantCamera::WaitForFrameTriggerReady() method for more information.</span></div>
<div class="line">        m_log.push_back( LogItem( eMyMoveEvent, m_nextFrameNumberForMove));</div>
<div class="line">        IncrementFrameNumber( m_nextFrameNumberForMove);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> PrintLog()</div>
<div class="line">    {</div>
<div class="line">        ::PrintLog( m_log);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">void</span> IncrementFrameNumber( uint16_t&amp; frameNumber)</div>
<div class="line">    {</div>
<div class="line">        frameNumber = GetIncrementedFrameNumber( frameNumber);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    uint16_t GetIncrementedFrameNumber( uint16_t frameNumber)</div>
<div class="line">    {</div>
<div class="line">        ++frameNumber;</div>
<div class="line">        <span class="keywordflow">return</span> frameNumber;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    uint16_t m_nextExpectedFrameNumberImage;</div>
<div class="line">    uint16_t m_nextExpectedFrameNumberExposureEnd;</div>
<div class="line">    uint16_t m_nextFrameNumberForMove;</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">bool</span> m_frameIDsInitialized;</div>
<div class="line"></div>
<div class="line">    std::vector&lt;LogItem&gt; m_log;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create the event handler.</span></div>
<div class="line">        CEventHandler eventHandler;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add sample configuration event handlers to print out information</span></div>
<div class="line">        <span class="comment">// about camera use and image grabbing.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>); <span class="comment">// Camera use.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the event handler.</span></div>
<div class="line">        camera.RegisterImageEventHandler( &amp;eventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( &amp;eventHandler, <span class="stringliteral">&quot;EventExposureEndData&quot;</span>, eMyExposureEndEvent, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line">        camera.RegisterCameraEventHandler( &amp;eventHandler, <span class="stringliteral">&quot;EventFrameStartOvertriggerData&quot;</span>, eMyFrameStartOvertrigger, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera event processing must be activated first, the default is off.</span></div>
<div class="line">        camera.GrabCameraEvents = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera for setting parameters.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check if the device supports events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( camera.EventSelector))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The device doesn&#39;t support events.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable the sending of Exposure End events.</span></div>
<div class="line">        <span class="comment">// Select the event to be received.</span></div>
<div class="line">        camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>);</div>
<div class="line">        <span class="comment">// Enable it.</span></div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea56e39634019f2f17dc2edc8ac53dfd1a">EventNotification_On</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable the sending of Frame Start Overtrigger events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( camera.EventSelector.GetEntry(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>)))</div>
<div class="line">        {</div>
<div class="line">            camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>);</div>
<div class="line">            camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea56e39634019f2f17dc2edc8ac53dfd1a">EventNotification_On</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">        <span class="comment">// The camera device is parameterized with a default configuration which</span></div>
<div class="line">        <span class="comment">// sets up free-running continuous acquisition.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">        <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">        <span class="keywordflow">while</span> ( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Retrieve grab results and notify the camera event and image event handlers.</span></div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">            <span class="comment">// Nothing to do here with the grab result, the grab results are handled by the registered event handlers.</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable the sending of Exposure End events.</span></div>
<div class="line">        camera.EventSelector = <a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95aff6d3643784d09a19679ac942fb76484">EventSelector_ExposureEnd</a>;</div>
<div class="line">        camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable the sending of Frame Start Overtrigger events.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( camera.EventSelector.GetEntry(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>)))</div>
<div class="line">        {</div>
<div class="line">            camera.EventSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac351d04ad16f30c21cde8b2dc67e1a95a6adc76a937808e0a67e81d539c6d7403">EventSelector_FrameStartOvertrigger</a>);</div>
<div class="line">            camera.EventNotification.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ae5088f3810ce630e1ed34e5b8fe5bafea15834fa09f46a7313ffab5bf716d45e1">EventNotification_Off</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the recorded log showing the timing of events and images.</span></div>
<div class="line">        eventHandler.PrintLog();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingGrabLoopThread"></a>
Grab_UsingGrabLoopThread</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingGrabLoopThread.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to grab and process images using the grab loop thread</span></div>
<div class="line"><span class="comment">    provided by the Instant Camera class.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">//Example of an image event handler.</span></div>
<div class="line"><span class="keyword">class </span>CSampleImageEventHandler : <span class="keyword">public</span> <a class="code" href="class_pylon_1_1_c_image_event_handler.html">CImageEventHandler</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> OnImageGrabbed( <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a>&amp; camera, <span class="keyword">const</span> <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a>&amp; ptrGrabResult)</div>
<div class="line">    {</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="comment">// Display the image</span></div>
<div class="line">        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;CSampleImageEventHandler::OnImageGrabbed called.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        cout &lt;&lt; std::endl;</div>
<div class="line">        cout &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create an instant camera object for the camera device found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div>
<div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div>
<div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, add a sample configuration event handler to print out information</span></div>
<div class="line">        <span class="comment">// about camera use.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CConfigurationEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The image event printer serves as sample image processing.</span></div>
<div class="line">        <span class="comment">// When using the grab loop thread provided by the Instant Camera object, an image event handler processing the grab</span></div>
<div class="line">        <span class="comment">// results must be created and registered.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, register another image event handler.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CSampleImageEventHandler, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera device.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Can the camera device be queried whether it is ready to accept the next frame trigger?</span></div>
<div class="line">        <span class="keywordflow">if</span> (camera.CanWaitForFrameTriggerReady())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Start the grabbing using the grab loop thread, by setting the grabLoopType parameter</span></div>
<div class="line">            <span class="comment">// to GrabLoop_ProvidedByInstantCamera. The grab results are delivered to the image event handlers.</span></div>
<div class="line">            <span class="comment">// The GrabStrategy_OneByOne default grab strategy is used.</span></div>
<div class="line">            camera.StartGrabbing( <a class="code" href="group___pylon___instant_camera_api_generic.html#gga56a922b1bd37848234153b9e12f7fecba62ef2e619a5079431c23af8061665751">GrabStrategy_OneByOne</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggaf582b0a1fa8604d4e18857bd525291e6a3a3229ee04054114d6929a1ee325be9a">GrabLoop_ProvidedByInstantCamera</a>);</div>
<div class="line">    </div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Enter \&quot;t\&quot; to trigger the camera or \&quot;e\&quot; to exit and press enter? (t/e)&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">    </div>
<div class="line">            <span class="comment">// Wait for user input to trigger the camera or exit the program.</span></div>
<div class="line">            <span class="comment">// The grabbing is stopped, the device is closed and destroyed automatically when the camera object goes out of scope.</span></div>
<div class="line">            <span class="keywordtype">char</span> key;</div>
<div class="line">            <span class="keywordflow">do</span></div>
<div class="line">            {</div>
<div class="line">                cin.get(key);</div>
<div class="line">                <span class="keywordflow">if</span> ( (key == <span class="charliteral">&#39;t&#39;</span> || key == <span class="charliteral">&#39;T&#39;</span>))</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Execute the software trigger. Wait up to 500 ms for the camera to be ready for trigger.</span></div>
<div class="line">                    <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 500, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">                    {</div>
<div class="line">                        camera.ExecuteSoftwareTrigger();</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">while</span> ( (key != <span class="charliteral">&#39;e&#39;</span>) &amp;&amp; (key != <span class="charliteral">&#39;E&#39;</span>));</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// See the documentation of CInstantCamera::CanWaitForFrameTriggerReady() for more information.</span></div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;This sample can only be used with cameras that can be queried whether they are ready to accept the next frame trigger.&quot;</span>;</div>
<div class="line">            cout &lt;&lt; endl; </div>
<div class="line">            cout &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Remove left over characters from input buffer.</span></div>
<div class="line">        cin.ignore(cin.rdbuf()-&gt;in_avail());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingSequencer"></a>
Grab_UsingSequencer</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingSequencer.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows how to grab images using the sequencer feature of a camera.</span></div>
<div class="line"><span class="comment">    Three sequence sets are used for image acquisition. Each sequence set</span></div>
<div class="line"><span class="comment">    uses a different image height.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler GigE Vision cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigEStreamParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. For example, define USE_GIGE for using GigE cameras.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 10;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device that matches the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div>
<div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div>
<div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">GenApi::IsWritable</a>(camera.SequenceEnable))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Disable the sequencer before changing parameters.</span></div>
<div class="line">            <span class="comment">// The parameters under control of the sequencer are locked</span></div>
<div class="line">            <span class="comment">// when the sequencer is enabled. For a list of parameters</span></div>
<div class="line">            <span class="comment">// controlled by the sequencer, see the camera User&#39;s Manual.</span></div>
<div class="line">            camera.SequenceEnable.SetValue(<span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Maximize the image area of interest (Image AOI).</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">            {</div>
<div class="line">                camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">            {</div>
<div class="line">                camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">            }</div>
<div class="line">            camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">            camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the pixel data format.</span></div>
<div class="line">            camera.PixelFormat.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464a268a5e6a33a60e7b88a5767a147ef285">PixelFormat_Mono8</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set up sequence sets.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Configure how the sequence will advance.</span></div>
<div class="line">            <span class="comment">// &#39;Auto&#39; refers to the auto sequence advance mode.</span></div>
<div class="line">            <span class="comment">// The advance from one sequence set to the next will occur automatically with each image acquired.</span></div>
<div class="line">            <span class="comment">// After the end of the sequence set cycle was reached a new sequence set cycle will start.</span></div>
<div class="line">            camera.SequenceAdvanceMode = <a class="code" href="namespace_basler___gig_e_camera.html#a596f4c45f9052832e626ccb19569f3d0ae44a29e4546caa488b9527b6422e5008">SequenceAdvanceMode_Auto</a>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Our sequence sets relate to three steps (0..2).</span></div>
<div class="line">            <span class="comment">// In each step we will increase the height of the Image AOI by one increment.</span></div>
<div class="line">            camera.SequenceSetTotalNumber = 3;</div>
<div class="line"></div>
<div class="line">            int64_t increments = (camera.Height.GetMax() - camera.Height.GetMin()) / camera.Height.GetInc();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the parameters for step 0; quarter height image.</span></div>
<div class="line">            camera.SequenceSetIndex = 0;</div>
<div class="line">            camera.Height.SetValue( camera.Height.GetInc() * (increments / 4));</div>
<div class="line">            camera.SequenceSetStore.Execute();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the parameters for step 1; half height image.</span></div>
<div class="line">            camera.SequenceSetIndex = 1;</div>
<div class="line">            camera.Height.SetValue( camera.Height.GetInc() * (increments / 2));</div>
<div class="line">            camera.SequenceSetStore.Execute();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the parameters for step 2; full height image.</span></div>
<div class="line">            camera.SequenceSetIndex = 2;</div>
<div class="line">            camera.Height.SetValue( camera.Height.GetInc() * increments);</div>
<div class="line">            camera.SequenceSetStore.Execute();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Enable the sequencer feature.</span></div>
<div class="line">            <span class="comment">// From here on you cannot change the sequencer settings anymore.</span></div>
<div class="line">            camera.SequenceEnable.SetValue(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">            camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> grabResult;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">            <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">            <span class="keywordflow">while</span> ( camera.IsGrabbing())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Execute the software trigger. Wait up to 100 ms for the camera to be ready for trigger.</span></div>
<div class="line">                <span class="keywordflow">if</span> ( camera.WaitForFrameTriggerReady( 100, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">                {</div>
<div class="line">                    camera.ExecuteSoftwareTrigger();</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div>
<div class="line">                    camera.RetrieveResult( 5000, grabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Image grabbed successfully?</span></div>
<div class="line">                    <span class="keywordflow">if</span> (grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div>
<div class="line">                    {</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>                        <span class="comment">// Display the grabbed image.</span></div>
<div class="line">                        Pylon::DisplayImage(1, grabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">                        <span class="comment">// Access the image data.</span></div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div>
<div class="line">                        <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *) grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Wait for user input.</span></div>
<div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to continue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">while</span>( camera.IsGrabbing() &amp;&amp; cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Disable the sequencer.</span></div>
<div class="line">            camera.SequenceEnable.SetValue(<span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The sequencer feature is not available for this camera.&quot;</span>&lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">            &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Grab_UsingSequencer_Usb"></a>
Grab_UsingSequencer_Usb</h1>
<div class="fragment"><div class="line"><span class="comment">// Grab_UsingSequencer_usb.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows how to grab images using the sequencer feature of a camera.</span></div>
<div class="line"><span class="comment">    Three sequence sets are used for image acquisition. Each sequence set</span></div>
<div class="line"><span class="comment">    uses a different image height.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined ( USE_USB )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. Define USE_USB for using Usb cameras.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 10;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>(Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device that matches the specified device class.</span></div>
<div class="line">        Camera_t camera(<a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice(info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for enabling software triggering.</span></div>
<div class="line">        <span class="comment">// The software trigger configuration handler replaces the default configuration</span></div>
<div class="line">        <span class="comment">// as all currently registered configuration handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration(<span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">GenApi::IsAvailable</a>(camera.SequencerMode))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Disable the sequencer before changing parameters.</span></div>
<div class="line">            <span class="comment">// The parameters under control of the sequencer are locked</span></div>
<div class="line">            <span class="comment">// when the sequencer is enabled. For a list of parameters</span></div>
<div class="line">            <span class="comment">// controlled by the sequencer, see the camera User&#39;s Manual.</span></div>
<div class="line">            camera.SequencerMode.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#af848d8419829610cb2fe58487a3f2f52a9947873943fd40e2e7b6c9255c7c18df">SequencerMode_Off</a>);</div>
<div class="line">            camera.SequencerConfigurationMode.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#ab13befb1c7ae8a50328347ec280f6dbdaeec5b497c266335f514ea972ba650ac2">SequencerConfigurationMode_On</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Maximize the image area of interest (Image AOI).</span></div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">            {</div>
<div class="line">                camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">            {</div>
<div class="line">                camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">            }</div>
<div class="line">            camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">            camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the pixel data format.</span></div>
<div class="line">            camera.PixelFormat.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464a268a5e6a33a60e7b88a5767a147ef285">PixelFormat_Mono8</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set up sequence sets.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Configure how the sequence will advance.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// The sequence sets relate to three steps (0..2).</span></div>
<div class="line">            <span class="comment">// In each step, the height of the Image AOI is doubled.</span></div>
<div class="line"></div>
<div class="line">            int64_t increments = (camera.Height.GetMax() - camera.Height.GetMin()) / camera.Height.GetInc();</div>
<div class="line"></div>
<div class="line">            int64_t initialSet = camera.SequencerSetSelector.GetMin();</div>
<div class="line">            int64_t incSet = camera.SequencerSetSelector.GetInc();</div>
<div class="line">            int64_t curSet = initialSet;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the parameters for step 0; quarter height image.</span></div>
<div class="line">            camera.SequencerSetSelector.SetValue(initialSet);</div>
<div class="line">            { <span class="comment">// valid for all sets</span></div>
<div class="line">                <span class="comment">// reset on software signal 1;</span></div>
<div class="line">                camera.SequencerPathSelector.SetValue(0);</div>
<div class="line">                camera.SequencerSetNext.SetValue(initialSet);</div>
<div class="line">                camera.SequencerTriggerSource.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a6753b38a6f71aa780fbc1e09fb565155ac362947d9098643d22f941d08c6b7b6d">SequencerTriggerSource_SoftwareSignal1</a>);</div>
<div class="line">                <span class="comment">// advance on Frame Start</span></div>
<div class="line">                camera.SequencerPathSelector.SetValue(1);</div>
<div class="line">                camera.SequencerTriggerSource.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a6753b38a6f71aa780fbc1e09fb565155a98f434a9519ad9e754c02ec2edf0869e">SequencerTriggerSource_FrameStart</a>);</div>
<div class="line">            }</div>
<div class="line">            camera.SequencerSetNext.SetValue(curSet + incSet);</div>
<div class="line">            <span class="comment">// quarter height</span></div>
<div class="line">            camera.Height.SetValue(camera.Height.GetInc() * (increments / 4));</div>
<div class="line">            camera.SequencerSetSave.Execute();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the parameters for step 1; half height image.</span></div>
<div class="line">            curSet += incSet;</div>
<div class="line">            camera.SequencerSetSelector.SetValue(curSet);</div>
<div class="line">            <span class="comment">// advance on Frame Start to next set</span></div>
<div class="line">            camera.SequencerSetNext.SetValue(curSet + incSet);</div>
<div class="line">            <span class="comment">// half height</span></div>
<div class="line">            camera.Height.SetValue(camera.Height.GetInc() * (increments / 2));</div>
<div class="line">            camera.SequencerSetSave.Execute();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the parameters for step 2; full height image.</span></div>
<div class="line">            curSet += incSet;</div>
<div class="line">            camera.SequencerSetSelector.SetValue(curSet);</div>
<div class="line">            <span class="comment">// advance on Frame End to initial set,</span></div>
<div class="line">            camera.SequencerSetNext.SetValue(initialSet); <span class="comment">// terminates sequence definition</span></div>
<div class="line">            <span class="comment">// full height</span></div>
<div class="line">            camera.Height.SetValue(camera.Height.GetInc() * increments);</div>
<div class="line">            camera.SequencerSetSave.Execute();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Enable the sequencer feature.</span></div>
<div class="line">            <span class="comment">// From here on you cannot change the sequencer settings anymore.</span></div>
<div class="line">            camera.SequencerConfigurationMode.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#ab13befb1c7ae8a50328347ec280f6dbdac3b3ce77e5165503c8149149b48b4143">SequencerConfigurationMode_Off</a>);</div>
<div class="line">            camera.SequencerMode.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#af848d8419829610cb2fe58487a3f2f52a68e62f84d03c427662c8e507ee463789">SequencerMode_On</a>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Start the grabbing of c_countOfImagesToGrab images.</span></div>
<div class="line">            camera.StartGrabbing(c_countOfImagesToGrab);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> grabResult;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Camera.StopGrabbing() is called automatically by the RetrieveResult() method</span></div>
<div class="line">            <span class="comment">// when c_countOfImagesToGrab images have been retrieved.</span></div>
<div class="line">            <span class="keywordflow">while</span> (camera.IsGrabbing())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Execute the software trigger. Wait up to 100 ms for the camera to be ready for trigger.</span></div>
<div class="line">                <span class="keywordflow">if</span> (camera.WaitForFrameTriggerReady(100, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>))</div>
<div class="line">                {</div>
<div class="line">                    camera.ExecuteSoftwareTrigger();</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Wait for an image and then retrieve it. A timeout of 5000 ms is used.</span></div>
<div class="line">                    camera.RetrieveResult(5000, grabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line"></div>
<div class="line">                    <span class="comment">// Image grabbed successfully?</span></div>
<div class="line">                    <span class="keywordflow">if</span> (grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div>
<div class="line">                    {</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>                        <span class="comment">// Display the grabbed image.</span></div>
<div class="line">                        Pylon::DisplayImage(1, grabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">                        <span class="comment">// Access the image data.</span></div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;SizeX: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>() &lt;&lt; endl;</div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;SizeY: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>() &lt;&lt; endl;</div>
<div class="line">                        <span class="keyword">const</span> uint8_t *pImageBuffer = (uint8_t *)grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>();</div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Gray value of first pixel: &quot;</span> &lt;&lt; (uint32_t)pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        cout &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a51c4ed590aa402d030b0f3c5adfcc4e2">GetErrorCode</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; grabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#afc2854260822812b3ba46bb7efe63cc0">GetErrorDescription</a>() &lt;&lt; endl;</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Wait for user input.</span></div>
<div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press enter to continue.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">while</span> (camera.IsGrabbing() &amp;&amp; cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Disable the sequencer.</span></div>
<div class="line">            camera.SequencerMode.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#af848d8419829610cb2fe58487a3f2f52a9947873943fd40e2e7b6c9255c7c18df">SequencerMode_Off</a>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The sequencer feature is not available for this camera.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">            &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span> (cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_AutoFunctions"></a>
ParametrizeCamera_AutoFunctions</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_AutoFunctions.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to use the Auto Functions feature of Basler cameras.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use  Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error camera type is not specified. For example, define USE_GIGE for using GigE cameras</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// The camera specific grab result smart pointer.</span></div>
<div class="line"><span class="keyword">typedef</span> Camera_t::GrabResultPtr_t GrabResultPtr_t;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> IsColorCamera(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoGainOnce(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoGainContinuous(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoExposureOnce(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoExposureContinuous(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoWhiteBalance(Camera_t&amp; camera);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device that matches the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the name of the used camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard event handler for configuring single frame acquisition.</span></div>
<div class="line">        <span class="comment">// This overrides the default configuration as all event handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        <span class="comment">// Please note that the camera device auto functions do not require grabbing by single frame acquisition.</span></div>
<div class="line">        <span class="comment">// All available acquisition modes can be used.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Turn test image off.</span></div>
<div class="line">        camera.TestImageSelector = <a class="code" href="namespace_basler___gig_e_camera.html#aecae8f306c012265646a3d7441ce79d8aac9eee70644435dd74c9afb10815cca3">TestImageSelector_Off</a>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Only area scan cameras support auto functions.</span></div>
<div class="line">        <span class="keywordflow">if</span> (camera.DeviceScanType.GetValue() == <a class="code" href="namespace_basler___gig_e_camera.html#af12ff1d418ecdb36888c9813ea2f7931a16707b8396bc3a6a642cc1d26f96e3f8">DeviceScanType_Areascan</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// All area scan cameras support luminance control.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;once&quot; gain auto function.</span></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div>
<div class="line">            camera.GainRaw.SetValue( camera.GainRaw.GetMax());</div>
<div class="line">            AutoGainOnce(camera);</div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; gain auto function.</span></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div>
<div class="line">            camera.GainRaw.SetValue( camera.GainRaw.GetMax());</div>
<div class="line">            AutoGainContinuous(camera);</div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div>
<div class="line">            camera.ExposureTimeRaw.SetValue( camera.ExposureTimeRaw.GetMin());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;once&quot; exposure auto function.</span></div>
<div class="line">            AutoExposureOnce(camera);</div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div>
<div class="line">            camera.ExposureTimeRaw.SetValue( camera.ExposureTimeRaw.GetMin());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; exposure auto function.</span></div>
<div class="line">            AutoExposureContinuous(camera);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Only color cameras support the balance white auto function.</span></div>
<div class="line">            <span class="keywordflow">if</span> (IsColorCamera(camera))</div>
<div class="line">            {</div>
<div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// For demonstration purposes only, set the initial balance ratio values:</span></div>
<div class="line">                camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a30c7f0a5037ea56a93666b3f944f627a">BalanceRatioSelector_Red</a>);</div>
<div class="line">                camera.BalanceRatioAbs.SetValue(3.14);</div>
<div class="line">                camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a88739494127233f0de7bbe86f9039c1c">BalanceRatioSelector_Green</a>);</div>
<div class="line">                camera.BalanceRatioAbs.SetValue(0.5);</div>
<div class="line">                camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a5d0493118154b6eed0e8f373b88ea1e9">BalanceRatioSelector_Blue</a>);</div>
<div class="line">                camera.BalanceRatioAbs.SetValue(0.125);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Carry out white balance using the balance white auto function.</span></div>
<div class="line">                AutoWhiteBalance(camera);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;Only area scan cameras support auto functions.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code" href="class_pylon_1_1_timeout_exception.html">TimeoutException</a> &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Auto functions did not finish in time.</span></div>
<div class="line">        <span class="comment">// Maybe the cap on the lens is still on or there is not enough light.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;A timeout has occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; e.<a class="code" href="class_pylon_1_1_generic_exception.html#a2cc3d2b0b9e0d6ae2df614292fd7ab4c">GetDescription</a>() &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;Please make sure you remove the cap from the camera lens before running this sample.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        exitCode = 0;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoGainOnce(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the gain auto function is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.GainAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Gain Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div>
<div class="line">    <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div>
<div class="line">    <span class="comment">// luminance statistics.</span></div>
<div class="line">    camera.AutoFunctionAOISelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7c66c82cab4b5cf455d27633d8a2fe2fa8a65bb23e87aa3ea8ba476938630555d">AutoFunctionAOISelector_AOI1</a>);</div>
<div class="line">    camera.AutoFunctionAOIOffsetX.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIOffsetY.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.AutoFunctionAOIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div>
<div class="line">    <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div>
<div class="line">    <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div>
<div class="line">    camera.AutoTargetValue.SetValue(80);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// We are going to try GainAuto = Once.</span></div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the gain ranges for luminance control.</span></div>
<div class="line">    camera.AutoGainRawLowerLimit.SetValue(camera.GainRaw.GetMin());</div>
<div class="line">    camera.AutoGainRawUpperLimit.SetValue(camera.GainRaw.GetMax());</div>
<div class="line"></div>
<div class="line">    camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485a588db700b2dad21f2e9c383350095b3b">GainAuto_Once</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div>
<div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div>
<div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div>
<div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot; and the new parameter value will be applied to the</span></div>
<div class="line">    <span class="comment">// subsequently grabbed images.</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> n = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (camera.GainAuto.GetValue() != <a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485ad0346f077c0475fb62fb6ffbbf8dfdbc">GainAuto_Off</a>)</div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        ++n;</div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Make sure the loop is exited.</span></div>
<div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga3060f73a55158831d6d35a339aa2dd9a">TIMEOUT_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto gain did not finish.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;GainAuto went back to &#39;Off&#39; after &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoGainContinuous(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the Gain Auto feature is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.GainAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Gain Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div>
<div class="line">    <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div>
<div class="line">    <span class="comment">// luminance statistics.</span></div>
<div class="line">    camera.AutoFunctionAOISelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7c66c82cab4b5cf455d27633d8a2fe2fa8a65bb23e87aa3ea8ba476938630555d">AutoFunctionAOISelector_AOI1</a>);</div>
<div class="line">    camera.AutoFunctionAOIOffsetX.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIOffsetY.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.AutoFunctionAOIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div>
<div class="line">    <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div>
<div class="line">    <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div>
<div class="line">    camera.AutoTargetValue.SetValue(80);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// We are trying GainAuto = Continuous.</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485a5a6acee45abdf8d212a080e4f8b5c157">GainAuto_Continuous</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When &quot;continuous&quot; mode is selected, the parameter value is adjusted repeatedly while images are acquired.</span></div>
<div class="line">    <span class="comment">// Depending on the current frame rate, the automatic adjustments will usually be carried out for</span></div>
<div class="line">    <span class="comment">// every or every other image unless the cameras micro controller is kept busy by other tasks.</span></div>
<div class="line">    <span class="comment">// The repeated automatic adjustment will proceed until the &quot;once&quot; mode of operation is used or</span></div>
<div class="line">    <span class="comment">// until the auto function is set to &quot;off&quot;, in which case the parameter value resulting from the latest</span></div>
<div class="line">    <span class="comment">// automatic adjustment will operate unless the value is manually adjusted.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 20; n++)            <span class="comment">// For demonstration purposes, we will grab &quot;only&quot; 20 images.</span></div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line">    }</div>
<div class="line">    camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485ad0346f077c0475fb62fb6ffbbf8dfdbc">GainAuto_Off</a>); <span class="comment">// Switch off GainAuto.</span></div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoExposureOnce(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether auto exposure is available</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.ExposureAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Exposure Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div>
<div class="line">    <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div>
<div class="line">    <span class="comment">// luminance statistics.</span></div>
<div class="line">    camera.AutoFunctionAOISelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7c66c82cab4b5cf455d27633d8a2fe2fa8a65bb23e87aa3ea8ba476938630555d">AutoFunctionAOISelector_AOI1</a>);</div>
<div class="line">    camera.AutoFunctionAOIOffsetX.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIOffsetY.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.AutoFunctionAOIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div>
<div class="line">    <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div>
<div class="line">    <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div>
<div class="line">    camera.AutoTargetValue.SetValue(80);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Try ExposureAuto = Once.</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;ExposureAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTimeAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the exposure time ranges for luminance control.</span></div>
<div class="line">    camera.AutoExposureTimeAbsLowerLimit.SetValue(camera.AutoExposureTimeAbsLowerLimit.GetMin());</div>
<div class="line">    camera.AutoExposureTimeAbsUpperLimit.SetValue(camera.AutoExposureTimeAbsLowerLimit.GetMax());</div>
<div class="line"></div>
<div class="line">    camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac165d668b0c09bbd3089dd397ac50102">ExposureAuto_Once</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div>
<div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div>
<div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div>
<div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot;, and the new parameter value will be applied to the</span></div>
<div class="line">    <span class="comment">// subsequently grabbed images.</span></div>
<div class="line">    <span class="keywordtype">int</span> n = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (camera.ExposureAuto.GetValue() != <a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac141268336be5ea564c759fd14cdcc7e">ExposureAuto_Off</a>)</div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        ++n;</div>
<div class="line"></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Make sure the loop is exited.</span></div>
<div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga3060f73a55158831d6d35a339aa2dd9a">TIMEOUT_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto exposure did not finish.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto went back to &#39;Off&#39; after &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTimeAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoExposureContinuous(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the Exposure Auto feature is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.ExposureAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Exposure Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the Auto Function AOI for luminance statistics.</span></div>
<div class="line">    <span class="comment">// Currently, AutoFunctionAOISelector_AOI1 is predefined to gather</span></div>
<div class="line">    <span class="comment">// luminance statistics.</span></div>
<div class="line">    camera.AutoFunctionAOISelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7c66c82cab4b5cf455d27633d8a2fe2fa8a65bb23e87aa3ea8ba476938630555d">AutoFunctionAOISelector_AOI1</a>);</div>
<div class="line">    camera.AutoFunctionAOIOffsetX.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIOffsetY.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.AutoFunctionAOIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control. The value is always expressed</span></div>
<div class="line">    <span class="comment">// as an 8 bit value regardless of the current pixel data output format,</span></div>
<div class="line">    <span class="comment">// i.e., 0 -&gt; black, 255 -&gt; white.</span></div>
<div class="line">    camera.AutoTargetValue.SetValue(80);</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTimeAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ae42bc6cc7bae31951f65c203cba80d06">ExposureAuto_Continuous</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When &quot;continuous&quot; mode is selected, the parameter value is adjusted repeatedly while images are acquired.</span></div>
<div class="line">    <span class="comment">// Depending on the current frame rate, the automatic adjustments will usually be carried out for</span></div>
<div class="line">    <span class="comment">// every or every other image, unless the cameras microcontroller is kept busy by other tasks.</span></div>
<div class="line">    <span class="comment">// The repeated automatic adjustment will proceed until the &quot;once&quot; mode of operation is used or</span></div>
<div class="line">    <span class="comment">// until the auto function is set to &quot;off&quot;, in which case the parameter value resulting from the latest</span></div>
<div class="line">    <span class="comment">// automatic adjustment will operate unless the value is manually adjusted.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 20; n++)    <span class="comment">// For demonstration purposes, we will use only 20 images.</span></div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line">    }</div>
<div class="line">    camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac141268336be5ea564c759fd14cdcc7e">ExposureAuto_Off</a>); <span class="comment">// Switch off Exposure Auto.</span></div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTimeAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoWhiteBalance(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the Balance White Auto feature is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.BalanceWhiteAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Balance White Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the Auto Function AOI for white balance statistics.</span></div>
<div class="line">    <span class="comment">// Currently, AutoFunctionAOISelector_AOI2 is predefined to gather</span></div>
<div class="line">    <span class="comment">// white balance statistics.</span></div>
<div class="line">    camera.AutoFunctionAOISelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7c66c82cab4b5cf455d27633d8a2fe2fa051294632d8fb99c9a20945b184afb16">AutoFunctionAOISelector_AOI2</a>);</div>
<div class="line">    camera.AutoFunctionAOIOffsetX.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIOffsetY.SetValue(0);</div>
<div class="line">    camera.AutoFunctionAOIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.AutoFunctionAOIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;BalanceWhiteAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial balance ratio: &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a30c7f0a5037ea56a93666b3f944f627a">BalanceRatioSelector_Red</a>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.BalanceRatioAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a88739494127233f0de7bbe86f9039c1c">BalanceRatioSelector_Green</a>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.BalanceRatioAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a5d0493118154b6eed0e8f373b88ea1e9">BalanceRatioSelector_Blue</a>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.BalanceRatioAbs.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    camera.BalanceWhiteAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a9a08a778c20c236d895df359e164bfc2a18d210266d177a05751ce818ade43e69">BalanceWhiteAuto_Once</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div>
<div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div>
<div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div>
<div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot; and the new parameter value will be applied to the</span></div>
<div class="line">    <span class="comment">// subsequently grabbed images.</span></div>
<div class="line">    <span class="keywordtype">int</span> n = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (camera.BalanceWhiteAuto.GetValue() != <a class="code" href="namespace_basler___gig_e_camera.html#a9a08a778c20c236d895df359e164bfc2a0352b2474dc340b9bca77e7551814ead">BalanceWhiteAuto_Off</a>)</div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        ++n;</div>
<div class="line"></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Make sure the loop is exited.</span></div>
<div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga3060f73a55158831d6d35a339aa2dd9a">TIMEOUT_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto white balance did not finish.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;BalanceWhiteAuto went back to &#39;Off&#39; after &quot;</span>;</div>
<div class="line">    cout &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final balance ratio: &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a30c7f0a5037ea56a93666b3f944f627a">BalanceRatioSelector_Red</a>);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.BalanceRatioAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a88739494127233f0de7bbe86f9039c1c">BalanceRatioSelector_Green</a>);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.BalanceRatioAbs.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a5d0493118154b6eed0e8f373b88ea1e9">BalanceRatioSelector_Blue</a>);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.BalanceRatioAbs.GetValue() &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> IsColorCamera(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_gen_api_1_1node__vector.html">GenApi::NodeList_t</a> Entries;</div>
<div class="line">    camera.PixelFormat.GetEntries(Entries);</div>
<div class="line">    <span class="keywordtype">bool</span> Result = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; Entries.size(); i++)</div>
<div class="line">    {</div>
<div class="line">        GenApi::INode *pNode = Entries[i];</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(pNode-&gt;GetAccessMode()))</div>
<div class="line">        {</div>
<div class="line">            GenApi::IEnumEntry *pEnum = <span class="keyword">dynamic_cast&lt;</span>GenApi::IEnumEntry *<span class="keyword">&gt;</span>(pNode);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a> sym(pEnum-&gt;GetSymbolic());</div>
<div class="line">            <span class="keywordflow">if</span> (sym.find(<a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a>(<span class="stringliteral">&quot;Bayer&quot;</span>)) != GenICam::gcstring::_npos())</div>
<div class="line">            {</div>
<div class="line">                Result = <span class="keyword">true</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> Result;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_AutoFunctions_Usb"></a>
ParametrizeCamera_AutoFunctions_Usb</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_AutoFunctions_Usb.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to use the Auto Functions feature of Basler USB cameras.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Features, like &#39;Gain&#39;, are named according to the Standard Feature Naming Convention (SFNC).</span></div>
<div class="line"><span class="comment">    The SFNC defines a common set of features, their behavior, and the related parameter names.</span></div>
<div class="line"><span class="comment">    This ensures the interoperability of cameras from different camera vendors. Cameras compliant</span></div>
<div class="line"><span class="comment">    with the USB 3 Vision standard are based on the SFNC version 2.0.</span></div>
<div class="line"><span class="comment">    Basler GigE and Firewire cameras are based on previous SFNC versions.</span></div>
<div class="line"><span class="comment">    Accordingly, the behavior of these cameras and some parameters names will be different.</span></div>
<div class="line"><span class="comment">    That&#39;s why this sample is different from the sample for Firewire and GigE cameras in</span></div>
<div class="line"><span class="comment">    ParametrizeCamera_AutoFunctions.cpp</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Settings for using  Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The camera specific grab result smart pointer.</span></div>
<div class="line"><span class="keyword">typedef</span> Camera_t::GrabResultPtr_t GrabResultPtr_t;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> IsColorCamera(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoGainOnce(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoGainContinuous(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoExposureOnce(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoExposureContinuous(Camera_t&amp; camera);</div>
<div class="line"><span class="keywordtype">void</span> AutoWhiteBalance(Camera_t&amp; camera);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device that matches the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the name of the used camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check to see if the camera supportsAutoFunction ROI parameters.</span></div>
<div class="line">        <span class="comment">// Former firmware versions supporting the AutoFunctionAOI parameters are no longer supported by this sample.</span></div>
<div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.AutoFunctionROISelector) &amp;&amp; <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.GetNodeMap().GetNode(<span class="stringliteral">&quot;AutoFunctionAOISelector&quot;</span>)))</div>
<div class="line">        {</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;This camera only supports the deprecated AutoFunctionAOIxxxx camera parameters.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;If you want to configure the regions used by the auto functions on this camera, use&quot;</span> &lt;&lt; endl;</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;the AutoFunctionAOIxxxx parameters instead of the AutoFunctionROIxxxx parameters.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">            <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard event handler for configuring single frame acquisition.</span></div>
<div class="line">        <span class="comment">// This overrides the default configuration as all event handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        <span class="comment">// Please note that the camera device auto functions do not require grabbing by single frame acquisition.</span></div>
<div class="line">        <span class="comment">// All available acquisition modes can be used.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Turn test image off.</span></div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.TestImageSelector))</div>
<div class="line">            camera.TestImageSelector = <a class="code" href="namespace_basler___gig_e_camera.html#aecae8f306c012265646a3d7441ce79d8aac9eee70644435dd74c9afb10815cca3">TestImageSelector_Off</a>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Only area scan cameras support auto functions.</span></div>
<div class="line">        <span class="keywordflow">if</span> (camera.DeviceScanType.GetValue() == <a class="code" href="namespace_basler___gig_e_camera.html#af12ff1d418ecdb36888c9813ea2f7931a16707b8396bc3a6a642cc1d26f96e3f8">DeviceScanType_Areascan</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// All area scan cameras support luminance control.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;once&quot; gain auto function.</span></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div>
<div class="line">            camera.Gain.SetValue( camera.Gain.GetMax());</div>
<div class="line">            AutoGainOnce(camera);</div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; gain auto function.</span></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the gain to an initial value.</span></div>
<div class="line">            camera.Gain.SetValue( camera.Gain.GetMax());</div>
<div class="line">            AutoGainContinuous(camera);</div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div>
<div class="line">            camera.ExposureTime.SetValue( camera.ExposureTime.GetMin());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;once&quot; exposure auto function.</span></div>
<div class="line">            AutoExposureOnce(camera);</div>
<div class="line">            cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">            <span class="comment">// For demonstration purposes only, set the exposure time to an initial value.</span></div>
<div class="line">            camera.ExposureTime.SetValue( camera.ExposureTime.GetMin());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Carry out luminance control by using the &quot;continuous&quot; exposure auto function.</span></div>
<div class="line">            AutoExposureContinuous(camera);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Only color cameras support the balance white auto function.</span></div>
<div class="line">            <span class="keywordflow">if</span> (IsColorCamera(camera))</div>
<div class="line">            {</div>
<div class="line">                cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// For demonstration purposes only, set the initial balance ratio values:</span></div>
<div class="line">                camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a30c7f0a5037ea56a93666b3f944f627a">BalanceRatioSelector_Red</a>);</div>
<div class="line">                camera.BalanceRatio.SetValue(3.14);</div>
<div class="line">                camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a88739494127233f0de7bbe86f9039c1c">BalanceRatioSelector_Green</a>);</div>
<div class="line">                camera.BalanceRatio.SetValue(0.5);</div>
<div class="line">                camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a5d0493118154b6eed0e8f373b88ea1e9">BalanceRatioSelector_Blue</a>);</div>
<div class="line">                camera.BalanceRatio.SetValue(0.125);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Carry out white balance using the balance white auto function.</span></div>
<div class="line">                AutoWhiteBalance(camera);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;Only area scan cameras support auto functions.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoGainOnce(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the gain auto function is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.GainAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Gain Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.AutoFunctionROISelector))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div>
<div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405a11e4288699bfd4c2768b21f0e8cac71c">AutoFunctionROISelector_ROI2</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);  <span class="comment">// configure ROI 1</span></div>
<div class="line">        camera.AutoFunctionROIOffsetX.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIOffsetY.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">        camera.AutoFunctionROIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control.</span></div>
<div class="line">    <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div>
<div class="line">    <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div>
<div class="line">    camera.AutoTargetBrightness.SetValue(0.3);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// We are going to try GainAuto = Once.</span></div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the gain ranges for luminance control.</span></div>
<div class="line">    camera.AutoGainLowerLimit.SetValue(camera.Gain.GetMin());</div>
<div class="line">    camera.AutoGainUpperLimit.SetValue(camera.Gain.GetMax());</div>
<div class="line"></div>
<div class="line">    camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485a588db700b2dad21f2e9c383350095b3b">GainAuto_Once</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div>
<div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div>
<div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div>
<div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot; and the new parameter value will be applied to the</span></div>
<div class="line">    <span class="comment">// subsequently grabbed images.</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> n = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (camera.GainAuto.GetValue() != <a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485ad0346f077c0475fb62fb6ffbbf8dfdbc">GainAuto_Off</a>)</div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        ++n;</div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Make sure the loop is exited.</span></div>
<div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto gain did not finish.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;GainAuto went back to &#39;Off&#39; after &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoGainContinuous(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the Gain Auto feature is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.GainAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Gain Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// Maximize the grabbed image area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.AutoFunctionROISelector))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div>
<div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics.</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405a11e4288699bfd4c2768b21f0e8cac71c">AutoFunctionROISelector_ROI2</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);  <span class="comment">// configure ROI 1</span></div>
<div class="line">        camera.AutoFunctionROIOffsetX.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIOffsetY.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">        camera.AutoFunctionROIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control.</span></div>
<div class="line">    <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div>
<div class="line">    <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div>
<div class="line">    camera.AutoTargetBrightness.SetValue(0.3);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// We are trying GainAuto = Continuous.</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial Gain = &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485a5a6acee45abdf8d212a080e4f8b5c157">GainAuto_Continuous</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When &quot;continuous&quot; mode is selected, the parameter value is adjusted repeatedly while images are acquired.</span></div>
<div class="line">    <span class="comment">// Depending on the current frame rate, the automatic adjustments will usually be carried out for</span></div>
<div class="line">    <span class="comment">// every or every other image unless the cameras micro controller is kept busy by other tasks.</span></div>
<div class="line">    <span class="comment">// The repeated automatic adjustment will proceed until the &quot;once&quot; mode of operation is used or</span></div>
<div class="line">    <span class="comment">// until the auto function is set to &quot;off&quot;, in which case the parameter value resulting from the latest</span></div>
<div class="line">    <span class="comment">// automatic adjustment will operate unless the value is manually adjusted.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 20; n++)            <span class="comment">// For demonstration purposes, we will grab &quot;only&quot; 20 images.</span></div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line">    }</div>
<div class="line">    camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485ad0346f077c0475fb62fb6ffbbf8dfdbc">GainAuto_Off</a>); <span class="comment">// Switch off GainAuto.</span></div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final Gain = &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoExposureOnce(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether auto exposure is available</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.ExposureAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Exposure Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.AutoFunctionROISelector))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div>
<div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics.</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405a11e4288699bfd4c2768b21f0e8cac71c">AutoFunctionROISelector_ROI2</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);  <span class="comment">// configure ROI 1</span></div>
<div class="line">        camera.AutoFunctionROIOffsetX.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIOffsetY.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">        camera.AutoFunctionROIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control.</span></div>
<div class="line">    <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div>
<div class="line">    <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div>
<div class="line">    camera.AutoTargetBrightness.SetValue(0.3);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Try ExposureAuto = Once.</span></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;ExposureAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTime.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the exposure time ranges for luminance control.</span></div>
<div class="line">    camera.AutoExposureTimeLowerLimit.SetValue(camera.AutoExposureTimeLowerLimit.GetMin());</div>
<div class="line">    camera.AutoExposureTimeUpperLimit.SetValue(camera.AutoExposureTimeLowerLimit.GetMax());</div>
<div class="line"></div>
<div class="line">    camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac165d668b0c09bbd3089dd397ac50102">ExposureAuto_Once</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div>
<div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div>
<div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div>
<div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot;, and the new parameter value will be applied to the</span></div>
<div class="line">    <span class="comment">// subsequently grabbed images.</span></div>
<div class="line">    <span class="keywordtype">int</span> n = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (camera.ExposureAuto.GetValue() != <a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac141268336be5ea564c759fd14cdcc7e">ExposureAuto_Off</a>)</div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        ++n;</div>
<div class="line"></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Make sure the loop is exited.</span></div>
<div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto exposure did not finish.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto went back to &#39;Off&#39; after &quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTime.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoExposureContinuous(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the Exposure Auto feature is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.ExposureAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Exposure Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.AutoFunctionROISelector))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set the Auto Function ROI for luminance statistics.</span></div>
<div class="line">        <span class="comment">// We want to use ROI1 for gathering the statistics.</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">true</span>);   <span class="comment">// ROI 1 is used for brightness control</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405a11e4288699bfd4c2768b21f0e8cac71c">AutoFunctionROISelector_ROI2</a>);</div>
<div class="line">        camera.AutoFunctionROIUseBrightness.SetValue(<span class="keyword">false</span>);   <span class="comment">// ROI 2 is not used for brightness control</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the ROI (in this example the complete sensor is used)</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);  <span class="comment">// configure ROI 1</span></div>
<div class="line">        camera.AutoFunctionROIOffsetX.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIOffsetY.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">        camera.AutoFunctionROIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Set the target value for luminance control.</span></div>
<div class="line">    <span class="comment">// A value of 0.3 means that the target brightness is 30 % of the maximum brightness of the raw pixel value read out from the sensor.</span></div>
<div class="line">    <span class="comment">// A value of 0.4 means 40 % and so forth.</span></div>
<div class="line">    camera.AutoTargetBrightness.SetValue(0.3);</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;ExposureAuto &#39;GainAuto = Continuous&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTime.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ae42bc6cc7bae31951f65c203cba80d06">ExposureAuto_Continuous</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When &quot;continuous&quot; mode is selected, the parameter value is adjusted repeatedly while images are acquired.</span></div>
<div class="line">    <span class="comment">// Depending on the current frame rate, the automatic adjustments will usually be carried out for</span></div>
<div class="line">    <span class="comment">// every or every other image, unless the cameras microcontroller is kept busy by other tasks.</span></div>
<div class="line">    <span class="comment">// The repeated automatic adjustment will proceed until the &quot;once&quot; mode of operation is used or</span></div>
<div class="line">    <span class="comment">// until the auto function is set to &quot;off&quot;, in which case the parameter value resulting from the latest</span></div>
<div class="line">    <span class="comment">// automatic adjustment will operate unless the value is manually adjusted.</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0; n &lt; 20; n++)    <span class="comment">// For demonstration purposes, we will use only 20 images.</span></div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line">    }</div>
<div class="line">    camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac141268336be5ea564c759fd14cdcc7e">ExposureAuto_Off</a>); <span class="comment">// Switch off Exposure Auto.</span></div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final exposure time = &quot;</span>;</div>
<div class="line">    cout &lt;&lt; camera.ExposureTime.GetValue() &lt;&lt; <span class="stringliteral">&quot; us&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> AutoWhiteBalance(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check whether the Balance White Auto feature is available.</span></div>
<div class="line">    <span class="keywordflow">if</span> ( !<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( camera.BalanceWhiteAuto))</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;The camera does not support Balance White Auto.&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Maximize the grabbed area of interest (Image AOI).</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">    {</div>
<div class="line">        camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">    }</div>
<div class="line">    camera.Width.SetValue(camera.Width.GetMax());</div>
<div class="line">    camera.Height.SetValue(camera.Height.GetMax());</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(camera.AutoFunctionROISelector))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Set the Auto Function ROI for white balance.</span></div>
<div class="line">        <span class="comment">// We want to use ROI2</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405afacad02bdfdf0cafa06e91321939f4b2">AutoFunctionROISelector_ROI1</a>);</div>
<div class="line">        camera.AutoFunctionROIUseWhiteBalance.SetValue(<span class="keyword">false</span>);   <span class="comment">// ROI 1 is not used for white balance</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405a11e4288699bfd4c2768b21f0e8cac71c">AutoFunctionROISelector_ROI2</a>);</div>
<div class="line">        camera.AutoFunctionROIUseWhiteBalance.SetValue(<span class="keyword">true</span>);   <span class="comment">// ROI 2 is used for white balance</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the Auto Function AOI for white balance statistics.</span></div>
<div class="line">        <span class="comment">// Currently, AutoFunctionROISelector_ROI2 is predefined to gather</span></div>
<div class="line">        <span class="comment">// white balance statistics.</span></div>
<div class="line">        camera.AutoFunctionROISelector.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a33eb969134e8965cf24c083164391405a11e4288699bfd4c2768b21f0e8cac71c">AutoFunctionROISelector_ROI2</a>);</div>
<div class="line">        camera.AutoFunctionROIOffsetX.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIOffsetY.SetValue(0);</div>
<div class="line">        camera.AutoFunctionROIWidth.SetValue(camera.Width.GetMax());</div>
<div class="line">        camera.AutoFunctionROIHeight.SetValue(camera.Height.GetMax());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Trying &#39;BalanceWhiteAuto = Once&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Initial balance ratio: &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a30c7f0a5037ea56a93666b3f944f627a">BalanceRatioSelector_Red</a>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.BalanceRatio.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a88739494127233f0de7bbe86f9039c1c">BalanceRatioSelector_Green</a>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.BalanceRatio.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a5d0493118154b6eed0e8f373b88ea1e9">BalanceRatioSelector_Blue</a>);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.BalanceRatio.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    camera.BalanceWhiteAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a9a08a778c20c236d895df359e164bfc2a18d210266d177a05751ce818ade43e69">BalanceWhiteAuto_Once</a>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// When the &quot;once&quot; mode of operation is selected,</span></div>
<div class="line">    <span class="comment">// the parameter values are automatically adjusted until the related image property</span></div>
<div class="line">    <span class="comment">// reaches the target value. After the automatic parameter value adjustment is complete, the auto</span></div>
<div class="line">    <span class="comment">// function will automatically be set to &quot;off&quot; and the new parameter value will be applied to the</span></div>
<div class="line">    <span class="comment">// subsequently grabbed images.</span></div>
<div class="line">    <span class="keywordtype">int</span> n = 0;</div>
<div class="line">    <span class="keywordflow">while</span> (camera.BalanceWhiteAuto.GetValue() != <a class="code" href="namespace_basler___gig_e_camera.html#a9a08a778c20c236d895df359e164bfc2a0352b2474dc340b9bca77e7551814ead">BalanceWhiteAuto_Off</a>)</div>
<div class="line">    {</div>
<div class="line">        GrabResultPtr_t ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        Pylon::DisplayImage(1, ptrGrabResult);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        ++n;</div>
<div class="line"></div>
<div class="line">        <span class="comment">//For demonstration purposes only. Wait until the image is shown.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_wait_object.html#a93a7656b430afd2bef4a3ea094ef24bd">WaitObject::Sleep</a>(100);</div>
<div class="line"></div>
<div class="line">        <span class="comment">//Make sure the loop is exited.</span></div>
<div class="line">        <span class="keywordflow">if</span> (n &gt; 100)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;The adjustment of auto white balance did not finish.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;BalanceWhiteAuto went back to &#39;Off&#39; after &quot;</span>;</div>
<div class="line">    cout &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; frames.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Final balance ratio: &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a30c7f0a5037ea56a93666b3f944f627a">BalanceRatioSelector_Red</a>);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;R = &quot;</span> &lt;&lt; camera.BalanceRatio.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a88739494127233f0de7bbe86f9039c1c">BalanceRatioSelector_Green</a>);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;G = &quot;</span> &lt;&lt; camera.BalanceRatio.GetValue() &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>;</div>
<div class="line">    camera.BalanceRatioSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a415a532d0be3d27c95b4eefe3536af19a5d0493118154b6eed0e8f373b88ea1e9">BalanceRatioSelector_Blue</a>);</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;B = &quot;</span> &lt;&lt; camera.BalanceRatio.GetValue() &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> IsColorCamera(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_gen_api_1_1node__vector.html">GenApi::NodeList_t</a> Entries;</div>
<div class="line">    camera.PixelFormat.GetEntries(Entries);</div>
<div class="line">    <span class="keywordtype">bool</span> Result = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; Entries.size(); i++)</div>
<div class="line">    {</div>
<div class="line">        GenApi::INode *pNode = Entries[i];</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(pNode-&gt;GetAccessMode()))</div>
<div class="line">        {</div>
<div class="line">            GenApi::IEnumEntry *pEnum = <span class="keyword">dynamic_cast&lt;</span>GenApi::IEnumEntry *<span class="keyword">&gt;</span>(pNode);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a> sym(pEnum-&gt;GetSymbolic());</div>
<div class="line">            <span class="keywordflow">if</span> (sym.find(<a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a>(<span class="stringliteral">&quot;Bayer&quot;</span>)) != GenICam::gcstring::_npos())</div>
<div class="line">            {</div>
<div class="line">                Result = <span class="keyword">true</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> Result;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_Configurations"></a>
ParametrizeCamera_Configurations</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_Configurations.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The instant camera allows to install event handlers for configuration purposes</span></div>
<div class="line"><span class="comment">    and for handling the grab results. This is very useful for handling standard</span></div>
<div class="line"><span class="comment">    camera setups and image processing tasks.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows how to use configuration event handlers by applying the standard</span></div>
<div class="line"><span class="comment">    configurations and registering sample configuration event handlers.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Configuration event handlers are derived from the CConfigurationEventHandler base class.</span></div>
<div class="line"><span class="comment">    CConfigurationEventHandler provides virtual methods that can be overridden. If the</span></div>
<div class="line"><span class="comment">    configuration event handler is registered these methods are called when the state of the</span></div>
<div class="line"><span class="comment">    instant camera objects changes, e.g. when the camera object is opened or closed.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The standard configuration event handlers override the OnOpened method. The overridden method</span></div>
<div class="line"><span class="comment">    parametrizes the camera.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Device specific camera classes, e.g. for GigE cameras, provide specialized</span></div>
<div class="line"><span class="comment">    event handler base classes, e.g. CBaslerGigEConfigurationEventHandler.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files used by samples.</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ImageEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/ConfigurationEventPrinter.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/PixelFormatAndAoiConfiguration.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Number of images to be grabbed.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint32_t c_countOfImagesToGrab = 3;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create an instant camera object with the first camera device found.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// For demonstration purposes only, register an image event handler.</span></div>
<div class="line">        <span class="comment">// printing out information about the grabbed images.</span></div>
<div class="line">        camera.RegisterImageEventHandler( <span class="keyword">new</span> CImageEventPrinter, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using continuous acquisition:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for setting up the camera for continuous acquisition.</span></div>
<div class="line">        <span class="comment">// By setting the registration mode to RegistrationMode_ReplaceAll, the new configuration handler replaces the</span></div>
<div class="line">        <span class="comment">// default configuration handler that has been automatically registered when creating the</span></div>
<div class="line">        <span class="comment">// instant camera object.</span></div>
<div class="line">        <span class="comment">// The handler is automatically deleted when deregistered or when the registry is cleared if Cleanup_Delete is specified.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_continuous_configuration.html">CAcquireContinuousConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The camera&#39;s Open() method calls the configuration handler&#39;s OnOpened() method that</span></div>
<div class="line">        <span class="comment">// applies the required parameter modifications.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The registered configuration event handler has done its parametrization now.</span></div>
<div class="line">        <span class="comment">// Additional parameters could be set here.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab some images for demonstration.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line">        <span class="keywordflow">while</span>( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using software trigger mode:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for setting up the camera for software</span></div>
<div class="line">        <span class="comment">// triggering.</span></div>
<div class="line">        <span class="comment">// The current configuration is replaced by the software trigger configuration by setting the</span></div>
<div class="line">        <span class="comment">// registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_software_trigger_configuration.html">CSoftwareTriggerConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// StartGrabbing() calls the camera&#39;s Open() automatically if the camera is not open yet.</span></div>
<div class="line">        <span class="comment">// The Open method calls the configuration handler&#39;s OnOpened() method that</span></div>
<div class="line">        <span class="comment">// sets the required parameters for enabling software triggering.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab some images for demonstration.</span></div>
<div class="line">        camera.StartGrabbing( c_countOfImagesToGrab);</div>
<div class="line">        <span class="keywordflow">while</span>( camera.IsGrabbing())</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Execute the software trigger. The call waits up to 100 ms for the camera</span></div>
<div class="line">            <span class="comment">// to be ready to be triggered.</span></div>
<div class="line">            camera.WaitForFrameTriggerReady( 100, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">            camera.ExecuteSoftwareTrigger();</div>
<div class="line">            camera.RetrieveResult( 5000, ptrGrabResult, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga038e4dd8fbd49dd4e7ec17cc605d1344af73671a5f5093f8159a973c0ef016a78">TimeoutHandling_ThrowException</a>);</div>
<div class="line">        }</div>
<div class="line">        <span class="comment">// StopGrabbing() is called from RetrieveResult if the number of images</span></div>
<div class="line">        <span class="comment">// to grab has been reached. Since the camera was opened by StartGrabbing()</span></div>
<div class="line">        <span class="comment">// it is closed by StopGrabbing().</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// The CSoftwareTriggerConfiguration, like all standard configurations, is provided as a header file.</span></div>
<div class="line">        <span class="comment">// The source code can be copied and modified to meet application specific needs, e.g.</span></div>
<div class="line">        <span class="comment">// the CSoftwareTriggerConfiguration class could easily be changed into a hardware trigger configuration.</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using single frame acquisition:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for configuring single frame acquisition.</span></div>
<div class="line">        <span class="comment">// The previous configuration is removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// GrabOne calls StartGrabbing and StopGrabbing internally.</span></div>
<div class="line">        <span class="comment">// As seen above Open() is called by StartGrabbing and</span></div>
<div class="line">        <span class="comment">// the OnOpened() method of the CAcquireSingleFrameConfiguration handler is called.</span></div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// To continuously grab single images it is much more efficient to open the camera before grabbing.</span></div>
<div class="line">        <span class="comment">// Note: The software trigger mode (see above) should be used for grabbing single images if you want to maximize frame rate.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Now, the camera parameters are applied in the OnOpened method of the configuration object.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Additional parameters could be set here.</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab some images for demonstration.</span></div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Grab using multiple configuration objects:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard event handler for configuring single frame acquisition.</span></div>
<div class="line">        <span class="comment">// The current configuration is replaced by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register an additional configuration handler to set the image format and adjust the AOI.</span></div>
<div class="line">        <span class="comment">// By setting the registration mode to RegistrationMode_Append, the configuration handler is added instead of replacing</span></div>
<div class="line">        <span class="comment">// the already registered configuration handler.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> CPixelFormatAndAoiConfiguration, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an event printer on the heap.</span></div>
<div class="line">        CConfigurationEventPrinter* pEventPrinterObject = <span class="keyword">new</span> CConfigurationEventPrinter;</div>
<div class="line">        <span class="comment">// Register the handler object and define Cleanup_None so that it is not deleted by the camera object.</span></div>
<div class="line">        <span class="comment">// It must be ensured, that the configuration handler &quot;lives&quot; at least until the handler is deregistered!</span></div>
<div class="line">        camera.RegisterConfiguration( pEventPrinterObject, <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda06f0a0d28b2552f5b7240e2344d37302">RegistrationMode_Append</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5ab2a4bc04535c971546bf9ad9511e80dc">Cleanup_None</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab an image for demonstration. Configuration events are printed.</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab, configuration events are printed:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Deregister the event handler.</span></div>
<div class="line">        camera.DeregisterConfiguration( pEventPrinterObject);</div>
<div class="line">        <span class="comment">// The event handler can now be deleted.</span></div>
<div class="line">        <span class="keyword">delete</span> pEventPrinterObject;</div>
<div class="line">        pEventPrinterObject = NULL;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab an image for demonstration. Configuration events are not printed.</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Grab, configuration events are not printed:&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_GenericParameterAccess"></a>
ParametrizeCamera_GenericParameterAccess</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_GenericParameterAccess.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    For camera configuration and for accessing other parameters, the pylon API</span></div>
<div class="line"><span class="comment">    uses the technologies defined by the GenICam standard hosted by the</span></div>
<div class="line"><span class="comment">    European Machine Vision Association (EMVA). The GenICam specification</span></div>
<div class="line"><span class="comment">    (http://www.GenICam.org) defines a format for camera description files.</span></div>
<div class="line"><span class="comment">    These files describe the configuration interface of GenICam compliant cameras.</span></div>
<div class="line"><span class="comment">    The description files are written in XML (eXtensible Markup Language) and</span></div>
<div class="line"><span class="comment">    describe camera registers, their interdependencies, and all other</span></div>
<div class="line"><span class="comment">    information needed to access high-level features such as Gain,</span></div>
<div class="line"><span class="comment">    Exposure Time, or Image Format by means of low-level register read and</span></div>
<div class="line"><span class="comment">    write operations.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The elements of a camera description file are represented as software</span></div>
<div class="line"><span class="comment">    objects called Nodes. For example, a node can represent a single camera</span></div>
<div class="line"><span class="comment">    register, a camera parameter such as Gain, a set of available parameter</span></div>
<div class="line"><span class="comment">    values, etc. Each node implements the GenApi::INode interface.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The nodes are linked together by different relationships as explained in the</span></div>
<div class="line"><span class="comment">    GenICam standard document available at www.GenICam.org. The complete set of</span></div>
<div class="line"><span class="comment">    nodes is stored in a data structure called Node Map.</span></div>
<div class="line"><span class="comment">    At runtime, a Node Map is instantiated from an XML description.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows the &#39;generic&#39; approach for configuring a camera</span></div>
<div class="line"><span class="comment">    using the GenApi nodemaps represented by the GenApi::INodeMap interface.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The names and types of the parameter nodes can be found in the Basler pylon Programmer&#39;s Guide</span></div>
<div class="line"><span class="comment">    and API Reference, in the camera User&#39;s Manual, in the camera&#39;s document about</span></div>
<div class="line"><span class="comment">    Register Structure and Access Methodes (if applicable), and by using the pylon Viewer tool.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    See also the ParametrizeCamera_NativeParameterAccess sample for the &#39;native&#39;</span></div>
<div class="line"><span class="comment">    approach for configuring a camera.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using GenApi objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>GenApi;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Adjust value to make it comply with range and increment passed.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// The parameter&#39;s minimum and maximum are always considered as valid values.</span></div>
<div class="line"><span class="comment">// If the increment is larger than one, the returned value will be: min + (n * inc).</span></div>
<div class="line"><span class="comment">// If the value doesn&#39;t meet these criteria, it will be rounded down to ensure compliance.</span></div>
<div class="line">int64_t Adjust(int64_t val, int64_t minimum, int64_t maximum, int64_t inc)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check the input parameters.</span></div>
<div class="line">    <span class="keywordflow">if</span> (inc &lt;= 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Negative increments are invalid.</span></div>
<div class="line">        <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga0ab79ccf841af3f7537307a9ff301111">LOGICAL_ERROR_EXCEPTION</a>(<span class="stringliteral">&quot;Unexpected increment %d&quot;</span>, inc);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (minimum &gt; maximum)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Minimum must not be bigger than or equal to the maximum.</span></div>
<div class="line">        <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga0ab79ccf841af3f7537307a9ff301111">LOGICAL_ERROR_EXCEPTION</a>(<span class="stringliteral">&quot;minimum bigger than maximum.&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check the lower bound.</span></div>
<div class="line">    <span class="keywordflow">if</span> (val &lt; minimum)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> minimum;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check the upper bound.</span></div>
<div class="line">    <span class="keywordflow">if</span> (val &gt; maximum)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> maximum;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check the increment.</span></div>
<div class="line">    <span class="keywordflow">if</span> (inc == 1)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Special case: all values are valid.</span></div>
<div class="line">        <span class="keywordflow">return</span> val;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The value must be min + (n * inc).</span></div>
<div class="line">        <span class="comment">// Due to the integer division, the value will be rounded down.</span></div>
<div class="line">        <span class="keywordflow">return</span> minimum + ( ((val - minimum) / inc) * inc );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create an instant camera object with the camera found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        INodeMap&amp; nodemap = camera.GetNodeMap();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera for accessing the parameters.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get camera device information.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Information&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;=========================&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Vendor           : &quot;</span></div>
<div class="line">             &lt;&lt; <a class="code" href="group___gen_api___public_utilities.html#ga3f34446f43f43f1451d9252a57c26bea">CStringPtr</a>( nodemap.GetNode( <span class="stringliteral">&quot;DeviceVendorName&quot;</span>) )-&gt;<a class="code" href="namespace_gen_api.html#a820ba9f02b4b5c3abfeda83bf9a16fb0">GetValue</a>() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Model            : &quot;</span></div>
<div class="line">             &lt;&lt; <a class="code" href="group___gen_api___public_utilities.html#ga3f34446f43f43f1451d9252a57c26bea">CStringPtr</a>( nodemap.GetNode( <span class="stringliteral">&quot;DeviceModelName&quot;</span>) )-&gt;<a class="code" href="namespace_gen_api.html#a820ba9f02b4b5c3abfeda83bf9a16fb0">GetValue</a>() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Firmware version : &quot;</span></div>
<div class="line">             &lt;&lt; <a class="code" href="group___gen_api___public_utilities.html#ga3f34446f43f43f1451d9252a57c26bea">CStringPtr</a>( nodemap.GetNode( <span class="stringliteral">&quot;DeviceFirmwareVersion&quot;</span>) )-&gt;<a class="code" href="namespace_gen_api.html#a820ba9f02b4b5c3abfeda83bf9a16fb0">GetValue</a>() &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera settings.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Settings&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;======================&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the AOI:</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get the integer nodes describing the AOI.</span></div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> offsetX( nodemap.GetNode( <span class="stringliteral">&quot;OffsetX&quot;</span>));</div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> offsetY( nodemap.GetNode( <span class="stringliteral">&quot;OffsetY&quot;</span>));</div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> width( nodemap.GetNode( <span class="stringliteral">&quot;Width&quot;</span>));</div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> height( nodemap.GetNode( <span class="stringliteral">&quot;Height&quot;</span>));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// On some cameras the offsets are read-only,</span></div>
<div class="line">        <span class="comment">// so we check whether we can write a value. Otherwise, we would get an exception.</span></div>
<div class="line">        <span class="comment">// GenApi has some convenience predicates to check this easily.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( offsetX))</div>
<div class="line">        {</div>
<div class="line">            offsetX-&gt;SetValue( offsetX-&gt;GetMin());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( offsetY))</div>
<div class="line">        {</div>
<div class="line">            offsetY-&gt;SetValue( offsetY-&gt;GetMin());</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Some properties have restrictions. Use GetInc/GetMin/GetMax to make sure you set a valid value.</span></div>
<div class="line">        int64_t newWidth = 202;</div>
<div class="line">        newWidth = Adjust(newWidth, width-&gt;GetMin(), width-&gt;GetMax(), width-&gt;GetInc());</div>
<div class="line"></div>
<div class="line">        int64_t newHeight = 101;</div>
<div class="line">        newHeight = Adjust(newHeight, height-&gt;GetMin(), height-&gt;GetMax(), height-&gt;GetInc());</div>
<div class="line"></div>
<div class="line">        width-&gt;SetValue(newWidth);</div>
<div class="line">        height-&gt;SetValue(newHeight);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetX          : &quot;</span> &lt;&lt; offsetX-&gt;GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetY          : &quot;</span> &lt;&lt; offsetY-&gt;GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Width            : &quot;</span> &lt;&lt; width-&gt;GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Height           : &quot;</span> &lt;&lt; height-&gt;GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Access the PixelFormat enumeration type node.</span></div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> pixelFormat( nodemap.GetNode( <span class="stringliteral">&quot;PixelFormat&quot;</span>));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Remember the current pixel format.</span></div>
<div class="line">        <a class="code" href="class_gen_i_cam_1_1gcstring.html">String_t</a> oldPixelFormat = pixelFormat-&gt;ToString();</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Old PixelFormat  : &quot;</span> &lt;&lt; oldPixelFormat &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the pixel format to Mono8 if available.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>( pixelFormat-&gt;GetEntryByName( <span class="stringliteral">&quot;Mono8&quot;</span>)))</div>
<div class="line">        {</div>
<div class="line">            pixelFormat-&gt;FromString( <span class="stringliteral">&quot;Mono8&quot;</span>);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;New PixelFormat  : &quot;</span> &lt;&lt; pixelFormat-&gt;ToString() &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the new gain to 50% -&gt;  Min + ((Max-Min) / 2).</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Note: Some newer camera models may have auto functions enabled.</span></div>
<div class="line">        <span class="comment">//       To be able to set the gain value to a specific value</span></div>
<div class="line">        <span class="comment">//       the Gain Auto function must be disabled first.</span></div>
<div class="line">        <span class="comment">// Access the enumeration type node GainAuto.</span></div>
<div class="line">        <a class="code" href="class_gen_api_1_1_c_pointer.html">CEnumerationPtr</a> gainAuto( nodemap.GetNode( <span class="stringliteral">&quot;GainAuto&quot;</span>));</div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>( gainAuto))</div>
<div class="line">        {</div>
<div class="line">            gainAuto-&gt;FromString(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Check to see which Standard Feature Naming Convention (SFNC) is used by the camera device.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( camera.GetSfncVersion() &gt;= Sfnc_2_0_0)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Access the Gain float type node. This node is available for USB camera devices.</span></div>
<div class="line">            <span class="comment">// USB camera devices are compliant to SFNC version 2.0.</span></div>
<div class="line">            <a class="code" href="class_gen_api_1_1_c_float_ptr.html">CFloatPtr</a> gain( nodemap.GetNode( <span class="stringliteral">&quot;Gain&quot;</span>));</div>
<div class="line">            <span class="keywordtype">double</span> newGain = gain-&gt;GetMin() + ((gain-&gt;GetMax() - gain-&gt;GetMin()) / 2);</div>
<div class="line">            gain-&gt;SetValue(newGain);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; gain-&gt;GetValue() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; gain-&gt;GetMin() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; gain-&gt;GetMax() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Access the GainRaw integer type node. This node is available for IIDC 1394 and GigE camera devices.</span></div>
<div class="line">            <a class="code" href="class_gen_api_1_1_c_pointer.html">CIntegerPtr</a> gainRaw( nodemap.GetNode( <span class="stringliteral">&quot;GainRaw&quot;</span>));</div>
<div class="line">            int64_t newGainRaw = gainRaw-&gt;GetMin() + ((gainRaw-&gt;GetMax() - gainRaw-&gt;GetMin()) / 2);</div>
<div class="line">            <span class="comment">// Make sure the calculated value is valid.</span></div>
<div class="line">            newGainRaw = Adjust(newGainRaw, gainRaw-&gt;GetMin(), gainRaw-&gt;GetMax(), gainRaw-&gt;GetInc());</div>
<div class="line">            gainRaw-&gt;SetValue(newGainRaw);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; gainRaw-&gt;GetValue() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; gainRaw-&gt;GetMin() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; gainRaw-&gt;GetMax() &lt;&lt; <span class="stringliteral">&quot;; Inc: &quot;</span> &lt;&lt; gainRaw-&gt;GetInc() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Restore the old pixel format.</span></div>
<div class="line">        pixelFormat-&gt;FromString(oldPixelFormat);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_LoadAndSave"></a>
ParametrizeCamera_LoadAndSave</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_LoadAndSave.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample application demonstrates how to save or load the features of a camera</span></div>
<div class="line"><span class="comment">    to or from a file.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The name of the pylon feature stream file.</span></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> Filename[] = <span class="stringliteral">&quot;NodeMap.pfs&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Create an instant camera object with the camera device found first.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Saving camera&#39;s node map to file...&quot;</span>&lt;&lt; endl;</div>
<div class="line">        <span class="comment">// Save the content of the camera&#39;s node map into the file.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_feature_persistence.html#aafc8caa4484e6a744954c5e9c633051c">CFeaturePersistence::Save</a>( Filename, &amp;camera.GetNodeMap() );</div>
<div class="line">        <span class="comment">// --------------------------------------------------------------------</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Just for demonstration, read the content of the file back to the camera&#39;s node map with enabled validation.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Reading file back to camera&#39;s node map...&quot;</span>&lt;&lt; endl;</div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_feature_persistence.html#ab0113f519bdd95b672daaf249bf21974">CFeaturePersistence::Load</a>( Filename, &amp;camera.GetNodeMap(), true );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_LookupTable"></a>
ParametrizeCamera_LookupTable</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_LookupTable.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample program demonstrates the use of the Luminance Lookup Table feature.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_USB )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error camera type is not specified. For example, define USE_GIGE for using GigE cameras</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Opening camera...&quot;</span>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;done&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Writing LUT....&quot;</span>;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Select the lookup table using the LUTSelector.</span></div>
<div class="line">        camera.LUTSelector.SetValue( <a class="code" href="namespace_basler___gig_e_camera.html#ac60d0082fd5fe50c7ea3c9f612f1434fa2a5a3c12d4ffab638ec1c3826d9845a9">LUTSelector_Luminance</a> );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Some cameras have 10 bit and others have 12 bit lookup tables, so determine</span></div>
<div class="line">        <span class="comment">// the type of the lookup table for the current device.</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> nValues = (int) camera.LUTIndex.GetMax() + 1;</div>
<div class="line">        <span class="keywordtype">int</span> inc;</div>
<div class="line">        <span class="keywordflow">if</span> ( nValues == 4096 ) <span class="comment">// 12 bit LUT.</span></div>
<div class="line">            inc = 8;</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( nValues == 1024 ) <span class="comment">// 10 bit LUT.</span></div>
<div class="line">            inc = 2;</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>( <span class="stringliteral">&quot;Type of LUT is not supported by this sample.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Use LUTIndex and LUTValue parameter to access the lookup table values.</span></div>
<div class="line">        <span class="comment">// The following lookup table causes an inversion of the sensor values.</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; nValues; i += inc )</div>
<div class="line">        {</div>
<div class="line">            camera.LUTIndex.SetValue( i );</div>
<div class="line">            camera.LUTValue.SetValue( nValues - 1 - i );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;done&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Enable the lookup table.</span></div>
<div class="line">        camera.LUTEnable.SetValue( <span class="keyword">true</span> );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Grab and process images here.</span></div>
<div class="line">        <span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Disable the lookup table.</span></div>
<div class="line">        camera.LUTEnable.SetValue( <span class="keyword">false</span> );</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_NativeParameterAccess"></a>
ParametrizeCamera_NativeParameterAccess</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_NativeParameterAccess.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    For camera configuration and for accessing other parameters, the pylon API</span></div>
<div class="line"><span class="comment">    uses the technologies defined by the GenICam standard hosted by the</span></div>
<div class="line"><span class="comment">    European Machine Vision Association (EMVA). The GenICam specification</span></div>
<div class="line"><span class="comment">    (http://www.GenICam.org) defines a format for camera description files.</span></div>
<div class="line"><span class="comment">    These files describe the configuration interface of GenICam compliant cameras.</span></div>
<div class="line"><span class="comment">    The description files are written in XML (eXtensible Markup Language) and</span></div>
<div class="line"><span class="comment">    describe camera registers, their interdependencies, and all other</span></div>
<div class="line"><span class="comment">    information needed to access high-level features such as Gain,</span></div>
<div class="line"><span class="comment">    Exposure Time, or Image Format by means of low-level register read and</span></div>
<div class="line"><span class="comment">    write operations.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The elements of a camera description file are represented as software</span></div>
<div class="line"><span class="comment">    objects called Nodes. For example, a node can represent a single camera</span></div>
<div class="line"><span class="comment">    register, a camera parameter such as Gain, a set of available parameter</span></div>
<div class="line"><span class="comment">    values, etc. Each node implements the GenApi::INode interface.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Using the code generators provided by GenICam&#39;s GenApi module,</span></div>
<div class="line"><span class="comment">    a programming interface is created from a camera description file.</span></div>
<div class="line"><span class="comment">    Thereby, a member is provided for each parameter that is available for the camera device.</span></div>
<div class="line"><span class="comment">    The programming interface is exported by the Device Specific Instant Camera classes.</span></div>
<div class="line"><span class="comment">    This is the easiest way to access parameters.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample shows the &#39;native&#39; approach for configuring a camera</span></div>
<div class="line"><span class="comment">    using device specific instant camera classes.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    See also the ParametrizeCamera_GenericParameterAccess sample for the &#39;generic&#39;</span></div>
<div class="line"><span class="comment">    approach for configuring a camera.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_CAMERALINK )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler Camera Link cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/cameralink/BaslerCameraLinkInstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBaslerCameraLinkInstantCamera Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_CLCameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_USB )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings for using Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. For example, define USE_GIGE for using GigE cameras.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Adjust value so it complies with range and increment passed.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// The parameter&#39;s minimum and maximum are always considered as valid values.</span></div>
<div class="line"><span class="comment">// If the increment is larger than one, the returned value will be: min + (n * inc).</span></div>
<div class="line"><span class="comment">// If the value doesn&#39;t meet these criteria, it will be rounded down so that it does.</span></div>
<div class="line">int64_t Adjust(int64_t val, int64_t minimum, int64_t maximum, int64_t inc)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Check the input parameters.</span></div>
<div class="line">    <span class="keywordflow">if</span> (inc &lt;= 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Negative increments are invalid.</span></div>
<div class="line">        <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga0ab79ccf841af3f7537307a9ff301111">LOGICAL_ERROR_EXCEPTION</a>(<span class="stringliteral">&quot;Unexpected increment %d&quot;</span>, inc);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (minimum &gt; maximum)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Minimum must not be bigger than or equal to the maximum.</span></div>
<div class="line">        <span class="keywordflow">throw</span> <a class="code" href="group___base___public_impl.html#ga0ab79ccf841af3f7537307a9ff301111">LOGICAL_ERROR_EXCEPTION</a>(<span class="stringliteral">&quot;minimum bigger than maximum.&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check the lower bound.</span></div>
<div class="line">    <span class="keywordflow">if</span> (val &lt; minimum)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> minimum;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check the upper bound.</span></div>
<div class="line">    <span class="keywordflow">if</span> (val &gt; maximum)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> maximum;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Check the increment.</span></div>
<div class="line">    <span class="keywordflow">if</span> (inc == 1)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Special case: all values are valid.</span></div>
<div class="line">        <span class="keywordflow">return</span> val;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The value must be min + (n * inc).</span></div>
<div class="line">        <span class="comment">// Due to the integer division, the value will be rounded down.</span></div>
<div class="line">        <span class="keywordflow">return</span> minimum + ( ((val - minimum) / inc) * inc );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t.</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera for accessing the parameters.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Get camera device information.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Information&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;=========================&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Vendor           : &quot;</span></div>
<div class="line">             &lt;&lt; camera.DeviceVendorName.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Model            : &quot;</span></div>
<div class="line">             &lt;&lt; camera.DeviceModelName.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Firmware version : &quot;</span></div>
<div class="line">             &lt;&lt; camera.DeviceFirmwareVersion.GetValue() &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Camera settings.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Camera Device Settings&quot;</span> &lt;&lt; endl</div>
<div class="line">             &lt;&lt; <span class="stringliteral">&quot;======================&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the AOI:</span></div>
<div class="line"></div>
<div class="line">        <span class="comment">// On some cameras the Offsets are read-only,</span></div>
<div class="line">        <span class="comment">// so we check whether we can write a value. Otherwise, we would get an exception.</span></div>
<div class="line">        <span class="comment">// GenApi has some convenience predicates to check this easily.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetX))</div>
<div class="line">        {</div>
<div class="line">            camera.OffsetX.SetValue(camera.OffsetX.GetMin());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.OffsetY))</div>
<div class="line">        {</div>
<div class="line">            camera.OffsetY.SetValue(camera.OffsetY.GetMin());</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Some properties have restrictions. Use GetInc/GetMin/GetMax to make sure you set a valid value.</span></div>
<div class="line">        int64_t newWidth = 202;</div>
<div class="line">        newWidth = Adjust(newWidth, camera.Width.GetMin(), camera.Width.GetMax(), camera.Width.GetInc());</div>
<div class="line"></div>
<div class="line">        int64_t newHeight = 101;</div>
<div class="line">        newHeight = Adjust(newHeight, camera.Height.GetMin(), camera.Height.GetMax(), camera.Height.GetInc());</div>
<div class="line"></div>
<div class="line">        camera.Width.SetValue(newWidth);</div>
<div class="line">        camera.Height.SetValue(newHeight);</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetX          : &quot;</span> &lt;&lt; camera.OffsetX.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;OffsetY          : &quot;</span> &lt;&lt; camera.OffsetY.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Width            : &quot;</span> &lt;&lt; camera.Width.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Height           : &quot;</span> &lt;&lt; camera.Height.GetValue() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Remember the current pixel format.</span></div>
<div class="line">        <a class="code" href="namespace_basler___usb_camera_params.html#a27cff072eee1c5a313f4169e488da874">PixelFormatEnums</a> oldPixelFormat = camera.PixelFormat.GetValue();</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Old PixelFormat  : &quot;</span> &lt;&lt; camera.PixelFormat.ToString() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; oldPixelFormat &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set pixel format to Mono8 if available.</span></div>
<div class="line">        <span class="keywordflow">if</span> ( <a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">GenApi::IsAvailable</a>( camera.PixelFormat.GetEntry(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464a268a5e6a33a60e7b88a5767a147ef285">PixelFormat_Mono8</a>)))</div>
<div class="line">        {</div>
<div class="line">            camera.PixelFormat.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464a268a5e6a33a60e7b88a5767a147ef285">PixelFormat_Mono8</a>);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;New PixelFormat  : &quot;</span> &lt;&lt; camera.PixelFormat.ToString() &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; camera.PixelFormat.GetValue() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set the new gain to 50% -&gt;  Min + ((Max-Min) / 2)</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Note: Some newer camera models may have auto functions enabled.</span></div>
<div class="line">        <span class="comment">//       To be able to set the gain value to a specific value</span></div>
<div class="line">        <span class="comment">//       the Gain Auto function must be disabled first.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#ga26ed84e6fb3d3d0136c6cace6ddc0cf9">IsWritable</a>(camera.GainAuto))</div>
<div class="line">        {</div>
<div class="line">            camera.GainAuto.FromString(<span class="stringliteral">&quot;Off&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef USE_USB</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="keywordtype">double</span> newGain = camera.Gain.GetMin() + ((camera.Gain.GetMax() - camera.Gain.GetMin()) / 2);</div>
<div class="line">        camera.Gain.SetValue(newGain);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; camera.Gain.GetMin() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; camera.Gain.GetMax() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        int64_t newGainRaw = camera.GainRaw.GetMin() + ((camera.GainRaw.GetMax() - camera.GainRaw.GetMin()) / 2);</div>
<div class="line">        <span class="comment">// Make sure the calculated value is valid</span></div>
<div class="line">        newGainRaw = Adjust(newGainRaw, camera.GainRaw.GetMin(), camera.GainRaw.GetMax(), camera.GainRaw.GetInc());</div>
<div class="line">        camera.GainRaw.SetValue(newGainRaw);</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Gain (50%)       : &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; <span class="stringliteral">&quot; (Min: &quot;</span> &lt;&lt; camera.GainRaw.GetMin() &lt;&lt; <span class="stringliteral">&quot;; Max: &quot;</span> &lt;&lt; camera.GainRaw.GetMax() &lt;&lt; <span class="stringliteral">&quot;; Inc: &quot;</span> &lt;&lt; camera.GainRaw.GetInc() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">// Restore the old pixel format.</span></div>
<div class="line">        camera.PixelFormat.SetValue(oldPixelFormat);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_Shading"></a>
ParametrizeCamera_Shading</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_Shading.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample demonstrates how to calculate and upload a gain shading</span></div>
<div class="line"><span class="comment">    set to a Basler runner line scan camera.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample only applies to Basler runner cameras.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// For use with Visual Studio &gt;= 2005, disable deprecate warnings caused by the fopen function.</span></div>
<div class="line"><span class="preprocessor">#define _CRT_SECURE_NO_WARNINGS</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="comment">// For DBL_MAX.</span></div>
<div class="line"><span class="preprocessor">#include &lt;float.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#pragma warning(push)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#pragma warning(disable: 4244)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// For file upload.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_filestream_8h.html">GenApi/Filestream.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#pragma warning(pop)</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#if defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Settings to use for Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigEStreamParams;</div>
<div class="line"><span class="preprocessor">#elif defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Currently no Basler 1394 camera supports shading</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. For example, define USE_GIGE for using GigE cameras</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Prototypes for functions used in &#39;main&#39;.</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> CreateShadingData(Camera_t&amp; camera,</div>
<div class="line">                       <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename);</div>
<div class="line"><span class="keywordtype">void</span> UploadFile(Camera_t&amp; camera,</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pCameraFilename,</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename);</div>
<div class="line"><span class="keywordtype">void</span> CheckShadingData(Camera_t&amp; camera);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Name of the file where we will store the shading data on the local disk.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> LocalFilename[] = <span class="stringliteral">&quot;ShadingData.bin&quot;</span>;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define USE_SHADING_SET_1   // Define which shading set we are going to use.</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#if defined (USE_SHADING_SET_1)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Name of the file in the camera where the shading data will be stored.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> CameraFilename[] = <span class="stringliteral">&quot;UserGainShading1&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Name of the shading set that corresponds to &#39;CameraFilename&#39;.</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="namespace_basler___gig_e_camera.html#adda95e8a5b86e7329f57d8877b6dd860">ShadingSetSelectorEnums</a> ShadingSet = <a class="code" href="namespace_basler___gig_e_camera.html#adda95e8a5b86e7329f57d8877b6dd860a73fa4a255df417eac41e402a46f73837">ShadingSetSelector_UserShadingSet1</a>;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#elif defined (USE_SHADING_SET_2)</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Name of the file in the camera where shading data will be stored.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> CameraFilename[] = <span class="stringliteral">&quot;UserGainShading2&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Name of the shading set that corresponds to &#39;CameraFilename&#39;.</span></div>
<div class="line"><span class="keyword">static</span> <a class="code" href="namespace_basler___gig_e_camera.html#adda95e8a5b86e7329f57d8877b6dd860">ShadingSetSelectorEnums</a> ShadingSet = <a class="code" href="namespace_basler___gig_e_camera.html#adda95e8a5b86e7329f57d8877b6dd860a0339fdd2cbda53309135bf51685f627d">ShadingSetSelector_UserShadingSet2</a>;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error No shading set defined!</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Register the standard configuration event handler for configuring single frame acquisition.</span></div>
<div class="line">        <span class="comment">// This replaces the default configuration as all event handlers are removed by setting the registration mode to RegistrationMode_ReplaceAll.</span></div>
<div class="line">        camera.RegisterConfiguration( <span class="keyword">new</span> <a class="code" href="class_pylon_1_1_c_acquire_single_frame_configuration.html">CAcquireSingleFrameConfiguration</a>(), <a class="code" href="group___pylon___instant_camera_api_generic.html#gga6ad39f74e5f882a64461ad02c70567eda622d43aab16f129b874526cd63d1a74b">RegistrationMode_ReplaceAll</a>, <a class="code" href="group___pylon___instant_camera_api_generic.html#ggae495d43181dadd7d44dc47ae1542fed5a33cc17aa219c33ea966e987b906cd364">Cleanup_Delete</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Only line scan cameras support gain shading.</span></div>
<div class="line">        <span class="keywordflow">if</span> (camera.DeviceScanType.GetValue() == <a class="code" href="namespace_basler___gig_e_camera.html#af12ff1d418ecdb36888c9813ea2f7931a44c93b6b9533d1e7c86b16677d86345f">DeviceScanType_Linescan</a>)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Here, we assume that the conditions for exposure (illumination,</span></div>
<div class="line">            <span class="comment">// exposure time, etc.) have been set up to deliver images of</span></div>
<div class="line">            <span class="comment">// uniform intensity (gray value), but that the acquired images are not uniform.</span></div>
<div class="line">            <span class="comment">// We calculate the gain shading data so that the observed non-uniformity</span></div>
<div class="line">            <span class="comment">// will be compensated when the data are applied.</span></div>
<div class="line">            <span class="comment">// These data are saved to a local file.</span></div>
<div class="line">            CreateShadingData( camera, LocalFilename);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Transfer calculated gain shading data from the local file to the camera.</span></div>
<div class="line">            UploadFile( camera, CameraFilename, LocalFilename);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Test to what extent the non-uniformity has been compensated.</span></div>
<div class="line">            CheckShadingData( camera);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            cerr &lt;&lt; <span class="stringliteral">&quot;Only line scan cameras support gain shading.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>();  </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// In the following code, the format of the arrays containing intensities</span></div>
<div class="line"><span class="comment">// or coefficients is as follows:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//      If the pixel format is PixelFormat_Mono8:</span></div>
<div class="line"><span class="comment">//      ArraySize == Width</span></div>
<div class="line"><span class="comment">//      [Value_x0, Value_x1, Value_x2, ... , Value_x(Width - 1)]</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//      If the pixel format is PixelFormat_RGB8Packed:</span></div>
<div class="line"><span class="comment">//      ArraySize ==  3 * Width</span></div>
<div class="line"><span class="comment">//      [ValueRed_x0,   ValueRed_x1,   ... , ValueRed_x(Width - 1),</span></div>
<div class="line"><span class="comment">//       ValueGreen_x0, ValueGreen_x1, ... , ValueGreen_x(Width - 1),</span></div>
<div class="line"><span class="comment">//       ValueBlue_x0,  ValueBlue_x1,  ... , ValueBlue_x(Width - 1)]</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Grab a frame and store the intensitiy for the pixels in each column</span></div>
<div class="line"><span class="comment">// in &#39;Intensities&#39;.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> AverageLines(Camera_t&amp; camera,</div>
<div class="line">                   uint32_t Width,         <span class="comment">// Width of frame (number of pixels in each line).</span></div>
<div class="line">                   uint32_t Height,        <span class="comment">// Height of frame (number of lines in each frame).</span></div>
<div class="line">                   uint32_t NumCoeffs,     <span class="comment">// Number of coefficients.</span></div>
<div class="line">                   <span class="keywordtype">double</span> *Intensities)    <span class="comment">// Destination array.</span></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; NumCoeffs; x++)</div>
<div class="line">    {</div>
<div class="line">        Intensities[x] = 0.0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Grab frame for averaging.&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line">        camera.GrabOne( 5000, ptrGrabResult);</div>
<div class="line">    uint8_t *Buffer = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>( ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a0ed8d8548b5e4da67167d388fb85e0b5">GetBuffer</a>());</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (NumCoeffs == 3 * Width)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// RGB mode.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; Height; y++)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Add intensities.</span></div>
<div class="line">                uint32_t idx = 3 * (y * Width + x);</div>
<div class="line">                Intensities[x] += Buffer[idx];</div>
<div class="line">                Intensities[x + Width] += Buffer[idx + 1];</div>
<div class="line">                Intensities[x + 2 * Width] += Buffer[idx + 2];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Mono mode.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; Height; y++)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Add intensities.</span></div>
<div class="line">                Intensities[x] += Buffer[y * Width + x];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">double</span> scale = 1.0 / double(Height);</div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; NumCoeffs; x++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Calculate average intensities.</span></div>
<div class="line">        Intensities[x] *= scale;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Take the average intensities from &#39;pDblCoeff&#39;. Identify the minimum and maximum</span></div>
<div class="line"><span class="comment">// average intensity. For each intensity, calculate a multiplier so that</span></div>
<div class="line"><span class="comment">// the product of the multiplier and  the intensity equals the maximimum intensity (the</span></div>
<div class="line"><span class="comment">// multiplier for the maximum intensity is 1). Store the multipliers in &#39;pDblCoeff&#39;.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> CalculateCoeffs( uint32_t  Width,         <span class="comment">// Width of image (number of pixels in each line).</span></div>
<div class="line">                      uint32_t  Height,        <span class="comment">// Height of image (number of lines in each frame).</span></div>
<div class="line">                      uint32_t  NumCoeffs,     <span class="comment">// Number of shading coefficients.</span></div>
<div class="line">                      <span class="keywordtype">double</span>  * pDblCoeff )    <span class="comment">// In: averaged intensities.</span></div>
<div class="line">                                               <span class="comment">// Out: multiplier values.</span></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (NumCoeffs == 3 * Width)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// RGB mode.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="keywordtype">double</span> MinR = DBL_MAX;</div>
<div class="line">        <span class="keywordtype">double</span> MinG = DBL_MAX;</div>
<div class="line">        <span class="keywordtype">double</span> MinB = DBL_MAX;</div>
<div class="line">        <span class="keywordtype">double</span> MaxR = -DBL_MAX;</div>
<div class="line">        <span class="keywordtype">double</span> MaxG = -DBL_MAX;</div>
<div class="line">        <span class="keywordtype">double</span> MaxB = -DBL_MAX;</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Determine min and max intensity.</span></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &lt; MinR)</div>
<div class="line">            {</div>
<div class="line">                MinR = pDblCoeff[x];</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &gt; MaxR)</div>
<div class="line">            {</div>
<div class="line">                MaxR = pDblCoeff[x];</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + Width] &lt; MinG)</div>
<div class="line">            {</div>
<div class="line">                MinG = pDblCoeff[x + Width];</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + Width] &gt; MaxG)</div>
<div class="line">            {</div>
<div class="line">                MaxG = pDblCoeff[x + Width];</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + 2 * Width] &lt; MinB)</div>
<div class="line">            {</div>
<div class="line">                MinB = pDblCoeff[x + 2 * Width];</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x + 2 * Width] &gt; MaxB)</div>
<div class="line">            {</div>
<div class="line">                MaxB = pDblCoeff[x + 2 * Width];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;MaxR = &quot;</span> &lt;&lt; (MaxR / MinR) &lt;&lt; <span class="stringliteral">&quot; * MinR&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;MaxG = &quot;</span> &lt;&lt; (MaxG / MinG) &lt;&lt; <span class="stringliteral">&quot; * MinG&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;MaxB = &quot;</span> &lt;&lt; (MaxB / MinB) &lt;&lt; <span class="stringliteral">&quot; * MinB&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Scale to maximum intensity.</span></div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div>
<div class="line">        {</div>
<div class="line">            pDblCoeff[x] = MaxR / pDblCoeff[x];</div>
<div class="line">            pDblCoeff[x + Width] = MaxG / pDblCoeff[x + Width];</div>
<div class="line">            pDblCoeff[x + 2 * Width] = MaxB / pDblCoeff[x + 2 * Width];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Mono mode.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordtype">double</span> Min = DBL_MAX;</div>
<div class="line">        <span class="keywordtype">double</span> Max = -DBL_MAX;</div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Determine min and max intensity.</span></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &lt; Min)</div>
<div class="line">            {</div>
<div class="line">                Min = pDblCoeff[x];</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> (pDblCoeff[x] &gt; Max)</div>
<div class="line">            {</div>
<div class="line">                Max = pDblCoeff[x];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Max = &quot;</span> &lt;&lt; (Max / Min) &lt;&lt; <span class="stringliteral">&quot; * Min&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Scale to maximum intensity.</span></div>
<div class="line">        <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; Width; x++)</div>
<div class="line">        {</div>
<div class="line">            pDblCoeff[x] = Max / pDblCoeff[x];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> SupportsRGB(Camera_t&amp; camera);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// &#39;CreateShadingData&#39; assumes that the conditions for exposure (illumination,</span></div>
<div class="line"><span class="comment">// exposure time, etc.) have been set up to deliver images of</span></div>
<div class="line"><span class="comment">// uniform intensity (gray value), but that the acquired images are not uniform.</span></div>
<div class="line"><span class="comment">// We calculate the gain shading data so that the observed non-uniformity</span></div>
<div class="line"><span class="comment">// will be compensated when the data are applied.</span></div>
<div class="line"><span class="comment">// These data are saved to a local file.</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> CreateShadingData(Camera_t&amp; camera, <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Prepare camera for grab.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">    uint32_t Width = (uint32_t)camera.Width.GetValue();</div>
<div class="line">    uint32_t Height = (uint32_t)camera.Height.GetValue();</div>
<div class="line">    int32_t BytesPerPixel = 1;</div>
<div class="line">    <span class="keywordflow">if</span> (SupportsRGB(camera))</div>
<div class="line">    {</div>
<div class="line">        camera.PixelFormat.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464ab5de17fcf2dcaf243abe5452b68bd3e6">PixelFormat_RGB8Packed</a>);</div>
<div class="line">        BytesPerPixel = 3;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        camera.PixelFormat.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a7fe47af68eded4f9424d422dd4d90464a268a5e6a33a60e7b88a5767a147ef285">PixelFormat_Mono8</a>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Disable gain shading for calculation.</span></div>
<div class="line">    camera.ShadingSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#acecae23fdd39060b0944580556952c46abc1d8313476d4317bae9fc483dbe1951">ShadingSelector_GainShading</a>);</div>
<div class="line">    camera.ShadingEnable.SetValue(<span class="keyword">false</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Grab and average images into &#39;pDblCoeff&#39;.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">    uint32_t NumCoeffs = BytesPerPixel * Width;</div>
<div class="line">    <span class="keywordtype">double</span> *pDblCoeff = <span class="keyword">new</span> <span class="keywordtype">double</span>[NumCoeffs];</div>
<div class="line">    AverageLines(camera, Width, Height, NumCoeffs, pDblCoeff);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Calculate gain shading data.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// Convert averaged intensities to multipliers.</span></div>
<div class="line">    CalculateCoeffs(Width, Height, NumCoeffs, pDblCoeff);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Convert multipliers to camera format.</span></div>
<div class="line">    uint32_t *pCoeffs = <span class="keyword">new</span> uint32_t[NumCoeffs];</div>
<div class="line">    <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; NumCoeffs; x++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// The multipliers are expressed as 32 bit fixed point</span></div>
<div class="line">        <span class="comment">// numbers with 16 bits before and 16 bits after</span></div>
<div class="line">        <span class="comment">// the decimal point.</span></div>
<div class="line">        uint32_t coeff = uint32_t(pDblCoeff[x] * (1 &lt;&lt; 16));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Currently, the maximum multiplier is limited to 3.99998</span></div>
<div class="line">        <span class="comment">// (max register value == 0x0003FFFF).</span></div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (coeff &gt; 0x0003FFFF)</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">static</span> <span class="keywordtype">bool</span> PrintMessage = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">if</span> (PrintMessage)</div>
<div class="line">            {</div>
<div class="line">                PrintMessage = <span class="keyword">false</span>;</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Gain shading had to be clipped.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            coeff = 0x0003FFFF;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        pCoeffs[x] = coeff;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span>[] pDblCoeff;</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Write data to file.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    FILE *fp = fopen(pLocalFilename, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (fp == NULL )</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;Can not open file &#39;%s&#39;\n&quot;</span>, pLocalFilename);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Header for gain shading file.</span></div>
<div class="line">    <span class="keyword">struct </span>ShadingHeader_t</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  version;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  type;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  sensorType;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  lineType;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> width;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> reserved;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Constants used in header.</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingVersion_1       = 0x5a;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingType_Gain       = 0xc3;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingSensorType_Line = 0x02;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingLineType_Single = 0x01;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> ShadingLineType_Tri    = 0x03;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Construct header.</span></div>
<div class="line">    ShadingHeader_t h;</div>
<div class="line">    h.version = ShadingVersion_1;</div>
<div class="line">    h.type = ShadingType_Gain;</div>
<div class="line">    h.sensorType = ShadingSensorType_Line;</div>
<div class="line">    h.lineType = BytesPerPixel == 3 ? ShadingLineType_Tri : ShadingLineType_Single;</div>
<div class="line">    h.width = uint16_t(Width);</div>
<div class="line">    h.reserved = 0;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Write shading data to local file.</span></div>
<div class="line">    fwrite(&amp;h, <span class="keyword">sizeof</span>(h), 1, fp);</div>
<div class="line">    fwrite(pCoeffs, <span class="keyword">sizeof</span>(uint32_t), NumCoeffs, fp);</div>
<div class="line">    fclose(fp);</div>
<div class="line">    <span class="keyword">delete</span>[] pCoeffs;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Copy data from a local file to a file in the camera.</span></div>
<div class="line"><span class="keywordtype">void</span> UploadFile(Camera_t&amp; camera,</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pCameraFilename,</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">char</span> *pLocalFilename)</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Open local file.</span></div>
<div class="line">    FILE *fp = fopen(pLocalFilename, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> ( fp == NULL )</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;Can not open file &#39;%s&#39;\n&quot;</span>, pLocalFilename);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Determine file size.</span></div>
<div class="line">    fseek(fp, 0, SEEK_END);</div>
<div class="line">    <span class="keywordtype">size_t</span> Size = ftell(fp);</div>
<div class="line">    rewind(fp);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (Size == 0)</div>
<div class="line">    {</div>
<div class="line">        fclose(fp);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Read data from local file into pBuf.</span></div>
<div class="line">    <span class="keywordtype">char</span> *pBuf = <span class="keyword">new</span> <span class="keywordtype">char</span>[Size];</div>
<div class="line">    <span class="keywordtype">size_t</span> read = fread(pBuf, 1, Size, fp);</div>
<div class="line">    fclose(fp);</div>
<div class="line">    <span class="keywordflow">if</span> (read != Size)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group___base___public_impl.html#ga16e6d812cf9af13e0f4106c77689e46b">RUNTIME_EXCEPTION</a>(<span class="stringliteral">&quot;Failed to read from file &#39;%s&#39;\n&quot;</span>, pLocalFilename);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Transfer data to camera.</span></div>
<div class="line">    GenApi::ODevFileStream stream( &amp;camera.GetNodeMap(), pCameraFilename);</div>
<div class="line">    stream.write(pBuf, streamsize(Size));</div>
<div class="line">    stream.close();</div>
<div class="line"></div>
<div class="line">    <span class="keyword">delete</span>[] pBuf;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">// Check the success of &#39;CreateShadingData&#39; and &#39;UploadFile&#39; by</span></div>
<div class="line"><span class="comment">//     - activating and enabling the uploaded shading data file</span></div>
<div class="line"><span class="comment">//     - grabbing one image</span></div>
<div class="line"><span class="comment">//     - calculating the multipliers again, expecting them to be close to 1.0</span></div>
<div class="line"><span class="keywordtype">void</span> CheckShadingData(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    uint32_t Width = (uint32_t)camera.Width.GetValue();</div>
<div class="line">    uint32_t Height = (uint32_t)camera.Height.GetValue();</div>
<div class="line">    int32_t BytesPerPixel = 1;</div>
<div class="line">    <span class="keywordflow">if</span> (SupportsRGB(camera))</div>
<div class="line">    {</div>
<div class="line">        BytesPerPixel = 3;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Activate and enable the gain shading set that was just uploaded.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">    camera.ShadingSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#acecae23fdd39060b0944580556952c46abc1d8313476d4317bae9fc483dbe1951">ShadingSelector_GainShading</a>);</div>
<div class="line">    camera.ShadingSetSelector.SetValue(ShadingSet);</div>
<div class="line">    camera.ShadingSetActivate.Execute();</div>
<div class="line">    camera.ShadingEnable.SetValue(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Grab image and calculate multipliers just to print the new Max/Min ratio.</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line"></div>
<div class="line">    uint32_t NumCoeffs = BytesPerPixel * Width;</div>
<div class="line">    <span class="keywordtype">double</span> *pDblCoeff = <span class="keyword">new</span> <span class="keywordtype">double</span>[NumCoeffs];</div>
<div class="line">    AverageLines( camera,</div>
<div class="line">                  Width,</div>
<div class="line">                  Height,</div>
<div class="line">                  NumCoeffs,</div>
<div class="line">                  pDblCoeff);</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After applying shading correction:&quot;</span> &lt;&lt; endl;</div>
<div class="line">    CalculateCoeffs(Width, Height, NumCoeffs, pDblCoeff);</div>
<div class="line">    <span class="keyword">delete</span>[] pDblCoeff;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Check whether camera supports RGB pixel formats.</span></div>
<div class="line"><span class="keywordtype">bool</span> SupportsRGB(Camera_t&amp; camera)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_gen_api_1_1node__vector.html">GenApi::NodeList_t</a> Entries;</div>
<div class="line">    camera.PixelFormat.GetEntries(Entries);</div>
<div class="line">    <span class="keywordtype">bool</span> Result = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; Entries.size(); i++)</div>
<div class="line">    {</div>
<div class="line">        GenApi::INode *pNode = Entries[i];</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___gen_api___public_interface.html#gaf50a08b3955f5d590b690fb25849b602">IsAvailable</a>(pNode-&gt;GetAccessMode()))</div>
<div class="line">        {</div>
<div class="line">            GenApi::IEnumEntry *pEnum = <span class="keyword">dynamic_cast&lt;</span>GenApi::IEnumEntry *<span class="keyword">&gt;</span>(pNode);</div>
<div class="line">            <span class="keyword">const</span> <a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a> sym(pEnum-&gt;GetSymbolic());</div>
<div class="line">            <span class="keywordflow">if</span> (sym.find(<a class="code" href="class_gen_i_cam_1_1gcstring.html">GenICam::gcstring</a>(<span class="stringliteral">&quot;RGB&quot;</span>)) != string::npos)</div>
<div class="line">            {</div>
<div class="line">                Result = <span class="keyword">true</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> Result;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_ParametrizeCamera_UserSets"></a>
ParametrizeCamera_UserSets</h1>
<div class="fragment"><div class="line"><span class="comment">// ParametrizeCamera_UserSets.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Demonstrates how to use user configuration sets (user sets) and how to configure the camera</span></div>
<div class="line"><span class="comment">    to start up with the user defined settings of user set 1.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    You can also configure your camera using the pylon Viewer and</span></div>
<div class="line"><span class="comment">    store your custom settings in a user set of your choice.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    ATTENTION:</span></div>
<div class="line"><span class="comment">    Executing this sample will overwrite all current settings in user set 1.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if defined( USE_1394 )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Setting for using  Basler IEEE 1394 cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/1394/Basler1394InstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBasler1394InstantCamera Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_IIDC1394CameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_GIGE )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Setting for using Basler GigE cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_gig_e_instant_camera_8h.html">pylon/gige/BaslerGigEInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_gig_e_instant_camera.html">Pylon::CBaslerGigEInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_GigECameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_CAMERALINK )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Setting for using Basler Camera Link cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;pylon/cameralink/BaslerCameraLinkInstantCamera.h&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> Pylon::CBaslerCameraLinkInstantCamera Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_CLCameraParams;</div>
<div class="line"><span class="preprocessor">#elif defined ( USE_USB )</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">// Setting for using Basler USB cameras.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_basler_usb_instant_camera_8h.html">pylon/usb/BaslerUsbInstantCamera.h</a>&gt;</span></div>
<div class="line"><span class="keyword">typedef</span> <a class="code" href="class_pylon_1_1_c_basler_usb_instant_camera.html">Pylon::CBaslerUsbInstantCamera</a> Camera_t;</div>
<div class="line"><span class="keyword">using namespace </span>Basler_UsbCameraParams;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#error Camera type is not specified. For example, define USE_GIGE for using GigE cameras.</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Only look for cameras supported by Camera_t</span></div>
<div class="line">        <a class="code" href="class_pylon_1_1_c_device_info.html">CDeviceInfo</a> info;</div>
<div class="line">        info.<a class="code" href="class_pylon_1_1_c_device_info.html#a9212c5956d9d7a8c205d0de022e3c633">SetDeviceClass</a>( Camera_t::DeviceClass());</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Create an instant camera object with the first found camera device matching the specified device class.</span></div>
<div class="line">        Camera_t camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice( info));</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Print the model name of the camera.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Using device &quot;</span> &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Open the camera.</span></div>
<div class="line">        camera.Open();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Remember the current default user set selector so we can restore it later when cleaning up.</span></div>
<div class="line"><span class="preprocessor">#ifdef USE_USB</span></div>
<div class="line"><span class="preprocessor"></span>        <a class="code" href="namespace_basler___usb_camera_params.html#a42a39c5dbe99639cf80d0c38d16d53c2">UserSetDefaultEnums</a> oldDefaultUserSet = camera.UserSetDefault.GetValue();</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        <a class="code" href="namespace_basler___gig_e_camera.html#ac6f8a6457c8af9cd6333fef87be51ae0">UserSetDefaultSelectorEnums</a> oldDefaultUserSet = camera.UserSetDefaultSelector.GetValue();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">// Load default settings.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Loading default settings&quot;</span> &lt;&lt; endl;</div>
<div class="line">        camera.UserSetSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac0bc96e84e653b95d3f24af434080569a32e4d9143cc72afe83dbe39eb73ff341">UserSetSelector_Default</a>);</div>
<div class="line">        camera.UserSetLoad.Execute();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Set gain and exposure time values.</span></div>
<div class="line">        <span class="comment">// The camera won&#39;t let you set specific values when related auto functions are active.</span></div>
<div class="line">        <span class="comment">// So we need to disable the related auto functions before setting the values.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Turning off Gain Auto and Exposure Auto.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#ifdef USE_USB</span></div>
<div class="line"><span class="preprocessor"></span>        camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485ad0346f077c0475fb62fb6ffbbf8dfdbc">GainAuto_Off</a>);</div>
<div class="line">        camera.Gain.SetValue(camera.Gain.GetMin());</div>
<div class="line">        camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac141268336be5ea564c759fd14cdcc7e">ExposureAuto_Off</a>);</div>
<div class="line">        camera.ExposureTime.SetValue(camera.ExposureTime.GetMin());</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        camera.GainAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a61ffc0f9ac98b7eb04368aa4c848e485ad0346f077c0475fb62fb6ffbbf8dfdbc">GainAuto_Off</a>);</div>
<div class="line">        camera.GainRaw.SetValue(camera.GainRaw.GetMin());</div>
<div class="line">        camera.ExposureAuto.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#a74a2ea0f3a8c54e03dca27464de1e410ac141268336be5ea564c759fd14cdcc7e">ExposureAuto_Off</a>);</div>
<div class="line">        camera.ExposureTimeRaw.SetValue(camera.ExposureTimeRaw.GetMin());</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="comment">// Save to user set 1.</span></div>
<div class="line">        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// ATTENTION:</span></div>
<div class="line">        <span class="comment">// This will overwrite all settings previously saved in user set 1.</span></div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Saving currently active settings to user set 1.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        camera.UserSetSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac0bc96e84e653b95d3f24af434080569a71d226160b8de26aa46d6ea7855040da">UserSetSelector_UserSet1</a>);</div>
<div class="line">        camera.UserSetSave.Execute();</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Show default settings.</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Loading default settings.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        camera.UserSetSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac0bc96e84e653b95d3f24af434080569a32e4d9143cc72afe83dbe39eb73ff341">UserSetSelector_Default</a>);</div>
<div class="line">        camera.UserSetLoad.Execute();</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Default settings&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;================&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#ifdef USE_USB</span></div>
<div class="line"><span class="preprocessor"></span>        cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.ExposureTime.GetValue() &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.ExposureTimeRaw.GetValue() &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">// Show user set 1 settings.</span></div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Loading user set 1 settings.&quot;</span> &lt;&lt; endl;</div>
<div class="line">        camera.UserSetSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac0bc96e84e653b95d3f24af434080569a71d226160b8de26aa46d6ea7855040da">UserSetSelector_UserSet1</a>);</div>
<div class="line">        camera.UserSetLoad.Execute();</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;User set 1 settings&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;===================&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#ifdef USE_USB</span></div>
<div class="line"><span class="preprocessor"></span>        cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.Gain.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.ExposureTime.GetValue() &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        cout &lt;&lt; <span class="stringliteral">&quot;Gain          : &quot;</span> &lt;&lt; camera.GainRaw.GetValue() &lt;&lt; endl;</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Exposure time : &quot;</span> &lt;&lt; camera.ExposureTimeRaw.GetValue() &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifdef USE_USB</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="comment">// Set user set 1 as default user set:</span></div>
<div class="line">        <span class="comment">// When the camera wakes up it will be configured</span></div>
<div class="line">        <span class="comment">// with the settings from user set 1.</span></div>
<div class="line">        camera.UserSetDefault.SetValue(<a class="code" href="namespace_basler___usb_camera_params.html#a42a39c5dbe99639cf80d0c38d16d53c2a01b08bbf7fab2109b556f136242057cf">UserSetDefault_UserSet1</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Restore the default user set selector.</span></div>
<div class="line">        camera.UserSetDefault.SetValue(oldDefaultUserSet);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="comment">// Set user set 1 as default user set:</span></div>
<div class="line">        <span class="comment">// When the camera wakes up it will be configured</span></div>
<div class="line">        <span class="comment">// with the settings from user set 1.</span></div>
<div class="line">        camera.UserSetDefaultSelector.SetValue(<a class="code" href="namespace_basler___gig_e_camera.html#ac6f8a6457c8af9cd6333fef87be51ae0aad88e479b7d1563e20d1a1fa1f764daa">UserSetDefaultSelector_UserSet1</a>);</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Restore the default user set selector.</span></div>
<div class="line">        camera.UserSetDefaultSelector.SetValue(oldDefaultUserSet);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">// Close the camera.</span></div>
<div class="line">        camera.Close();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Utility_Image"></a>
Utility_Image</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_Image.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to use the pylon image classes CPylonImage and CPylonBitmapImage.</span></div>
<div class="line"><span class="comment">    CPylonImage supports handling image buffers of the various existing pixel types.</span></div>
<div class="line"><span class="comment">    CPylonBitmapImage can be used to easily create Windows bitmaps for displaying images.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Additionally, there are two image class related interfaces in pylon IImage and IReusableImage.</span></div>
<div class="line"><span class="comment">    IImage can be used to access image properties and image buffer.</span></div>
<div class="line"><span class="comment">    The IReusableImage interface extends the IImage interface to be able to reuse the</span></div>
<div class="line"><span class="comment">    resources of the image to represent a different image.</span></div>
<div class="line"><span class="comment">    Both CPylonImage and CPylonBitmapImage implement the IReusableImage interface.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The pylon grab result class CGrabResultPtr provides a cast operator to the IImage</span></div>
<div class="line"><span class="comment">    interface. This eases the use of the grab result together with the image classes.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/SampleImageCreator.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"><span class="keyword">using namespace </span>GenApi;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">// This is a helper function for printing image properties.</span></div>
<div class="line"><span class="keywordtype">void</span> PrintImageProperties( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image)</div>
<div class="line">{</div>
<div class="line">    cout</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot;Buffer: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#acaa38a434f7af02fa66152b1896a70e1">GetBuffer</a>()</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot; Image Size: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#adc15c54596375660034b4c1343964ee1">GetImageSize</a>()</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot; Width: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#a22fbbcca00d1a61937c993c08f39fe2f">GetWidth</a>()</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot; Height: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#ac9be055f4fc62ab9f77d5c7e46ddcfa5">GetHeight</a>()</div>
<div class="line">        &lt;&lt; <span class="stringliteral">&quot; Unique: &quot;</span> &lt;&lt; image.<a class="code" href="struct_pylon_1_1_i_image.html#a62ecccd30065657a1ae1f1eb237d4122">IsUnique</a>()</div>
<div class="line">        &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This is a helper function for showing an image on the screen.</span></div>
<div class="line"><span class="keywordtype">void</span> ShowImage( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image, <span class="keyword">const</span> <span class="keywordtype">char</span>* message = NULL)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Display the image.</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>    Pylon::DisplayImage(1, image);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> ( message)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; message &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Define some constants.</span></div>
<div class="line">        <span class="keyword">const</span> uint32_t cWidth = 640;</div>
<div class="line">        <span class="keyword">const</span> uint32_t cHeight = 480;</div>
<div class="line">        <span class="keyword">const</span> uint32_t cPadding = 10;</div>
<div class="line">        <span class="keyword">const</span> uint8_t cSampleGrayValue = 160;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The CPylonImage basics.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create a pylon image with the given properties.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageMono8( <a class="code" href="class_pylon_1_1_c_pylon_image.html#aa7c78d9b78895cc86291fd8c7e4d0e6e">CPylonImage::Create</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight));</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The properties of the newly created image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( imageMono8);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The image class allocates a buffer large enough to hold the image.</span></div>
<div class="line">            <span class="comment">// We can use it for example to fill it with a test pattern.</span></div>
<div class="line">            uint32_t width = imageMono8.GetWidth();</div>
<div class="line">            uint32_t height = imageMono8.GetHeight();</div>
<div class="line">            uint8_t* buffer = <span class="keyword">static_cast&lt;</span>uint8_t*<span class="keyword">&gt;</span>( imageMono8.GetBuffer());</div>
<div class="line">            uint8_t* p = buffer;</div>
<div class="line">            <span class="keywordflow">for</span> (uint32_t y = 0; y &lt; height; ++y)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">for</span> (uint32_t x = 0; x &lt; width; ++x, ++p)</div>
<div class="line">                {</div>
<div class="line">                     p = (uint8_t)((x + y) % 256);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Show the image on the screen in a separate window.</span></div>
<div class="line">            ShowImage( imageMono8, <span class="stringliteral">&quot;The created image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// If the pylon image object is copied or assigned then no image data copy is made.</span></div>
<div class="line">            <span class="comment">// All objects reference the same buffer now. The image properties have been copied though.</span></div>
<div class="line">            <span class="comment">// The IsUnique() method can be used to check whether a buffer is</span></div>
<div class="line">            <span class="comment">// referenced by multiple pylon image objects.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sameImageMono8A( imageMono8);</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sameImageMono8B = imageMono8;</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After assignment multiple images reference the same data.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( imageMono8);</div>
<div class="line">            PrintImageProperties( sameImageMono8A);</div>
<div class="line">            PrintImageProperties( sameImageMono8B);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The CopyImage method can be used to create a full copy of an image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> copiedImage;</div>
<div class="line">            copiedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a00a4cf91476cc2ea8046e7cd1166b916">CopyImage</a>( imageMono8);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of a full copy of the test image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( copiedImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The Release() method can be used to release any data.</span></div>
<div class="line">            <span class="comment">// The object sameImageMono8B is now empty.</span></div>
<div class="line">            <span class="comment">// No buffer is allocated.</span></div>
<div class="line">            sameImageMono8B.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7e80bb3083a3a62aa6e522b7e1cda4d9">Release</a>();</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Assigned to image object after releasing the image data.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( sameImageMono8B);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// A newly created image object is empty.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> reusedImage;</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;A newly created image object.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( reusedImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The Reset() method can be used to reset the image properties</span></div>
<div class="line">            <span class="comment">// and allocate a new buffer if required.</span></div>
<div class="line">            reusedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties. A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( reusedImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Reset() never decreases the allocated buffer size if the</span></div>
<div class="line">            <span class="comment">// new image fits into the current buffer.</span></div>
<div class="line">            <span class="comment">// The new image is smaller and therefore the buffer is reused.</span></div>
<div class="line">            reusedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth / 2, cHeight);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties to a smaller image. The buffer is reused.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( reusedImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// A new buffer is allocated because the old buffer is</span></div>
<div class="line">            <span class="comment">// too small for the new image.</span></div>
<div class="line">            reusedImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth * 2, cHeight);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties to a larger image.&quot;</span> &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( reusedImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The imageMono8 and sameImageMono8A objects still reference the</span></div>
<div class="line">            <span class="comment">// same image. Because of this the buffer referenced by sameImageMono8A</span></div>
<div class="line">            <span class="comment">// cannot be reused. A new buffer is allocated.</span></div>
<div class="line">            sameImageMono8A.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties while the image data is referenced by another image. A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( sameImageMono8A);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// For advanced use cases additional line padding and the image orientation can be defined, too.</span></div>
<div class="line">            sameImageMono8A.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight, cPadding, <a class="code" href="group___pylon___image_handling_support.html#gga710fdd7cf7f7516c56b90cbdf0085f70aa3a5473ebd7fe7ec97418120bdac6e95">ImageOrientation_TopDown</a>);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties with additional padding.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( sameImageMono8A);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The image objects are destroyed here and the buffers are deleted.</span></div>
<div class="line">            <span class="comment">// An allocated image buffer is deleted if it is not referenced</span></div>
<div class="line">            <span class="comment">// anymore by a pylon image object.</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// The CPylonImage and user buffers.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create pylon images.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageA;</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageB;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a buffer for demonstration purposes. This could be a buffer of a 3rd party</span></div>
<div class="line">            <span class="comment">// image library.</span></div>
<div class="line">            <span class="comment">// This example uses a C++ library vector class for buffer allocation for automatic</span></div>
<div class="line">            <span class="comment">// deletion of the buffer.</span></div>
<div class="line">            vector&lt;uint8_t&gt; buffer( (cWidth + cPadding) * cHeight, cSampleGrayValue);</div>
<div class="line">            <span class="keywordtype">size_t</span> bufferSize = buffer.size() * <span class="keyword">sizeof</span>( buffer[ 0 ]);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Initializes the image object with the user buffer. Now the image object could be used to</span></div>
<div class="line">            <span class="comment">// interface with other pylon objects more easily, e.g. the image format converter.</span></div>
<div class="line">            <span class="comment">// The user buffer must not be deleted while it is attached to the pylon image object.</span></div>
<div class="line">            imageA.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a67baf1ca3232cbfb75e20a4238fca49a">AttachUserBuffer</a>( &amp;buffer[ 0 ], bufferSize, <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight, cPadding);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of an image with an attached user buffer.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( imageA);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The image can be assigned new properties as long as the image fits into the user buffer.</span></div>
<div class="line">            imageA.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth / 2, cHeight);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties to a smaller image. The buffer is reused.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( imageA);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// This causes an exception because the attached user buffer is too small for the image.</span></div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;Try calling the Reset method when the user buffer is too small for the new image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                imageA.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth * 2, cHeight);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">            {</div>
<div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Expected exception: &quot;</span> &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The CopyImage method can be used to create a full copy of the provided image.</span></div>
<div class="line">            imageB.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a00a4cf91476cc2ea8046e7cd1166b916">CopyImage</a>( &amp;buffer[ 0 ], bufferSize, <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight, cPadding);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of an image after a full copy of a user buffer.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( imageB);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The image objects are destroyed. The user must take care of the deletion of the user buffer.</span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// The CPylonImage and grab results.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Try to get a grab result.</span></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Waiting for an image to be grabbed.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> Camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line">                Camera.GrabOne( 1000, ptrGrabResult);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">            {</div>
<div class="line"></div>
<div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div>
<div class="line">                     &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span> ( ptrGrabResult &amp;&amp; ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a57fbc04cd2abf3bf6307e07131dd0503">GrabSucceeded</a>())</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Create a pylon image.</span></div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> image;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// A pylon grab result class CGrabResultPtr provides a cast operator to IImage.</span></div>
<div class="line">                <span class="comment">// That&#39;s why it can be used like an image, e.g. to print its properties or</span></div>
<div class="line">                <span class="comment">// to show it on the screen.</span></div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the grabbed image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                PrintImageProperties( ptrGrabResult);</div>
<div class="line">                ShowImage( ptrGrabResult, <span class="stringliteral">&quot;The grabbed image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Initializes the image object with the buffer from the grab result.</span></div>
<div class="line">                <span class="comment">// This prevents the reuse of the buffer for grabbing as long as it is</span></div>
<div class="line">                <span class="comment">// not released.</span></div>
<div class="line">                <span class="comment">// Please note that this is not relevant for this example because the</span></div>
<div class="line">                <span class="comment">// camera object has been destroyed already.</span></div>
<div class="line">                image.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a9ddc2a45eeaa8b2e7b3b9837f1a30c5b">AttachGrabResultBuffer</a>( ptrGrabResult);</div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of an image with an attached grab result.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                PrintImageProperties( image);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Get the grab result image properties for later use.</span></div>
<div class="line">                <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">EPixelType</a> pixelType = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#abe43d67716927206836833a16490688f">GetPixelType</a>();</div>
<div class="line">                uint32_t width = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a26338b92c78e4217325de426842df600">GetWidth</a>();</div>
<div class="line">                uint32_t height = ptrGrabResult-&gt;<a class="code" href="class_pylon_1_1_c_grab_result_data.html#a6ec284bd2d65d6bd899d444639317709">GetHeight</a>();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Now the grab result can be released. The grab result buffer is now</span></div>
<div class="line">                <span class="comment">// only held by the pylon image.</span></div>
<div class="line">                ptrGrabResult.<a class="code" href="class_pylon_1_1_c_grab_result_ptr.html#a05a3e58e7b5370ce9ffa6500094124aa">Release</a>();</div>
<div class="line">                cout &lt;&lt; <span class="stringliteral">&quot;After the grab result has been released.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                PrintImageProperties( image);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// If a grab result is referenced then always a new buffer is allocated on reset.</span></div>
<div class="line">                image.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( pixelType, width / 2, height);</div>
<div class="line">                cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After resetting the image properties while a grab result is referenced. A new Buffer is allocated.&quot;</span> &lt;&lt; endl;</div>
<div class="line">                PrintImageProperties( image);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Loading and saving.</span></div>
<div class="line">        <span class="comment">// Please note that this is only a brief overview. Please look at the</span></div>
<div class="line">        <span class="comment">// Utility_ImageLoadAndSave sample for more information.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create pylon images.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageSaved;</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageLoaded;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            imageSaved = SampleImageCreator::CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// Save the image. The image is automatically converted to</span></div>
<div class="line">            <span class="comment">// a format that can be saved if needed.</span></div>
<div class="line">            imageSaved.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#ae1ea36e435611e22913d822dd31adf26">Save</a>( ImageFileFormat_Bmp, <span class="stringliteral">&quot;JuliaFractal.bmp&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// Load the image.</span></div>
<div class="line">            imageLoaded.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#a4c95aae72ac9ff4bf54dc8d5be8e7daf">Load</a>( <span class="stringliteral">&quot;JuliaFractal.bmp&quot;</span>);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the loaded sample image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( imageLoaded);</div>
<div class="line">            ShowImage( imageLoaded, <span class="stringliteral">&quot;The loaded sample image is shown.&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// The GetAOI method.</span></div>
<div class="line">        <span class="comment">// This method can be used to create partial images derived from an image, e.g. thumbnail images for displaying</span></div>
<div class="line">        <span class="comment">// defects.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create pylon images.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sampleImage;</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> aoi;</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> aoiFromAoi;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            sampleImage = SampleImageCreator::CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the sample image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( sampleImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Compute the coordinates of the area of interest.</span></div>
<div class="line">            uint32_t topLeftX = cWidth / 4;</div>
<div class="line">            uint32_t topLeftY = cHeight /2;</div>
<div class="line">            uint32_t width = cWidth / 4;</div>
<div class="line">            uint32_t height = cHeight / 4;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a new pylon image containing the AOI.</span></div>
<div class="line">            <span class="comment">// No image data is copied. The same image buffer is referenced.</span></div>
<div class="line">            <span class="comment">// The buffer start is now the first pixel of the and the</span></div>
<div class="line">            <span class="comment">// padding property of the pylon image object is used to skip over the</span></div>
<div class="line">            <span class="comment">// part of a line outside of the AOI.</span></div>
<div class="line">            aoi = sampleImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#ad2feef6107750688a12f3c396c21ca7d">GetAoi</a>( topLeftX, topLeftY, width, height);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After creating an AOI.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( aoi);</div>
<div class="line">            ShowImage( aoi, <span class="stringliteral">&quot;The AOI of the sample image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// CopyImage( const IImage&amp; image, size_t newPaddingX) can be used to create a</span></div>
<div class="line">            <span class="comment">// full copy and to remove the additional padding.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> copiedAoi;</div>
<div class="line">            copiedAoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a00a4cf91476cc2ea8046e7cd1166b916">CopyImage</a>( aoi, 0);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The properties of a full copy of the AOI image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( copiedAoi);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// GetAOI can be applied again for the AOI image.</span></div>
<div class="line">            topLeftX = width / 4;</div>
<div class="line">            topLeftY = height / 4;</div>
<div class="line">            width = width / 2;</div>
<div class="line">            height = height / 2;</div>
<div class="line">            aoiFromAoi = aoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#ad2feef6107750688a12f3c396c21ca7d">GetAoi</a>( topLeftX, topLeftY, width, height);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// An AOI image is still valid if the source image object has been destroyed</span></div>
<div class="line">            <span class="comment">// or the image data has been released.</span></div>
<div class="line">            aoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7e80bb3083a3a62aa6e522b7e1cda4d9">Release</a>();</div>
<div class="line">            sampleImage.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7e80bb3083a3a62aa6e522b7e1cda4d9">Release</a>();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Show the image.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After creating an AOI of an AOI.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( aoiFromAoi);</div>
<div class="line">            ShowImage( aoiFromAoi, <span class="stringliteral">&quot;The AOI of the AOI of the sample image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The AOI image still references the buffer of the source image.</span></div>
<div class="line">            <span class="comment">// It is the only object that references this buffer.</span></div>
<div class="line">            <span class="comment">// That&#39;s why the full buffer can be reused if needed.</span></div>
<div class="line">            aoiFromAoi.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a7ebc34f672632902d160250baad044c9">Reset</a>( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;After reusing the buffer of the sample image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( aoiFromAoi);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// The GetPlane method.</span></div>
<div class="line">        <span class="comment">// This method can be used to work with the planes of</span></div>
<div class="line">        <span class="comment">// an planar image.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create an image object.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB8planar;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            imageRGB8planar = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ad6977d3d0a9dda6cd8dad71fd736ed5f">PixelType_RGB8planar</a>, cWidth, cHeight);</div>
<div class="line">            ShowImage( imageRGB8planar, <span class="stringliteral">&quot;The sample image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create images to access the planes of the planar image.</span></div>
<div class="line">            <span class="comment">// No image data is copied. The same image buffer is referenced.</span></div>
<div class="line">            <span class="comment">// The buffer start is the start of the plane and the pixel type</span></div>
<div class="line">            <span class="comment">// set to the corresponding pixel type of a plane.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> redPlane = imageRGB8planar.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a750744d96585230d5bcab162a71404c1">GetPlane</a>(0);</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> greenPlane = imageRGB8planar.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a750744d96585230d5bcab162a71404c1">GetPlane</a>(1);</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> bluePlane = imageRGB8planar.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a750744d96585230d5bcab162a71404c1">GetPlane</a>(2);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Show the planes.</span></div>
<div class="line">            ShowImage( redPlane, <span class="stringliteral">&quot;The red plane of the sample image is shown.&quot;</span>);</div>
<div class="line">            ShowImage( greenPlane, <span class="stringliteral">&quot;The green plane of the sample image is shown.&quot;</span>);</div>
<div class="line">            ShowImage( bluePlane, <span class="stringliteral">&quot;The blue plane of the sample image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Now a plane can be modified. Here the red plane is set to zero.</span></div>
<div class="line">            memset( redPlane.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a5414d746b31c5b9b79d6fb61849f77ea">GetBuffer</a>(), 0, greenPlane.<a class="code" href="class_pylon_1_1_c_pylon_image.html#af7288552affcf345c35be5cf5a507d50">GetImageSize</a>());</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Show the image.</span></div>
<div class="line">            ShowImage( imageRGB8planar, <span class="stringliteral">&quot;The sample image with red set to zero is shown.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// The CPylonBitmapImage class.</span></div>
<div class="line">        <span class="comment">// This class can be used to easily create Windows bitmaps, e.g. for displaying.</span></div>
<div class="line">        {</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// Create a bitmap image</span></div>
<div class="line">            CPylonBitmapImage bitmapImage;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> sampleImage;</div>
<div class="line">            sampleImage = SampleImageCreator::CreateJuliaFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The bitmap image class automatically converts input images to the</span></div>
<div class="line">            <span class="comment">// corresponding bitmap format.</span></div>
<div class="line">            bitmapImage.CopyImage( sampleImage);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the bitmap image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( bitmapImage);</div>
<div class="line">            ShowImage( bitmapImage, <span class="stringliteral">&quot;The sample image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// If the pylon bitmap image object is copied or assigned then no image data copy is made.</span></div>
<div class="line">            <span class="comment">// All objects reference the same Windows bitmap now.</span></div>
<div class="line">            <span class="comment">// The IsUnique() method can be used to check whether the Windows bitmap is</span></div>
<div class="line">            <span class="comment">// referenced by multiple pylon image objects.</span></div>
<div class="line">            CPylonBitmapImage sameBitmapImageA( bitmapImage);</div>
<div class="line">            CPylonBitmapImage sameBitmapImageB = bitmapImage;</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;After assignment multiple images reference the same data.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( bitmapImage);</div>
<div class="line">            PrintImageProperties( sameBitmapImageA);</div>
<div class="line">            PrintImageProperties( sameBitmapImageB);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The Release() method can be used to release any data.</span></div>
<div class="line">            <span class="comment">// The object sameBitmapImageB is now empty.</span></div>
<div class="line">            <span class="comment">// No bitmap is allocated.</span></div>
<div class="line">            sameBitmapImageB.Release();</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Assigned to image object after releasing the image data.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( sameBitmapImageB);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The image format converter can be used to have more control over the conversion.</span></div>
<div class="line">            <span class="comment">// In this example a monochrome version of a sample image is created.</span></div>
<div class="line">            <span class="comment">// See the Utility_ImageFormatConverter sample for more details.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( bitmapImage, sampleImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Show the image.</span></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the converted bitmap image.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( bitmapImage);</div>
<div class="line">            ShowImage( bitmapImage, <span class="stringliteral">&quot;The to monochrome converted sample image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Reset can be used to reuse the underlying windows bitmap if</span></div>
<div class="line">            <span class="comment">// the new image properties are equal to the old ones.</span></div>
<div class="line">            <span class="comment">// No additional program logic is needed for reusing a bitmap</span></div>
<div class="line">            <span class="comment">// until new image properties are required.</span></div>
<div class="line">            bitmapImage.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth, cHeight);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the reused bitmap image with equal properties.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( bitmapImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Now the new image properties are different. A new Windows</span></div>
<div class="line">            <span class="comment">// bitmap is created.</span></div>
<div class="line">            bitmapImage.Reset( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>, cWidth / 2, cHeight);</div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The properties of the newly allocated bitmap image with different properties.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( bitmapImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The bitmap image class provides a cast operator for HBitmap.</span></div>
<div class="line">            <span class="comment">// The cast operator can be used for instance to provide the handle to Windows API functions.</span></div>
<div class="line">            HBITMAP bitmap = bitmapImage;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The bitmap can also be detached to use it without the pylon image object.</span></div>
<div class="line">            bitmap = bitmapImage.Detach();</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The pylon bitmap image is now empty.</span></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;The image object after detaching the image data.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            PrintImageProperties( bitmapImage);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// After detaching the bitmap must be deleted by the user.</span></div>
<div class="line">            ::DeleteObject( bitmap);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>        }</div>
<div class="line"></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Utility_ImageFormatConverter"></a>
Utility_ImageFormatConverter</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_ImageLoadAndSave.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to use the image format</span></div>
<div class="line"><span class="comment">    converter class CImageFormatConverter.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The image format converter accepts all image formats</span></div>
<div class="line"><span class="comment">    produced by Basler camera devices and it is able to</span></div>
<div class="line"><span class="comment">    convert these to a number of output formats.</span></div>
<div class="line"><span class="comment">    The conversion can be controlled by several parameters.</span></div>
<div class="line"><span class="comment">    See the converter class documentation for more details.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#    include &lt;pylon/PylonGUI.h&gt;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/SampleImageCreator.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"><span class="keyword">using namespace </span>GenApi;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="comment">//This is a helper function for showing an image on the screen.</span></div>
<div class="line"><span class="keywordtype">void</span> ShowImage( <a class="code" href="struct_pylon_1_1_i_image.html">IImage</a>&amp; image, <span class="keyword">const</span> <span class="keywordtype">char</span>* message = NULL)</div>
<div class="line">{</div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="comment">// Display the image.</span></div>
<div class="line">    Pylon::DisplayImage(1, image);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    <span class="keywordflow">if</span> ( message)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; endl &lt;&lt; message &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Press Enter to continue.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Define some constants.</span></div>
<div class="line">        <span class="keyword">const</span> uint32_t cWidth = 640;</div>
<div class="line">        <span class="keyword">const</span> uint32_t cHeight = 480;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// The image format converter basics.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// First the image format converter class must be created.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Second the converter must be parameterized.</span></div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067a71cbd9075e8bffa35e39c4aafefcd631">PixelType_Mono16</a>;</div>
<div class="line">            converter.<a class="code" href="class_basler___image_format_converter_params_1_1_c_image_format_converter_params___params.html#a8726267b699b4b40c2faf32c482ad5aa">OutputBitAlignment</a> = <a class="code" href="namespace_basler___image_format_converter_params.html#a0d468bef66c1b6903dece1bcb2ab4016a0aace6b0b321e3a6903c0d859e248579">OutputBitAlignment_MsbAligned</a>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Then it can be used to convert input images to</span></div>
<div class="line">            <span class="comment">// the target image format.</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB8packed = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div>
<div class="line">            ShowImage( imageRGB8packed, <span class="stringliteral">&quot;The source image is shown.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create a target image</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> targetImage;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Convert the image. Note that there are more overloaded Convert methods available, e.g.</span></div>
<div class="line">            <span class="comment">// for converting the image from or to a user buffer.</span></div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( targetImage, imageRGB8packed);</div>
<div class="line">            ShowImage( targetImage, <span class="stringliteral">&quot;The target image is shown.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Checking if conversion is needed.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create a target image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> targetImage;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Create the converter and set parameters.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_format_converter.html">CImageFormatConverter</a> converter;</div>
<div class="line">            converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a3e2947f7f3b7d20c5fb351e2a3953f5a">OutputPixelFormat</a> = <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ac5f47f20839fba7496c9c6e7f9f10457">PixelType_Mono8</a>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Try to get a grab result for demonstration purposes.</span></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Waiting for an image to be grabbed.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> Camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> ( Camera.GrabOne( 1000, ptrGrabResult))</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// Now we can check if conversion is required.</span></div>
<div class="line">                    <span class="keywordflow">if</span> ( converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#ae48e971b1d2cc8d88efa1480c2cae578">ImageHasDestinationFormat</a>( ptrGrabResult))</div>
<div class="line">                    {</div>
<div class="line">                        <span class="comment">// No conversion is needed. It can be skipped for saving processing</span></div>
<div class="line">                        <span class="comment">// time.</span></div>
<div class="line">                        ShowImage( ptrGrabResult, <span class="stringliteral">&quot;The grabbed image is shown.&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        <span class="comment">// Conversion is needed.</span></div>
<div class="line">                        converter.<a class="code" href="class_pylon_1_1_c_image_format_converter.html#a1d4690d0b5b50581d229bd00794430b7">Convert</a>( targetImage, ptrGrabResult);</div>
<div class="line">                        ShowImage( targetImage, <span class="stringliteral">&quot;The converted image is shown.&quot;</span>);</div>
<div class="line">                    }</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">            {</div>
<div class="line"></div>
<div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div>
<div class="line">                    &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="sample_Utility_ImageLoadAndSave"></a>
Utility_ImageLoadAndSave</h1>
<div class="fragment"><div class="line"><span class="comment">// Utility_ImageLoadAndSave.cpp</span></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Note: Before getting started, Basler recommends reading the Programmer&#39;s Guide topic</span></div>
<div class="line"><span class="comment">    in the pylon C++ API documentation that gets installed with pylon.</span></div>
<div class="line"><span class="comment">    If you are upgrading to a higher major version of pylon, Basler also</span></div>
<div class="line"><span class="comment">    strongly recommends reading the Migration topic in the pylon C++ API documentation.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This sample illustrates how to load and save images.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The CImagePersistence class provides static functions for</span></div>
<div class="line"><span class="comment">    loading and saving images. It uses the image</span></div>
<div class="line"><span class="comment">    class related interfaces IImage and IReusableImage of pylon.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    IImage can be used to access image properties and image buffer.</span></div>
<div class="line"><span class="comment">    Therefore, it is used when saving images. In addition to that images can also</span></div>
<div class="line"><span class="comment">    be saved by passing an image buffer and the corresponding properties.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The IReusableImage interface extends the IImage interface to be able to reuse</span></div>
<div class="line"><span class="comment">    the resources of the image to represent a different image. The IReusableImage</span></div>
<div class="line"><span class="comment">    interface is used when loading images.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The CPylonImage and CPylonBitmapImage image classes implement the</span></div>
<div class="line"><span class="comment">    IReusableImage interface. These classes can therefore be used as targets</span></div>
<div class="line"><span class="comment">    for loading images.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The gab result smart pointer classes provide a cast operator to the IImage</span></div>
<div class="line"><span class="comment">    interface. This makes it possible to pass a grab result directly to the</span></div>
<div class="line"><span class="comment">    function that saves images to disk.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Include files to use the PYLON API.</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pylon_includes_8h.html">pylon/PylonIncludes.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../include/SampleImageCreator.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using pylon objects.</span></div>
<div class="line"><span class="keyword">using namespace </span>Pylon;</div>
<div class="line"><span class="keyword">using namespace </span>GenApi;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Namespace for using cout.</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// The exit code of the sample application.</span></div>
<div class="line">    <span class="keywordtype">int</span> exitCode = 0;</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Before using any pylon methods, the pylon runtime must be initialized. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#af8226766d27eea5b88d21e56889719ce">PylonInitialize</a>();</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Define some constants.</span></div>
<div class="line">        <span class="keyword">const</span> uint32_t cWidth = 640;</div>
<div class="line">        <span class="keyword">const</span> uint32_t cHeight = 480;</div>
<div class="line"></div>
<div class="line">        <span class="comment">// Saving images using the CImagePersistence class.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB16packed = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aff00240097210121652eabf0a69032a8">PixelType_RGB16packed</a>, cWidth, cHeight);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// If required the image is automatically converted to a new image and then saved.</span></div>
<div class="line">            <span class="comment">// An image with a bit depth higher than 8 Bit is stored with 16 Bit bit depth</span></div>
<div class="line">            <span class="comment">// if supported by the image file format. In this case the pixel data is MSB aligned.</span></div>
<div class="line">            <span class="comment">// If more control over the conversion is required then the CImageFormatConverter class</span></div>
<div class="line">            <span class="comment">// can be used to convert the input image before saving it (not shown).</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda9474c4f4880b9fd6acb85132357f8490">ImageFileFormat_Tiff</a>, <span class="stringliteral">&quot;MandelbrotFractal.tiff&quot;</span>, imageRGB16packed);</div>
<div class="line"></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The image &quot;</span> &lt;&lt; (<a class="code" href="class_pylon_1_1_c_image_persistence.html#a01a7ee0507d68216cd97db758e933a51">CImagePersistence::CanSaveWithoutConversion</a>( <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda9474c4f4880b9fd6acb85132357f8490">ImageFileFormat_Tiff</a>, imageRGB16packed) ? <span class="stringliteral">&quot;can&quot;</span> : <span class="stringliteral">&quot;can not&quot;</span>)</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; be saved without conversion as tiff.&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// The CPylonImage and the CPylonBitmapImage classes provide a member function</span></div>
<div class="line">            <span class="comment">// for saving images for convenience. This function calls CImagePersistence::Save().</span></div>
<div class="line">            imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#ae1ea36e435611e22913d822dd31adf26">Save</a>( ImageFileFormat_Bmp, <span class="stringliteral">&quot;MandelbrotFractal.bmp&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// CanSaveWithoutConversion() can be used to check whether a conversion is performed when saving the image.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The image &quot;</span> &lt;&lt; (<a class="code" href="class_pylon_1_1_c_image_persistence.html#a01a7ee0507d68216cd97db758e933a51">CImagePersistence::CanSaveWithoutConversion</a>( ImageFileFormat_Bmp, imageRGB16packed) ? <span class="stringliteral">&quot;can&quot;</span> : <span class="stringliteral">&quot;can not&quot;</span>)</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot; be saved without conversion as bmp.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">            <span class="comment">// Additionally it is possible to save image data that is not held by an image class.</span></div>
<div class="line">            <span class="comment">// For demonstration purposes only, the buffer and the image properties from the sample image are used here.</span></div>
<div class="line">            <a class="code" href="group___pylon___image_handling_support.html#ga159b4bb49b4973a30bc8b39a4fcf3067">EPixelType</a> pixelType = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a654b22ae664ce9e0ab14c1854e1b5ae7">GetPixelType</a>();</div>
<div class="line">            uint32_t width = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a2c91921b4502697206c877ded8cd42cd">GetWidth</a>();</div>
<div class="line">            uint32_t height = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a5a28c115bd785ef5a0914cd8bd349b38">GetHeight</a>();</div>
<div class="line">            <span class="keywordtype">size_t</span> paddingX = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#aedcf4e0c0785af11e5a836d2be1fa4af">GetPaddingX</a>();</div>
<div class="line">            <a class="code" href="group___pylon___image_handling_support.html#ga710fdd7cf7f7516c56b90cbdf0085f70">EImageOrientation</a> orientation = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a59a53fa195f8de1f28cf31a518b9556c">GetOrientation</a>();</div>
<div class="line">            <span class="keywordtype">size_t</span> bufferSize = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#af7288552affcf345c35be5cf5a507d50">GetImageSize</a>();</div>
<div class="line">            <span class="keywordtype">void</span>* buffer = imageRGB16packed.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a5414d746b31c5b9b79d6fb61849f77ea">GetBuffer</a>();</div>
<div class="line"></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>(</div>
<div class="line">                <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda6a2ec5f9ee0cf11fa1417b73bf5ccef1">ImageFileFormat_Png</a>,</div>
<div class="line">                <span class="stringliteral">&quot;MandelbrotFractal.png&quot;</span>,</div>
<div class="line">                buffer,</div>
<div class="line">                bufferSize,</div>
<div class="line">                pixelType,</div>
<div class="line">                width,</div>
<div class="line">                height,</div>
<div class="line">                paddingX,</div>
<div class="line">                orientation);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        <span class="comment">// Loading images.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create pylon images.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB16packedFromTiff;</div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageBGR8packedFromBmp;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Load the tiff image directly via the ImageFile interface.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a788383f8c5747eb4c85c8259dfe6ad99">CImagePersistence::Load</a>( <span class="stringliteral">&quot;MandelbrotFractal.tiff&quot;</span>, imageRGB16packedFromTiff);</div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The pixel type of the image is &quot;</span> &lt;&lt; (imageRGB16packedFromTiff.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a654b22ae664ce9e0ab14c1854e1b5ae7">GetPixelType</a>() == <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aff00240097210121652eabf0a69032a8">PixelType_RGB16packed</a> ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>)</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot;RGB16packed.&quot;</span> &lt;&lt; endl;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>            <span class="comment">// The CPylonImage and the CPylonBitmapImage classes provide a member function</span></div>
<div class="line">            <span class="comment">// for loading images for convenience. This function calls CImagePersistence::Load().</span></div>
<div class="line">            imageBGR8packedFromBmp.<a class="code" href="class_pylon_1_1_c_pylon_image_base.html#a4c95aae72ac9ff4bf54dc8d5be8e7daf">Load</a>( <span class="stringliteral">&quot;MandelbrotFractal.bmp&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The format of the loaded image from the bmp file is BGR8packed instead of the original RGB16packed format because</span></div>
<div class="line">            <span class="comment">// it had to be converted for saving it in the bmp format.</span></div>
<div class="line">            cout &lt;&lt; <span class="stringliteral">&quot;The pixel type of the image is &quot;</span> &lt;&lt; (imageBGR8packedFromBmp.<a class="code" href="class_pylon_1_1_c_pylon_image.html#a654b22ae664ce9e0ab14c1854e1b5ae7">GetPixelType</a>() == <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067ab49f2952dd6a68835d6619cf771db015">PixelType_BGR8packed</a>  ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;not &quot;</span>)</div>
<div class="line">                &lt;&lt; <span class="stringliteral">&quot;BGR8packed.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"><span class="comment">//JPEG handling is only supported on windows</span></div>
<div class="line"><span class="preprocessor">#ifdef PYLON_WIN_BUILD</span></div>
<div class="line"><span class="preprocessor"></span>        <span class="comment">// Selecting the image quality when saving in JPEG format.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Create a sample image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_pylon_image.html">CPylonImage</a> imageRGB8packed = SampleImageCreator::CreateMandelbrotFractal( <a class="code" href="group___pylon___image_handling_support.html#gga159b4bb49b4973a30bc8b39a4fcf3067aed40cb79221f2ecf6af9170d10cb17bc">PixelType_RGB8packed</a>, cWidth, cHeight);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// The JPEG image quality can be adjusted in the range from 0 to 100.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence_options.html">CImagePersistenceOptions</a> additionalOptions;</div>
<div class="line">            <span class="comment">// Set the lowest quality value.</span></div>
<div class="line">            additionalOptions.<a class="code" href="class_pylon_1_1_c_image_persistence_options.html#a10684776370037bd1b2f2ed81dadab88">SetQuality</a>(0);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Save the image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( ImageFileFormat_Jpeg, <span class="stringliteral">&quot;MandelbrotFractal_0.jpg&quot;</span>, imageRGB8packed, &amp;additionalOptions);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Set the highest quality value.</span></div>
<div class="line">            additionalOptions.<a class="code" href="class_pylon_1_1_c_image_persistence_options.html#a10684776370037bd1b2f2ed81dadab88">SetQuality</a>(100);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Save the image.</span></div>
<div class="line">            <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( ImageFileFormat_Jpeg, <span class="stringliteral">&quot;MandelbrotFractal_100.jpg&quot;</span>, imageRGB8packed, &amp;additionalOptions);</div>
<div class="line">        }</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="comment">// Saving grabbed images.</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Try to get a grab result.</span></div>
<div class="line">            cout &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Waiting for an image to be grabbed.&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// This smart pointer will receive the grab result data.</span></div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_grab_result_ptr.html">CGrabResultPtr</a> ptrGrabResult;</div>
<div class="line">                <a class="code" href="class_pylon_1_1_c_instant_camera.html">CInstantCamera</a> Camera( <a class="code" href="class_pylon_1_1_c_tl_factory.html#a1d3fbd0bb73b4acd88de7cff893554ab">CTlFactory::GetInstance</a>().CreateFirstDevice());</div>
<div class="line"></div>
<div class="line">                <span class="keywordflow">if</span> ( Camera.GrabOne( 1000, ptrGrabResult))</div>
<div class="line">                {</div>
<div class="line">                    <span class="comment">// The pylon grab result smart pointer classes provide a cast operator to the IImage</span></div>
<div class="line">                    <span class="comment">// interface. This makes it possible to pass a grab result directly to the</span></div>
<div class="line">                    <span class="comment">// function that saves an image to disk.</span></div>
<div class="line">                    <a class="code" href="class_pylon_1_1_c_image_persistence.html#a7d3176eb5beed8ed333495615d4a4974">CImagePersistence::Save</a>( <a class="code" href="group___pylon___image_handling_support.html#gga8bf3ed15161132846cd68070762ba2bda6a2ec5f9ee0cf11fa1417b73bf5ccef1">ImageFileFormat_Png</a>, <span class="stringliteral">&quot;GrabbedImage.png&quot;</span>, ptrGrabResult);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">            {</div>
<div class="line"></div>
<div class="line">                cerr &lt;&lt; <span class="stringliteral">&quot;Could not grab an image: &quot;</span> &lt;&lt; endl</div>
<div class="line">                    &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (<span class="keyword">const</span> GenericException &amp;e)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Error handling.</span></div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;An exception occurred.&quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt; e.GetDescription() &lt;&lt; endl;</div>
<div class="line">        exitCode = 1;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Comment the following two lines to disable waiting on exit.</span></div>
<div class="line">    cerr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;Press Enter to exit.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">while</span>( cin.get() != <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// Releases all pylon resources. </span></div>
<div class="line">    <a class="code" href="namespace_pylon.html#abc016fa068af2d088de26dd899a1f544">PylonTerminate</a>(); </div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> exitCode;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
<hr><address><small>
&copy;&nbsp;2006-2015&nbsp;<a href="http://www.baslerweb.com/">Basler AG</a>   (Tue Dec 15 2015 14:56:55)</small></address>
</body>
</html>
